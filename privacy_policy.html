<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms & Conditions | Al-Khat Al-Mudi</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        body { padding-top: 80px; background-color: #f8fafc; }

        /* LEGAL HERO SECTION */
        .legal-hero {
            background: linear-gradient(135deg, var(--brand-navy) 0%, #0a101f 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
            border-bottom: 4px solid var(--brand-cyan);
            position: relative;
            overflow: hidden;
        }
        
        .legal-hero::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(0,174,239,0.05) 0%, rgba(0,0,0,0) 60%);
            pointer-events: none;
        }

        .legal-hero h1 { font-size: clamp(2rem, 4vw, 3rem); color: white; margin-bottom: 10px; }
        .legal-hero p { color: var(--brand-cyan); font-weight: bold; letter-spacing: 1px; }

        /* DOCUMENT CONTAINER */
        .legal-document-wrapper {
            max-width: 900px;
            margin: -40px auto 80px auto; /* Pulls it up over the hero slightly */
            background: white;
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.08);
            border-top: 4px solid var(--brand-magenta);
            position: relative;
            z-index: 10;
        }

        .legal-content { color: var(--text-light); line-height: 1.8; font-size: 1rem; }
        .legal-content h3 { color: var(--brand-navy); margin-top: 30px; margin-bottom: 15px; font-size: 1.3rem; border-left: 3px solid var(--brand-cyan); padding-left: 10px; }
        .legal-content p { margin-bottom: 20px; }
        .legal-content ul { margin-bottom: 20px; padding-left: 20px; list-style-type: square; }
        .legal-content li { margin-bottom: 10px; }

        @media (max-width: 768px) {
            .legal-document-wrapper { padding: 30px 20px; margin-top: -20px; border-radius: 10px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo-box" style="text-decoration: none;">
                    <div class="dna-logo">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <div class="brand-text">
                        <h3>Al-Khat Al-Mudi</h3>
                        <span id="header-brand_sub">TRANSLATION SERVICES</span>
                    </div>
                </a>
                
                <div id="user-profile-section" class="user-status-hidden">
                    <a href="profile.html" class="user-orb">
                        <i class="fas fa-user-circle"></i>
                        <span id="user-display-name">Client</span>
                    </a>
                    <button onclick="handleLogout()" class="logout-link">Logout</button>
                </div>
                
                <a href="#menu" class="menu-toggle" id="menuToggle">
                    <span class="text" id="header-menu_btn">MENU</span>
                    <div class="hamburger"><span></span><span></span><span></span></div>
                </a>
            </nav>
        </div>
    </header>

    <section class="legal-hero">
        <div class="container">
            <h1 id="legal-title">Privacy Policy</h1>
            <p id="legal-date">Last Updated: March 2026</p>
        </div>
    </section>

    <main class="container">
        <div class="legal-document-wrapper">
            <div class="legal-content">
				<h3>1. Zero-Trust Data Handling</h3>
					<p>Al-Khat Al-Mudi utilizes an advanced "Alpha Backend" architecture. We adhere to a Zero-Trust sovereign layer policy, ensuring that your personal documents, passports, and corporate contracts are verifiable but strictly untraceable by outside entities.</p>

				<h3>2. Information We Collect</h3>
				<ul>
					<li><strong>Identity Data:</strong> Full names, contact numbers, and email addresses provided during registration.</li>
					<li><strong>Document Data:</strong> The files you upload for translation processing.</li>
					<li><strong>System Telemetry:</strong> Connection protocols (e.g., TLS 1.3) and basic usage analytics to ensure portal security.</li>
				</ul>

				<h3>3. Document Retention & Purging</h3>
				<p>We do not hold your sensitive documents indefinitely. Once a translation is marked "Completed" and securely delivered to you, the source and translated files are automatically purged from our active operational servers after 30 days, retaining only the billing metadata.</p>

				<h3>4. Third-Party Sharing</h3>
				<p>Your data is strictly confidential. We do not sell, trade, or expose your information to third-party marketing agencies. Data is only accessible to cleared Al-Khat operatives actively assigned to your translation.</p>
			</div>
        </div>
    </main>

        <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="terms_conditions.html">Terms of Service</a></li>
                        <li><a href="privacy_policy.html">Privacy Policy</a></li>
                        <li><a href="refund_policy.html">Refund Policy</a></li>
                        <li><a href="pci_dss_compliance.html">PCI DSS Compliance</a></li>
						<li><a href="confidentiality.html">Confidentiality</a></li>
						<li><a href="hr_department.html">HR Department & Employees Affairs</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            
            <div class="terminal-content">
                <h4 class="terminal-title" id="overlay-title">AL-KHAT SECURE GATEWAY v4.0</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Initializing request...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink" id="overlay-status">PROCESSING...</div>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
	<script type="module" src="assets/js/global-auth.js"></script>
    <script>
        // Hero Carousel Logic
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        let slideInterval = setInterval(() => { moveSlide(1); }, 5000);

        function moveSlide(n) {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => { moveSlide(1); }, 5000);
            slides[slideIndex].classList.remove('active');
            slideIndex += n;
            if (slideIndex >= totalSlides) { slideIndex = 0; }
            if (slideIndex < 0) { slideIndex = totalSlides - 1; }
            slides[slideIndex].classList.add('active');
        }
		
		/* ==========================================================================
		   SERVICE MODAL ENGINE (MULTILINGUAL UPGRADE)
		   ========================================================================== */
		const serviceData = {
			en: {
				workflowTitle: "Process Workflow",
				bookBtn: "Book This Service",
				services: {
					legal: { title: "Legal Translation", desc: "Certified translation for contracts, court documents, and powers of attorney. Recognized by the Ministry of Justice and all major embassies.", steps: ["Document Assessment", "Certified Translation", "Legal Proofreading", "Official Stamping"] },
					immigration: { title: "Immigration & Visas", desc: "Accurate translation of birth certificates, marriage licenses, and passports required for embassy appointments and residency applications.", steps: ["ID Verification", "Standardized Translation", "Consistency Check", "Embassy-Ready Delivery"] },
					academic: { title: "Academic Translation", desc: "Translation of university transcripts, diplomas, and research papers for students applying to international universities.", steps: ["Grade Conversion", "Terminological Accuracy", "Formatting Sync", "Final Certification"] },
					website: { title: "Website Localization", desc: "Adapt your digital content for new markets. We translate websites, apps, and software interfaces while maintaining UI integrity.", steps: ["String Extraction", "Cultural Adaptation", "UI/UX Review", "Linguistic Testing"] },
					medical: { title: "Medical Translation", desc: "Precise translation of medical reports, prescriptions, and pharmaceutical documents handled by specialized medical linguists.", steps: ["Terminology Scan", "Expert Translation", "Confidentiality Audit", "Medical Review"] },
					proofreading: { title: "Proofreading", desc: "Polishing your existing documents to ensure grammatical perfection, stylistic consistency, and natural-sounding language.", steps: ["Grammar Audit", "Style Adjustment", "Flow Optimization", "Final Polish"] }
				}
			},
			ar: {
				workflowTitle: "خطوات العمل",
				bookBtn: "احجز هذه الخدمة",
				services: {
					legal: { title: "الترجمة القانونية", desc: "ترجمة معتمدة للعقود، وثائق المحاكم، والوكالات. معترف بها من قبل وزارة العدل والسفارات.", steps: ["تقييم المستند", "ترجمة معتمدة", "تدقيق قانوني", "الختم الرسمي"] },
					immigration: { title: "الهجرة والتأشيرات", desc: "ترجمة دقيقة لشهادات الميلاد وعقود الزواج وجوازات السفر المطلوبة لمواعيد السفارات.", steps: ["التحقق من الهوية", "ترجمة موحدة", "فحص التطابق", "تسليم جاهز للسفارة"] },
					academic: { title: "الترجمة الأكاديمية", desc: "ترجمة كشوف الدرجات الجامعية والدبلومات والأبحاث للطلاب المتقدمين للجامعات الدولية.", steps: ["تحويل الدرجات", "دقة المصطلحات", "تنسيق متطابق", "الاعتماد النهائي"] },
					website: { title: "تعريب المواقع", desc: "تكييف المحتوى الرقمي للأسواق الجديدة. نترجم المواقع والتطبيقات وواجهات البرامج.", steps: ["استخراج النصوص", "تكييف ثقافي", "مراجعة واجهة المستخدم", "اختبار لغوي"] },
					medical: { title: "الترجمة الطبية", desc: "ترجمة دقيقة للتقارير الطبية والوصفات الطبية والوثائق الصيدلانية من قبل لغويين متخصصين.", steps: ["فحص المصطلحات", "ترجمة متخصصة", "مراجعة السرية", "تدقيق طبي"] },
					proofreading: { title: "التدقيق اللغوي", desc: "صقل مستنداتك الحالية لضمان الكمال النحوي والاتساق الأسلوبي واللغة الطبيعية.", steps: ["تدقيق نحوي", "تعديل الأسلوب", "تحسين التدفق", "اللمسات النهائية"] }
				}
			},
			ru: {
				workflowTitle: "Рабочий Процесс",
				bookBtn: "Заказать услугу",
				services: {
					legal: { title: "Юридический перевод", desc: "Заверенный перевод договоров, судебных документов и доверенностей.", steps: ["Оценка документа", "Заверенный перевод", "Юридическая проверка", "Официальная печать"] },
					immigration: { title: "Иммиграция и визы", desc: "Точный перевод свидетельств о рождении, браке и паспортов для посольств.", steps: ["Проверка ID", "Стандартный перевод", "Проверка соответствия", "Готовность для посольства"] },
					academic: { title: "Академический перевод", desc: "Перевод выписок, дипломов и исследовательских работ для студентов.", steps: ["Конвертация оценок", "Точность терминов", "Синхронизация формата", "Финальная сертификация"] },
					website: { title: "Локализация сайтов", desc: "Адаптация цифрового контента для новых рынков (сайты, приложения, ПО).", steps: ["Извлечение строк", "Культурная адаптация", "Обзор UI/UX", "Тестирование"] },
					medical: { title: "Медицинский перевод", desc: "Точный перевод медицинских заключений и рецептов специалистами.", steps: ["Сканирование терминов", "Экспертный перевод", "Аудит конфиденциальности", "Мед. проверка"] },
					proofreading: { title: "Вычитка", desc: "Доработка документов для обеспечения грамматического совершенства.", steps: ["Грамматический аудит", "Корректировка стиля", "Оптимизация потока", "Финальная правка"] }
				}
			},
			du: { // Mapped to German logic based on your flag setup
				workflowTitle: "Arbeitsablauf",
				bookBtn: "Diesen Service buchen",
				services: {
					legal: { title: "Juristische Übersetzung", desc: "Beglaubigte Übersetzung von Verträgen, Gerichtsdokumenten und Vollmachten.", steps: ["Dokumentenprüfung", "Beglaubigte Übersetzung", "Juristisches Lektorat", "Offizielle Stempelung"] },
					immigration: { title: "Einwanderung & Visa", desc: "Genaue Übersetzung von Geburtsurkunden, Heiratsurkunden und Pässen.", steps: ["ID-Überprüfung", "Standardisierte Übersetzung", "Konsistenzprüfung", "Botschaftsfertige Lieferung"] },
					academic: { title: "Akademische Übersetzung", desc: "Übersetzung von Universitätszeugnissen, Diplomen und Forschungsarbeiten.", steps: ["Notenumrechnung", "Terminologische Genauigkeit", "Format-Synchronisierung", "Endgültige Zertifizierung"] },
					website: { title: "Website-Lokalisierung", desc: "Passen Sie Ihre digitalen Inhalte an neue Märkte an.", steps: ["Textextraktion", "Kulturelle Anpassung", "UI/UX-Überprüfung", "Linguistisches Testen"] },
					medical: { title: "Medizinische Übersetzung", desc: "Präzise Übersetzung von medizinischen Berichten und Rezepten.", steps: ["Terminologie-Scan", "Fachübersetzung", "Vertraulichkeitsprüfung", "Medizinische Überprüfung"] },
					proofreading: { title: "Korrekturlesen", desc: "Aufpolieren Ihrer vorhandenen Dokumente für grammatikalische Perfektion.", steps: ["Grammatikprüfung", "Stilanpassung", "Flussoptimierung", "Letzter Feinschliff"] }
				}
			}
		};

		window.openServiceModal = function(serviceKey) {
			// 1. Detect Language
			const currentLang = localStorage.getItem('site-lang') || 'en';
			const langData = serviceData[currentLang] || serviceData['en'];
			const data = langData.services[serviceKey];
			if (!data) return;

			// 2. Map the icons independently of the language
			const icons = {
				legal: "fas fa-gavel", immigration: "fas fa-passport", academic: "fas fa-graduation-cap",
				website: "fas fa-laptop-code", medical: "fas fa-stethoscope", proofreading: "fas fa-file-signature"
			};

			// 3. Inject Content
			document.getElementById('modal-service-title').innerText = data.title;
			document.getElementById('modal-service-desc').innerText = data.desc;
			document.getElementById('modal-service-icon').innerHTML = `<i class="${icons[serviceKey]}"></i>`;
			
			// 4. Translate UI Headers & Buttons inside the modal
			const workflowHeader = document.querySelector('#service-modal h4');
			if(workflowHeader) workflowHeader.innerHTML = `<i class="fas fa-stream"></i> ${langData.workflowTitle}`;
			const bookBtn = document.querySelector('#service-modal .btn-primary');
			if(bookBtn) bookBtn.innerText = langData.bookBtn;

			// 5. Flip Direction for Arabic
			const modalBody = document.querySelector('#service-modal .modal-body');
			if(currentLang === 'ar') {
				modalBody.style.textAlign = 'right';
				modalBody.style.direction = 'rtl';
			} else {
				modalBody.style.textAlign = 'left';
				modalBody.style.direction = 'ltr';
			}

			// 6. Clear and Build Steps
			const stepsContainer = document.getElementById('modal-service-steps');
			stepsContainer.innerHTML = "";
			data.steps.forEach((step, index) => {
				const stepHtml = `
					<div class="step">
						<div class="step-num">${index + 1}</div>
						<div class="step-text"><strong>${step}</strong></div>
					</div>`;
				stepsContainer.innerHTML += stepHtml;
			});

			// Show Modal
			document.getElementById('service-modal').classList.add('active');
		}

		window.closeServiceModal = function() {
			document.getElementById('service-modal').classList.remove('active');
		}

		// Close modal when clicking outside the box
		window.addEventListener('click', (e) => {
			const modal = document.getElementById('service-modal');
			if (e.target === modal) closeServiceModal();
		});
    </script>
	
	<script type="module">
			// --- 1. UNIFIED FIREBASE IMPORTS (Directly from CDN) ---
			import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
			import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
			import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

			const firebaseConfig = {
				apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
				authDomain: "al-khat-backend.firebaseapp.com",
				projectId: "al-khat-backend",
				storageBucket: "al-khat-backend.firebasestorage.app", 
				messagingSenderId: "310033181926",
				appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
			};

			// --- 2. ANTI-RACE CONDITION ARMOR ---
			// If an app exists (from global-auth), grab it. If not, build it. NO CRASHES.
			const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
			const db = getFirestore(app);
			const storage = getStorage(app);

			// --- 3. PROMOTIONS ENGINE ---
			async function loadPromotions() {
				const track = document.getElementById('promo-track');
				const section = document.getElementById('special-ops-section');
				
				const currentLang = localStorage.getItem('site-lang') || 'en';
				const adDict = {
					en: { badge: "LIMITED", offer: "Offer:", was: "was", valid: "Valid:", reqs: "Requirements:", btnRes: "Reserve", btnInq: "Inquiry" },
					ar: { badge: "حصري", offer: "العرض:", was: "بدلاً من", valid: "صالح:", reqs: "المتطلبات:", btnRes: "حجز", btnInq: "استفسار" },
					ru: { badge: "ОГРАНИЧЕНО", offer: "Предложение:", was: "было", valid: "Действителен:", reqs: "Требования:", btnRes: "Забронировать", btnInq: "Запрос" },
					du: { badge: "BEGRENZT", offer: "Angebot:", was: "war", valid: "Gültig:", reqs: "Anforderungen:", btnRes: "Reservieren", btnInq: "Anfrage" }
				};
				const ui = adDict[currentLang] || adDict['en'];

				try {
					const q = query(collection(db, "promotions"), orderBy("timestamp", "desc"));
					const snapshot = await getDocs(q);
					
					if(snapshot.empty) { section.style.display = 'none'; return; }
					track.innerHTML = ""; 

					snapshot.forEach(docSnap => {
						const data = docSnap.data();
						const reqsList = data.reqs.split(',').map(item => `<li><i class="fas fa-check" style="color:#00ff88; margin-right:5px;"></i> ${item.trim()}</li>`).join('');
						const alignStyle = currentLang === 'ar' ? 'text-align: right; direction: rtl;' : 'text-align: left; direction: ltr;';
						
						const imgHtml = data.imageUrl 
							? `<div class="promo-img-box" style="background-image: url('${data.imageUrl}')"></div>` 
							: `<div class="promo-img-box" style="display:flex; align-items:center; justify-content:center; background: linear-gradient(45deg, #0b1426, #1a2a4a);"><i class="fas fa-image" style="font-size: 3rem; opacity: 0.1;"></i></div>`;

						track.innerHTML += `
							<div class="promo-card" style="${alignStyle}">
								${imgHtml} <div class="promo-badge">${ui.badge}</div>
								<h3 style="margin-top:0; color:white;">${data.name}</h3>
								<p style="font-size:0.9rem; color:#ccc;">${data.desc}</p>
								
								<div class="promo-price">
									<span class="price-old" style="margin: 0 10px;">${ui.was} <strike>$${data.oldPrice}</strike></span>
									<span class="price-new">$${data.newPrice}</span>
								</div>

								<div style="font-size: 0.75rem; color: #ff4b5c; margin-bottom: 15px;">
									<i class="fas fa-clock"></i> ${ui.valid} ${data.startDate} ➝ ${data.endDate}
								</div>

								<div class="promo-reqs" style="${alignStyle}">
									<strong>${ui.reqs}</strong>
									<ul style="list-style:none; padding:0; margin: 5px 0 0 0;">${reqsList}</ul>
								</div>

								<div class="promo-actions">
									<button class="btn-buy" onclick="window.location.href='products_services_room.html?pkg=${docSnap.id}'">${ui.btnRes}</button>
									<button class="btn-inq" onclick="window.location.href='contacts.html'">${ui.btnInq}</button>
								</div>
							</div>
						`;
					});
				} catch (error) {
					console.error("Promo Engine Error:", error);
					track.innerHTML = "<p style='color:red;'>Failed to load signals.</p>";
				}
			}

			document.addEventListener('DOMContentLoaded', loadPromotions);

			// --- 4. UPLOAD ENGINE ---
			window.updateFileLabel = function() {
				const input = document.getElementById('real-file-input');
				const label = document.getElementById('drop-label-text');
				if(input.files.length > 0) {
					label.innerText = "READY: " + input.files[0].name;
					label.style.color = "#00f2ff"; 
					label.style.fontWeight = "bold";
				}
			}

			window.processUploadAndSubmit = async function(e) {
				e.preventDefault(); 

				const fileInput = document.getElementById('real-file-input');
				const googleInput = document.getElementById('google-entry-link'); 
				const submitBtn = document.getElementById('reservation-btn_submit');
				const form = document.getElementById('main-request-form');
				
				if(fileInput.files.length === 0) {
					alert("Please select a document for translation.");
					return;
				}

				submitBtn.innerText = "SECURING CONNECTION...";
				submitBtn.disabled = true;

				try {
					const file = fileInput.files[0];
					const fileName = Date.now() + '_' + file.name; 
					const storageRef = ref(storage, 'client_uploads/' + fileName);

					if (typeof startServerSequence === "function") {
						startServerSequence();
					}

					const snapshot = await uploadBytes(storageRef, file);
					const downloadURL = await getDownloadURL(snapshot.ref);
					
					googleInput.value = downloadURL;
					form.submit();

				} catch (error) {
					console.error("Transmission Error:", error);
					alert("Gateway Error: " + error.message);
					submitBtn.disabled = false;
					submitBtn.innerText = "Retry Transmission";
				}
			}
	</script>

</body>
</html>