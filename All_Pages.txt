// here is "All" the Pages in the [Root] Folder for the "https://alkhatalmudie.github.io" (Al-Khat Al-Mudi) Website:

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

1. (index.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Khat Al-Mudi | Professional Translation Services</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
</head>

<style>
    /* Hide scrollbar for Chrome/Safari/Edge but keep functionality */
    #promo-track::-webkit-scrollbar { display: none; }
    
    .promo-card {
        min-width: 320px;
        max-width: 350px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 242, 255, 0.2);
        border-radius: 15px;
        padding: 25px;
        scroll-snap-align: start;
        color: white;
        position: relative;
        overflow: hidden;
        flex-shrink: 0;
    }
    
    .promo-badge {
        position: absolute;
        top: 15px; right: -30px;
        background: var(--brand-magenta);
        color: white;
        font-weight: bold;
        font-size: 0.8rem;
        padding: 5px 30px;
        transform: rotate(45deg);
        box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    .promo-price { margin: 15px 0; }
    .price-old { text-decoration: line-through; color: #888; font-size: 1rem; margin-right: 10px; }
    .price-new { color: var(--brand-cyan); font-size: 1.8rem; font-weight: 900; }
    
    .promo-reqs { font-size: 0.85rem; color: #aaa; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; margin-bottom: 20px; }
    
    .promo-actions { display: flex; gap: 10px; }
    .promo-actions button { flex: 1; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.3s;}
    .btn-buy { background: var(--brand-cyan); color: #000; }
    .btn-buy:hover { background: white; }
    .btn-inq { background: transparent; border: 1px solid white; color: white; }
    .btn-inq:hover { background: rgba(255,255,255,0.1); }
	
	.promo-img-box {
        height: 160px;
        background-color: #0b1426;
        margin: -25px -25px 15px -25px; /* Pulls image to the edges of the card */
        border-bottom: 1px solid rgba(0, 242, 255, 0.2);
        background-size: cover;
        background-position: center;
    }
</style>

<body>

		<header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

		<section id="home" class="carousel">
			<div class="slide active">
				<div class="slide-bg bg-1"></div>
				<div class="slide-content">
					<h1 id="hero-slide1_title">Bridging Languages,<br>Connecting Worlds</h1>
					<p id="hero-slide1_desc">Amman's most trusted certified translation service. Accuracy you can rely on.</p>
					<a href="#reservation" class="btn btn-primary" id="hero-slide1_btn">Get a Free Quote</a>
				</div>
			</div>
			<div class="slide">
				<div class="slide-bg bg-2"></div>
				<div class="slide-content">
					<h1 id="hero-slide2_title">Official & Legal<br>Documentation</h1>
					<p id="hero-slide2_desc">Certified by the Ministry of Justice. We handle your contracts, visas, and certificates with speed.</p>
					<a href="#services" class="btn btn-primary" id="hero-slide2_btn">Our Services</a>
				</div>
			</div>
			<div class="slide">
				<div class="slide-bg bg-3"></div>
				<div class="slide-content dark-text">
					<h1 id="hero-slide3_title" style="color:var(--brand-navy)">The Luminous Line<br>of Communication</h1>
					<p id="hero-slide3_desc" style="color:var(--brand-dark)">Expert linguists located in the heart of Marka Al-Shamaliya.</p>
					<a href="#contact" class="btn btn-primary" id="hero-slide3_btn">Visit Our Office</a>
				</div>
			</div>

			<button class="carousel-btn prev" onclick="moveSlide(-1)"><i class="fas fa-chevron-left"></i></button>
			<button class="carousel-btn next" onclick="moveSlide(1)"><i class="fas fa-chevron-right"></i></button>
		</section>

		<section id="about" class="section-padding about-section">
			<div class="container">
				<div class="about-grid">
					<div class="about-image">
						<div class="about-shape">
							<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; text-align: center;">
								<i class="fas fa-language" style="font-size: 8rem; opacity: 0.2;"></i>
								<h2 style="font-size: 2rem; margin-top: 10px;">Since 2026</h2>
							</div>
						</div>
					</div>
					<div class="about-text">
						<h2 class="section-title" id="about-title">Who We Are</h2>
						<h3 class="arabic-text" id="about-arabic_name" style="color: var(--text-grey); margin-bottom: 20px; font-size: 1.5rem;">الخط المضيء للترجمة</h3>
						<p id="about-p1" style="margin-bottom: 20px; line-height: 1.8;">
							At <strong>Al-Khat Al-Mudi</strong> (The Luminous Line), we believe that translation is more than just swapping words; it’s about preserving meaning, tone, and intent. Located in Marka Al-Shamaliya, we serve individuals and businesses with certified translation services accepted by all government bodies and embassies in Jordan.
						</p>
						<p id="about-p2" style="margin-bottom: 30px; line-height: 1.8;">
							Whether you are a student applying abroad, a business expanding internationally, or dealing with complex legal documents, our team ensures your message remains clear and professional.
						</p>
						<div style="display: flex; gap: 20px;">
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_certified">Certified</span>
							</div>
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_confidential">Confidential</span>
							</div>
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_fast">Fast</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		
		<section style="padding: 60px 0; background-color: #080d1a;" id="special-ops-section">
			<div class="container">
				<h2 style="color: var(--brand-cyan); margin-bottom: 30px; border-left: 4px solid var(--brand-magenta); padding-left: 15px;">
					<i class="fas fa-star"></i> CURRENT OPERATIONS & OFFERS
				</h2>
				
				<div id="promo-track" style="display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; scroll-snap-type: x mandatory; scrollbar-width: none;">
					<div style="color: white; opacity: 0.5;"><i class="fas fa-circle-notch fa-spin"></i> Scanning for active offers...</div>
				</div>
			</div>
		</section>

		<section id="reservation" class="section-padding" style="background: linear-gradient(135deg, #f8fafc 0%, #eef2f6 100%);">
			<div class="container">
				<div class="reservation-grid">
                
                <div class="reservation-text">
                    <h2 class="section-title" id="reservation-title">Get Your Quote</h2>
                    <h3 id="reservation-subtitle" style="font-size: 2rem; margin-bottom: 20px; color: var(--brand-navy);">Ready to Translate?</h3>
                    <p id="reservation-desc" style="margin-bottom: 30px; color: var(--text-light);">
                        Upload your documents securely and get a fast, certified quote within minutes. We respect your privacy and deadlines.
                    </p>

                    <div class="steps-container">
                        <div class="step-item">
                            <div class="step-number">01</div>
                            <div class="step-content">
                                <h4 id="reservation-step1_title">Upload File</h4>
                                <p id="reservation-step1_desc">Select your document (PDF, Word, Image)</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">02</div>
                            <div class="step-content">
                                <h4 id="reservation-step2_title">Select Details</h4>
                                <p id="reservation-step2_desc">Choose languages and urgency</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">03</div>
                            <div class="step-content">
                                <h4 id="reservation-step3_title">Receive Quote</h4>
                                <p id="reservation-step3_desc">We send you the price & time instantly</p>
                            </div>
                        </div>
                    </div>
                </div>

                <script type="text/javascript">
					function startServerSequence() {
						const overlay = document.getElementById('processing-overlay');
						const logBox = document.getElementById('terminal-log');
						const progressBar = document.getElementById('progress-bar');
						overlay.classList.add('active');

						// The "Hacker" Sequence
						const messages = [
							{ text: "> Secure Link Established (TLS 1.3)...", delay: 500 },
							{ text: "> File Upload Verified (Firebase Cloud)...", delay: 1500 }, // Updated Text
							{ text: "> Encrypting Metadata...", delay: 3000 },
							{ text: "> Handshaking with Google Forms API...", delay: 5000 },
							{ text: "> Packet Transmission Complete.", delay: 7000 },
							{ text: "> Ticket Generated Successfully.", delay: 8500 },
							{ text: "> DONE.", delay: 9500, type: "success" }
						];

						messages.forEach(msg => {
							setTimeout(() => {
								const p = document.createElement('div');
								p.className = `log-line ${msg.type || ''}`;
								p.innerText = msg.text;
								logBox.appendChild(p);
								// Auto-scroll to bottom
								logBox.scrollTop = logBox.scrollHeight;
							}, msg.delay);
						});

						let width = 0;
						const interval = setInterval(() => {
							width += 1;
							progressBar.style.width = width + '%';
							if (width >= 100) clearInterval(interval);
						}, 100);

						setTimeout(() => {
							alert('Request Received! We will review your documents and reply shortly.');
							window.location.reload();
						}, 10500);
					}
				</script>

					<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe> 

					<form id="main-request-form" class="glass-form" action="https://docs.google.com/forms/d/e/1FAIpQLScDbenz1p7B5GI6IVC6QlPTkgjvaCHWUTN4NDT6sK9y5J1g2Q/formResponse" method="post" target="hidden_iframe" onsubmit="processUploadAndSubmit(event);">
						
						<div class="form-header">
							<h4 id="reservation-form_header">Quick Request</h4>
						</div>
						
						<div class="form-group">
							<input type="text" id="reservation-ph_name" name="entry.2005620554" placeholder="Full Name" required>
							<i class="fas fa-user input-icon"></i>
						</div>

						<div class="form-row">
							<div class="form-group">
								<input type="email" id="reservation-ph_email" name="entry.84455640" placeholder="Email Address" required>
								<i class="fas fa-envelope input-icon"></i>
							</div>
							<div class="form-group">
								<input type="tel" id="reservation-ph_phone" name="entry.1065046570" placeholder="Phone Number" required>
								<i class="fas fa-phone input-icon"></i>
							</div>
						</div>

						<div class="form-row">
							<div class="form-group">
								<select name="entry.1166974658" required>
									<option value="" disabled selected id="reservation-ph_from">Translate From...</option>
									<option value="English">English</option>
									<option value="Arabic">Arabic</option>
									<option value="Russian">Russian</option>
								</select>
								<i class="fas fa-globe-americas input-icon"></i>
							</div>
							<div class="form-group">
								<select name="entry.839337160" required>
									<option value="" disabled selected id="reservation-ph_to">Translate To...</option>
									<option value="Arabic">Arabic</option>
									<option value="English">English</option>
									<option value="Russian">Russian</option>
								</select>
								<i class="fas fa-language input-icon"></i>
							</div>
						</div>

						<div class="form-group" style="margin-top: 15px;">
							<input type="file" id="real-file-input" style="display: none;" onchange="updateFileLabel()">
							
							<input type="hidden" id="google-entry-link" name="entry.1269480027">

							<label for="real-file-input" class="drop-zone-container" style="cursor: pointer;">
								<div class="drop-zone-visual">
									<i class="fas fa-cloud-upload-alt"></i>
									<span id="drop-label-text">Click to Select Document</span>
									<small>(PDF, DOCX, JPG supported)</small>
								</div>
							</label>
						</div>

						<button type="submit" class="btn btn-primary" id="reservation-btn_submit" style="width: 100%; margin-top: 20px;">Send Request</button>
					</form>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="section-padding services-section">
        <div class="container">
            <div style="text-align: center; max-width: 700px; margin: 0 auto;">
                <h2 class="section-title" id="services-section_title">Our Services</h2>
                <p id="services-section_desc">Comprehensive language solutions tailored to your specific needs.</p>
            </div>

            <div class="services-grid">
                <div class="service-card" onclick="openServiceModal('legal')" style="cursor: pointer;">
                    <i class="fas fa-gavel service-icon"></i>
                    <h3 id="services-s1_title">Legal Translation</h3>
                    <p id="services-s1_desc">Certified translation for contracts, court documents, and powers of attorney. Recognized by the Ministry of Justice.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('immigration')" style="cursor: pointer;">
                    <i class="fas fa-passport service-icon"></i>
                    <h3 id="services-s2_title">Immigration & Visas</h3>
                    <p id="services-s2_desc">Accurate translation of birth certificates, marriage licenses, and passports for embassy appointments.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('academic')" style="cursor: pointer;">
                    <i class="fas fa-graduation-cap service-icon"></i>
                    <h3 id="services-s3_title">Academic Translation</h3>
                    <p id="services-s3_desc">Translation of university transcripts, diplomas, and research papers for students studying abroad.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('website')" style="cursor: pointer;">
                    <i class="fas fa-laptop-code service-icon"></i>
                    <h3 id="services-s4_title">Website Localization</h3>
                    <p id="services-s4_desc">Adapt your digital content for new markets. We translate websites, apps, and software interfaces.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('medical')" style="cursor: pointer;">
                    <i class="fas fa-stethoscope service-icon"></i>
                    <h3 id="services-s5_title">Medical Translation</h3>
                    <p id="services-s5_desc">Precise translation of medical reports, prescriptions, and pharmaceutical documents.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('proofreading')" style="cursor: pointer;">
                    <i class="fas fa-file-signature service-icon"></i>
                    <h3 id="services-s6_title">Proofreading</h3>
                    <p id="services-s6_desc">Polishing your existing documents to ensure grammatical perfection and stylistic consistency.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h2>20+</h2>
                    <p id="stats-languages">Languages Supported</p>
                </div>
                <div class="stat-item">
                    <h2>100%</h2>
                    <p id="stats-acceptance">Acceptance Rate</p>
                </div>
                <div class="stat-item">
                    <h2>500+</h2>
                    <p id="stats-clients">Happy Clients</p>
                </div>
                <div class="stat-item">
                    <h2>24h</h2>
                    <p id="stats-delivery">Express Delivery</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
						<li><a href="https://alkhatalmudie.github.io/hr_department.html">HR Department & Employees Affairs</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            
            <div class="terminal-content">
                <h4 class="terminal-title" id="overlay-title">AL-KHAT SECURE GATEWAY v4.0</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Initializing request...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink" id="overlay-status">PROCESSING...</div>
            </div>
        </div>
    </div>
	
	<div id="upload-modal" class="modal-overlay">
		<div class="modal-box">
			<a href="javascript:void(0)" class="close-modal" onclick="closeUploadHelp()">&times;</a>
			
			<div class="modal-header">
				<div class="dna-logo small-logo">
					<div class="dna-drop dna-magenta"></div>
					<div class="dna-drop dna-cyan"></div>
				</div>
				<h3>&nbsp; &nbsp; &nbsp; How to Upload Files</h3>
			</div>

			<div class="modal-body">
				<p>For security reasons, we use secure links instead of direct uploads. Here is how to send us your files in 30 seconds:</p>
				
				<div class="tutorial-steps">
					<div class="step">
						<div class="step-num">1</div>
						<div class="step-text">
							<strong>Go to WeTransfer.com</strong>
							<span>It's free and requires no account.</span>
						</div>
						<a href="https://wetransfer.com/" target="_blank" class="btn-tiny">Open Site <i class="fas fa-external-link-alt"></i></a>
					</div>

					<div class="step">
						<div class="step-num">2</div>
						<div class="step-text">
							<strong>Upload Your File</strong>
							<span>Click "Upload files" and select your document.</span>
						</div>
					</div>

					<div class="step">
						<div class="step-num">3</div>
						<div class="step-text">
							<strong>Get Transfer Link</strong>
							<span>Click the <i class="fas fa-ellipsis-h"></i> (three dots) icon and select <strong>"Get transfer link"</strong>.</span>
						</div>
					</div>

					<div class="step">
						<div class="step-num">4</div>
						<div class="step-text">
							<strong>Paste & Send</strong>
							<span>Copy the link (e.g., https://we.tl/...) and paste it into our form box.</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div id="service-modal" class="modal-overlay">
		<div class="modal-box">
			<a href="javascript:void(0)" class="close-modal" onclick="closeServiceModal()">&times;</a>
			
			<div class="modal-header">
				<div id="modal-service-icon" style="font-size: 2rem; color: var(--brand-cyan); margin-right: 15px;">
					</div>
				<h3 id="modal-service-title">Service Name</h3>
			</div>

			<div class="modal-body">
				<p id="modal-service-desc" style="margin-bottom: 25px; color: #555;">Description goes here...</p>
				
				<h4 style="color: var(--brand-navy); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 5px;">
					<i class="fas fa-stream"></i> Process Workflow
				</h4>
				
				<div class="tutorial-steps" id="modal-service-steps">
					</div>

				<div style="margin-top: 25px; text-align: center;">
					<a href="#reservation" onclick="closeServiceModal()" class="btn btn-primary" style="width: 100%;">Book This Service</a>
				</div>
			</div>
		</div>
	</div>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
	<script type="module" src="assets/js/global-auth.js"></script>
    <script>
        // Hero Carousel Logic
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        let slideInterval = setInterval(() => { moveSlide(1); }, 5000);

        function moveSlide(n) {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => { moveSlide(1); }, 5000);
            slides[slideIndex].classList.remove('active');
            slideIndex += n;
            if (slideIndex >= totalSlides) { slideIndex = 0; }
            if (slideIndex < 0) { slideIndex = totalSlides - 1; }
            slides[slideIndex].classList.add('active');
        }
		
		/* ==========================================================================
		   SERVICE MODAL ENGINE (MULTILINGUAL UPGRADE)
		   ========================================================================== */
		const serviceData = {
			en: {
				workflowTitle: "Process Workflow",
				bookBtn: "Book This Service",
				services: {
					legal: { title: "Legal Translation", desc: "Certified translation for contracts, court documents, and powers of attorney. Recognized by the Ministry of Justice and all major embassies.", steps: ["Document Assessment", "Certified Translation", "Legal Proofreading", "Official Stamping"] },
					immigration: { title: "Immigration & Visas", desc: "Accurate translation of birth certificates, marriage licenses, and passports required for embassy appointments and residency applications.", steps: ["ID Verification", "Standardized Translation", "Consistency Check", "Embassy-Ready Delivery"] },
					academic: { title: "Academic Translation", desc: "Translation of university transcripts, diplomas, and research papers for students applying to international universities.", steps: ["Grade Conversion", "Terminological Accuracy", "Formatting Sync", "Final Certification"] },
					website: { title: "Website Localization", desc: "Adapt your digital content for new markets. We translate websites, apps, and software interfaces while maintaining UI integrity.", steps: ["String Extraction", "Cultural Adaptation", "UI/UX Review", "Linguistic Testing"] },
					medical: { title: "Medical Translation", desc: "Precise translation of medical reports, prescriptions, and pharmaceutical documents handled by specialized medical linguists.", steps: ["Terminology Scan", "Expert Translation", "Confidentiality Audit", "Medical Review"] },
					proofreading: { title: "Proofreading", desc: "Polishing your existing documents to ensure grammatical perfection, stylistic consistency, and natural-sounding language.", steps: ["Grammar Audit", "Style Adjustment", "Flow Optimization", "Final Polish"] }
				}
			},
			ar: {
				workflowTitle: "خطوات العمل",
				bookBtn: "احجز هذه الخدمة",
				services: {
					legal: { title: "الترجمة القانونية", desc: "ترجمة معتمدة للعقود، وثائق المحاكم، والوكالات. معترف بها من قبل وزارة العدل والسفارات.", steps: ["تقييم المستند", "ترجمة معتمدة", "تدقيق قانوني", "الختم الرسمي"] },
					immigration: { title: "الهجرة والتأشيرات", desc: "ترجمة دقيقة لشهادات الميلاد وعقود الزواج وجوازات السفر المطلوبة لمواعيد السفارات.", steps: ["التحقق من الهوية", "ترجمة موحدة", "فحص التطابق", "تسليم جاهز للسفارة"] },
					academic: { title: "الترجمة الأكاديمية", desc: "ترجمة كشوف الدرجات الجامعية والدبلومات والأبحاث للطلاب المتقدمين للجامعات الدولية.", steps: ["تحويل الدرجات", "دقة المصطلحات", "تنسيق متطابق", "الاعتماد النهائي"] },
					website: { title: "تعريب المواقع", desc: "تكييف المحتوى الرقمي للأسواق الجديدة. نترجم المواقع والتطبيقات وواجهات البرامج.", steps: ["استخراج النصوص", "تكييف ثقافي", "مراجعة واجهة المستخدم", "اختبار لغوي"] },
					medical: { title: "الترجمة الطبية", desc: "ترجمة دقيقة للتقارير الطبية والوصفات الطبية والوثائق الصيدلانية من قبل لغويين متخصصين.", steps: ["فحص المصطلحات", "ترجمة متخصصة", "مراجعة السرية", "تدقيق طبي"] },
					proofreading: { title: "التدقيق اللغوي", desc: "صقل مستنداتك الحالية لضمان الكمال النحوي والاتساق الأسلوبي واللغة الطبيعية.", steps: ["تدقيق نحوي", "تعديل الأسلوب", "تحسين التدفق", "اللمسات النهائية"] }
				}
			},
			ru: {
				workflowTitle: "Рабочий Процесс",
				bookBtn: "Заказать услугу",
				services: {
					legal: { title: "Юридический перевод", desc: "Заверенный перевод договоров, судебных документов и доверенностей.", steps: ["Оценка документа", "Заверенный перевод", "Юридическая проверка", "Официальная печать"] },
					immigration: { title: "Иммиграция и визы", desc: "Точный перевод свидетельств о рождении, браке и паспортов для посольств.", steps: ["Проверка ID", "Стандартный перевод", "Проверка соответствия", "Готовность для посольства"] },
					academic: { title: "Академический перевод", desc: "Перевод выписок, дипломов и исследовательских работ для студентов.", steps: ["Конвертация оценок", "Точность терминов", "Синхронизация формата", "Финальная сертификация"] },
					website: { title: "Локализация сайтов", desc: "Адаптация цифрового контента для новых рынков (сайты, приложения, ПО).", steps: ["Извлечение строк", "Культурная адаптация", "Обзор UI/UX", "Тестирование"] },
					medical: { title: "Медицинский перевод", desc: "Точный перевод медицинских заключений и рецептов специалистами.", steps: ["Сканирование терминов", "Экспертный перевод", "Аудит конфиденциальности", "Мед. проверка"] },
					proofreading: { title: "Вычитка", desc: "Доработка документов для обеспечения грамматического совершенства.", steps: ["Грамматический аудит", "Корректировка стиля", "Оптимизация потока", "Финальная правка"] }
				}
			},
			du: { // Mapped to German logic based on your flag setup
				workflowTitle: "Arbeitsablauf",
				bookBtn: "Diesen Service buchen",
				services: {
					legal: { title: "Juristische Übersetzung", desc: "Beglaubigte Übersetzung von Verträgen, Gerichtsdokumenten und Vollmachten.", steps: ["Dokumentenprüfung", "Beglaubigte Übersetzung", "Juristisches Lektorat", "Offizielle Stempelung"] },
					immigration: { title: "Einwanderung & Visa", desc: "Genaue Übersetzung von Geburtsurkunden, Heiratsurkunden und Pässen.", steps: ["ID-Überprüfung", "Standardisierte Übersetzung", "Konsistenzprüfung", "Botschaftsfertige Lieferung"] },
					academic: { title: "Akademische Übersetzung", desc: "Übersetzung von Universitätszeugnissen, Diplomen und Forschungsarbeiten.", steps: ["Notenumrechnung", "Terminologische Genauigkeit", "Format-Synchronisierung", "Endgültige Zertifizierung"] },
					website: { title: "Website-Lokalisierung", desc: "Passen Sie Ihre digitalen Inhalte an neue Märkte an.", steps: ["Textextraktion", "Kulturelle Anpassung", "UI/UX-Überprüfung", "Linguistisches Testen"] },
					medical: { title: "Medizinische Übersetzung", desc: "Präzise Übersetzung von medizinischen Berichten und Rezepten.", steps: ["Terminologie-Scan", "Fachübersetzung", "Vertraulichkeitsprüfung", "Medizinische Überprüfung"] },
					proofreading: { title: "Korrekturlesen", desc: "Aufpolieren Ihrer vorhandenen Dokumente für grammatikalische Perfektion.", steps: ["Grammatikprüfung", "Stilanpassung", "Flussoptimierung", "Letzter Feinschliff"] }
				}
			}
		};

		window.openServiceModal = function(serviceKey) {
			// 1. Detect Language
			const currentLang = localStorage.getItem('site-lang') || 'en';
			const langData = serviceData[currentLang] || serviceData['en'];
			const data = langData.services[serviceKey];
			if (!data) return;

			// 2. Map the icons independently of the language
			const icons = {
				legal: "fas fa-gavel", immigration: "fas fa-passport", academic: "fas fa-graduation-cap",
				website: "fas fa-laptop-code", medical: "fas fa-stethoscope", proofreading: "fas fa-file-signature"
			};

			// 3. Inject Content
			document.getElementById('modal-service-title').innerText = data.title;
			document.getElementById('modal-service-desc').innerText = data.desc;
			document.getElementById('modal-service-icon').innerHTML = `<i class="${icons[serviceKey]}"></i>`;
			
			// 4. Translate UI Headers & Buttons inside the modal
			const workflowHeader = document.querySelector('#service-modal h4');
			if(workflowHeader) workflowHeader.innerHTML = `<i class="fas fa-stream"></i> ${langData.workflowTitle}`;
			const bookBtn = document.querySelector('#service-modal .btn-primary');
			if(bookBtn) bookBtn.innerText = langData.bookBtn;

			// 5. Flip Direction for Arabic
			const modalBody = document.querySelector('#service-modal .modal-body');
			if(currentLang === 'ar') {
				modalBody.style.textAlign = 'right';
				modalBody.style.direction = 'rtl';
			} else {
				modalBody.style.textAlign = 'left';
				modalBody.style.direction = 'ltr';
			}

			// 6. Clear and Build Steps
			const stepsContainer = document.getElementById('modal-service-steps');
			stepsContainer.innerHTML = "";
			data.steps.forEach((step, index) => {
				const stepHtml = `
					<div class="step">
						<div class="step-num">${index + 1}</div>
						<div class="step-text"><strong>${step}</strong></div>
					</div>`;
				stepsContainer.innerHTML += stepHtml;
			});

			// Show Modal
			document.getElementById('service-modal').classList.add('active');
		}

		window.closeServiceModal = function() {
			document.getElementById('service-modal').classList.remove('active');
		}

		// Close modal when clicking outside the box
		window.addEventListener('click', (e) => {
			const modal = document.getElementById('service-modal');
			if (e.target === modal) closeServiceModal();
		});
    </script>
	
	<script type="module">
			// --- 1. UNIFIED FIREBASE IMPORTS (Directly from CDN) ---
			import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
			import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
			import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

			const firebaseConfig = {
				apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
				authDomain: "al-khat-backend.firebaseapp.com",
				projectId: "al-khat-backend",
				storageBucket: "al-khat-backend.firebasestorage.app", 
				messagingSenderId: "310033181926",
				appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
			};

			// --- 2. ANTI-RACE CONDITION ARMOR ---
			// If an app exists (from global-auth), grab it. If not, build it. NO CRASHES.
			const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
			const db = getFirestore(app);
			const storage = getStorage(app);

			// --- 3. PROMOTIONS ENGINE ---
			async function loadPromotions() {
				const track = document.getElementById('promo-track');
				const section = document.getElementById('special-ops-section');
				
				const currentLang = localStorage.getItem('site-lang') || 'en';
				const adDict = {
					en: { badge: "LIMITED", offer: "Offer:", was: "was", valid: "Valid:", reqs: "Requirements:", btnRes: "Reserve", btnInq: "Inquiry" },
					ar: { badge: "حصري", offer: "العرض:", was: "بدلاً من", valid: "صالح:", reqs: "المتطلبات:", btnRes: "حجز", btnInq: "استفسار" },
					ru: { badge: "ОГРАНИЧЕНО", offer: "Предложение:", was: "было", valid: "Действителен:", reqs: "Требования:", btnRes: "Забронировать", btnInq: "Запрос" },
					du: { badge: "BEGRENZT", offer: "Angebot:", was: "war", valid: "Gültig:", reqs: "Anforderungen:", btnRes: "Reservieren", btnInq: "Anfrage" }
				};
				const ui = adDict[currentLang] || adDict['en'];

				try {
					const q = query(collection(db, "promotions"), orderBy("timestamp", "desc"));
					const snapshot = await getDocs(q);
					
					if(snapshot.empty) { section.style.display = 'none'; return; }
					track.innerHTML = ""; 

					snapshot.forEach(docSnap => {
						const data = docSnap.data();
						const reqsList = data.reqs.split(',').map(item => `<li><i class="fas fa-check" style="color:#00ff88; margin-right:5px;"></i> ${item.trim()}</li>`).join('');
						const alignStyle = currentLang === 'ar' ? 'text-align: right; direction: rtl;' : 'text-align: left; direction: ltr;';
						
						const imgHtml = data.imageUrl 
							? `<div class="promo-img-box" style="background-image: url('${data.imageUrl}')"></div>` 
							: `<div class="promo-img-box" style="display:flex; align-items:center; justify-content:center; background: linear-gradient(45deg, #0b1426, #1a2a4a);"><i class="fas fa-image" style="font-size: 3rem; opacity: 0.1;"></i></div>`;

						track.innerHTML += `
							<div class="promo-card" style="${alignStyle}">
								${imgHtml} <div class="promo-badge">${ui.badge}</div>
								<h3 style="margin-top:0; color:white;">${data.name}</h3>
								<p style="font-size:0.9rem; color:#ccc;">${data.desc}</p>
								
								<div class="promo-price">
									<span class="price-old" style="margin: 0 10px;">${ui.was} <strike>$${data.oldPrice}</strike></span>
									<span class="price-new">$${data.newPrice}</span>
								</div>

								<div style="font-size: 0.75rem; color: #ff4b5c; margin-bottom: 15px;">
									<i class="fas fa-clock"></i> ${ui.valid} ${data.startDate} ➝ ${data.endDate}
								</div>

								<div class="promo-reqs" style="${alignStyle}">
									<strong>${ui.reqs}</strong>
									<ul style="list-style:none; padding:0; margin: 5px 0 0 0;">${reqsList}</ul>
								</div>

								<div class="promo-actions">
									<button class="btn-buy" onclick="window.location.href='products_services_room.html?pkg=${docSnap.id}'">${ui.btnRes}</button>
									<button class="btn-inq" onclick="window.location.href='contacts.html'">${ui.btnInq}</button>
								</div>
							</div>
						`;
					});
				} catch (error) {
					console.error("Promo Engine Error:", error);
					track.innerHTML = "<p style='color:red;'>Failed to load signals.</p>";
				}
			}

			document.addEventListener('DOMContentLoaded', loadPromotions);

			// --- 4. UPLOAD ENGINE ---
			window.updateFileLabel = function() {
				const input = document.getElementById('real-file-input');
				const label = document.getElementById('drop-label-text');
				if(input.files.length > 0) {
					label.innerText = "READY: " + input.files[0].name;
					label.style.color = "#00f2ff"; 
					label.style.fontWeight = "bold";
				}
			}

			window.processUploadAndSubmit = async function(e) {
				e.preventDefault(); 

				const fileInput = document.getElementById('real-file-input');
				const googleInput = document.getElementById('google-entry-link'); 
				const submitBtn = document.getElementById('reservation-btn_submit');
				const form = document.getElementById('main-request-form');
				
				if(fileInput.files.length === 0) {
					alert("Please select a document for translation.");
					return;
				}

				submitBtn.innerText = "SECURING CONNECTION...";
				submitBtn.disabled = true;

				try {
					const file = fileInput.files[0];
					const fileName = Date.now() + '_' + file.name; 
					const storageRef = ref(storage, 'client_uploads/' + fileName);

					if (typeof startServerSequence === "function") {
						startServerSequence();
					}

					const snapshot = await uploadBytes(storageRef, file);
					const downloadURL = await getDownloadURL(snapshot.ref);
					
					googleInput.value = downloadURL;
					form.submit();

				} catch (error) {
					console.error("Transmission Error:", error);
					alert("Gateway Error: " + error.message);
					submitBtn.disabled = false;
					submitBtn.innerText = "Retry Transmission";
				}
			}
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

2. (about.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us | Al-Khat Al-Mudi Translation</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        .page-header {
            background-color: var(--brand-navy);
            padding: 160px 0 100px;
            position: relative;
            overflow: hidden;
            text-align: center;
            color: white;
        }

        /* Watermark Background */
        .page-header .watermark {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 600px; height: 600px;
            opacity: 0.05;
            pointer-events: none;
        }

        .values-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .value-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            border-top: 4px solid var(--brand-cyan);
            transition: 0.3s;
        }

        .value-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border-top-color: var(--brand-magenta);
        }

        .value-icon {
            font-size: 3rem;
            color: var(--brand-navy);
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

    <section class="page-header">
        <div class="watermark">
            <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M32 32H12C12 43.0457 20.9543 52 32 52C43.0457 52 52 43.0457 52 32C52 20.9543 43.0457 12 32 12V32Z" fill="#E91E63" transform="rotate(45 32 32) translate(-6, 0)"/>
                <path d="M32 32H12C12 43.0457 20.9543 52 32 52C43.0457 52 52 43.0457 52 32C52 20.9543 43.0457 12 32 12V32Z" fill="#00AEEF" transform="rotate(225 32 32) translate(-6, 0)"/>
            </svg>
        </div>

        <div class="container">
            <h1 id="about_page-hero_title" style="font-size: 3.5rem; margin-bottom: 20px;">Our Journey</h1>
            <p id="about_page-hero_desc" style="font-size: 1.2rem; opacity: 0.8; max-width: 600px; margin: 0 auto;">
                From Marka Al-Shamaliya to the World. The story of precision.
            </p>
        </div>
    </section>

    <section class="section-padding">
        <div class="container">
            <div class="about-grid">
                <div class="about-image">
                    <div class="about-shape">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; text-align: center;">
                            <i class="fas fa-history" style="font-size: 8rem; opacity: 0.2;"></i>
                        </div>
                    </div>
                </div>
                <div class="about-text">
                    <h2 class="section-title" id="about-title">Who We Are</h2>
                    <h3 class="arabic-text" id="about-arabic_name" style="color: var(--text-grey); margin-bottom: 20px; font-size: 1.5rem;">الخط المضيء للترجمة</h3>
                    <p id="about-p1" style="margin-bottom: 20px;">
                        At Al-Khat Al-Mudi, we believe translation is about preserving meaning. Located in Marka Al-Shamaliya, we serve individuals and businesses.
                    </p>
                    <p id="about-p2">
                        Whether you are a student or a business, our team ensures your message remains clear.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding" style="background-color: #f0f4f8;">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title" id="about_page-values_title">Core Values</h2>
            </div>
            
            <div class="values-grid">
                <div class="value-card">
                    <i class="fas fa-bullseye value-icon"></i>
                    <h3 id="about_page-mission_title">Our Mission</h3>
                    <p id="about_page-mission_desc" style="color: #666;">To eliminate language barriers for businesses and individuals with 100% legal accuracy.</p>
                </div>

                <div class="value-card">
                    <i class="fas fa-eye value-icon"></i>
                    <h3 id="about_page-vision_title">Our Vision</h3>
                    <p id="about_page-vision_desc" style="color: #666;">To be the #1 reference for certified translation in the Middle East.</p>
                </div>

                <div class="value-card">
                    <i class="fas fa-balance-scale value-icon"></i>
                    <h3 id="about-badge_confidential">Confidentiality</h3>
                    <p style="color: #666;">We treat every document with the highest level of security and privacy protocols.</p>
                </div>
            </div>
        </div>
    </section>
	
	<section class="section-padding" style="background: #f8fafc;">
		<div class="container">
			<div class="text-center" style="margin-bottom: 60px;">
				<h2 class="section-title" id="timeline-title">Our History</h2>
			</div>
			
			<div class="timeline">
				<div class="timeline-item left">
					<div class="timeline-content">
						<span class="year-badge" id="timeline-year1">2026</span>
						<h3 id="timeline-title1">The Foundation</h3>
						<p id="timeline-desc1">Al-Khat Al-Mudi was established in Marka Al-Shamaliya with a single mission: Precision.</p>
					</div>
				</div>
				<div class="timeline-item right">
					<div class="timeline-content">
						<span class="year-badge" id="timeline-year2">2027</span>
						<h3 id="timeline-title2">Official Certification</h3>
						<p id="timeline-desc2">Recognized by the Ministry of Justice and all major embassies in Jordan.</p>
					</div>
				</div>
				<div class="timeline-item left">
					<div class="timeline-content">
						<span class="year-badge" id="timeline-year3">2028</span>
						<h3 id="timeline-title3">Digital Expansion</h3>
						<p id="timeline-desc3">Launched our AI-assisted translation portal and website localization services.</p>
					</div>
				</div>
				<div class="timeline-item right">
					<div class="timeline-content">
						<span class="year-badge" id="timeline-year4">2029</span>
						<h3 id="timeline-title4">Going Global</h3>
						<p id="timeline-desc4">Serving 500+ corporate clients across Europe and the Middle East.</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="map-section">
		<div class="map-overlay"></div>
		<div class="container" style="position: relative; z-index: 2; text-align: center; color: white;">
			<h2 id="map-title" style="font-size: 2.5rem; margin-bottom: 10px;">Global Reach</h2>
			<p id="map-desc" style="opacity: 0.8; font-size: 1.2rem;">Headquartered in Amman, connecting the world.</p>
			
			<div class="map-dot amman">
				<div class="pulse"></div>
				<span class="city-label">AMMAN HQ</span>
			</div>
		</div>
	</section>

	<section class="section-padding">
		<div class="container">
			<div class="text-center" style="margin-bottom: 50px;">
				<h2 class="section-title" id="merch-title">Corporate Identity</h2>
				<p id="merch-desc" style="color: var(--text-light); max-width: 600px; margin: 0 auto;">Professional tools for a professional lifestyle.</p>
			</div>

			<div class="merch-grid">
				<div class="merch-card">
					<div class="mockup-box">
						<i class="fas fa-flag" style="font-size: 4rem; color: #ddd;"></i>
						<div class="dna-logo small-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
					</div>
					<h4 id="merch-item1">Official Flag</h4>
				</div>

				<div class="merch-card">
					<div class="mockup-box">
						<i class="fas fa-calendar-alt" style="font-size: 4rem; color: #ddd;"></i>
						<div class="watermark-text">2030</div>
					</div>
					<h4 id="merch-item2">2030 Calendar</h4>
				</div>

				<div class="merch-card">
					<div class="mockup-box">
						<i class="fas fa-mug-hot" style="font-size: 4rem; color: #ddd;"></i>
						<div class="dna-logo small-logo" style="bottom: 30px;">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
					</div>
					<h4 id="merch-item3">Brand Mug</h4>
				</div>

				<div class="merch-card">
					<div class="mockup-box">
						<i class="fas fa-book" style="font-size: 4rem; color: #ddd;"></i>
					</div>
					<h4 id="merch-item4">Sample Book</h4>
				</div>
			</div>

			<div class="text-center" style="margin-top: 40px;">
				<a href="shop.html" class="btn btn-primary" id="merch-btn_shop">See All Products</a>
			</div>
		</div>
	</section>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers.
                    </p>
                    <div class="social-icons">
                        <a href="#" class="social-icon facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html" id="menu-home-footer">Home</a></li>
                        <li><a href="about.html" id="menu-about-footer">About Us</a></li>
                        <li><a href="services.html" id="menu-services-footer">Services</a></li>
                        <li><a href="reservation.html" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i><span>Marka Al-Shamaliya, Nadi Al-Sibaq</span></li>
                        <li><i class="fas fa-phone-alt"></i><span>078-077-0085</span></li>
                        <li><i class="fas fa-envelope"></i><span>alkhatalmudi@gmail.com</span></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>
        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="index.html#reservation" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>
            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>
            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

3. (admin_create_products):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHA COMMAND | Store Inventory</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* ALPHA BACKEND STYLE */
        :root {
            --term-bg: #050a15; --term-cyan: #00f2ff; --term-red: #ff4b5c; 
            --term-green: #00ff88; --term-magenta: #ff00ff; --term-border: rgba(0, 242, 255, 0.2);
        }

        body { background-color: var(--term-bg); color: var(--term-cyan); font-family: 'Share Tech Mono', monospace; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.8); border-right: 1px solid var(--term-border); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        body[dir="rtl"] .admin-sidebar { border-right: none; border-left: 1px solid var(--term-border); }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #888; text-decoration: none; border-left: 3px solid transparent; transition: 0.3s; font-size: 0.9rem; margin-bottom: 5px; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: var(--term-cyan); border-left-color: var(--term-cyan); }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: var(--term-cyan); }

        .admin-main-content { flex-grow: 1; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; background: radial-gradient(circle at 50% 0%, rgba(0, 242, 255, 0.05) 0%, transparent 70%); }
        .header-top { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--term-border); padding-bottom: 20px; margin-bottom: 30px; }
        
        .top-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 30px; flex: 1; min-height: 0;}
        @media(max-width: 1000px) { .top-grid { grid-template-columns: 1fr; } }
        
        .panel { border: 1px solid var(--term-border); background: rgba(0,0,0,0.6); padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.8); overflow-y: auto; }
        .panel h3 { margin-top: 0; color: var(--term-magenta); border-bottom: 1px dashed var(--term-magenta); padding-bottom: 10px; font-size: 1.2rem; }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.8rem; color: #888; margin-bottom: 5px; text-transform: uppercase; }
        .form-group input, .form-group textarea { width: 100%; padding: 10px; box-sizing: border-box; background: rgba(0, 242, 255, 0.05); border: 1px solid rgba(0, 242, 255, 0.2); color: white; font-family: 'Share Tech Mono', monospace; }
        .form-group input:focus, .form-group textarea:focus { border-color: var(--term-cyan); outline: none; }
        
        .btn { background: transparent; border: 1px solid var(--term-cyan); color: var(--term-cyan); padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; width: 100%; text-transform: uppercase; }
        .btn:hover { background: var(--term-cyan); color: var(--term-bg); }
        .btn-magenta { border-color: var(--term-magenta); color: var(--term-magenta); }
        .btn-magenta:hover { background: var(--term-magenta); color: var(--term-bg); }
        .btn-danger { background: transparent; border: 1px solid var(--term-red); color: var(--term-red); padding: 5px 10px; font-size: 0.8rem; cursor: pointer; transition: 0.3s; }
        .btn-danger:hover { background: var(--term-red); color: white; }

        .product-list { list-style: none; padding: 0; margin: 0; }
        .product-item { background: rgba(0,242,255,0.05); border-left: 3px solid var(--term-cyan); padding: 15px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .prod-info h4 { margin: 0 0 5px 0; color: white; font-size: 1.1rem; }
        .prod-info p { margin: 0; color: #888; font-size: 0.85rem; }
        .prod-price { color: var(--term-green); font-weight: bold; font-size: 1.2rem; }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <aside class="admin-sidebar">
        <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px;"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
        </div>
        
        <ul class="admin-sidebar-menu">
			<li><a href="alpha.html" class="active"><i class="fas fa-radar"></i> Main Dashboard</a></li>
			<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
			<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
			<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
			<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
			<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
			<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
			<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
			<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
			<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
		</ul>

        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
    </aside>

    <main class="admin-main-content">
        <div class="header-top">
            <h2 style="margin: 0; text-shadow: 0 0 10px rgba(0, 242, 255, 0.3);"><i class="fas fa-boxes"></i> INVENTORY CONTROL</h2>
            <button class="btn" onclick="toggleLanguage()" id="btn-lang" style="width: auto; padding: 5px 15px; border-color: #ffc107; color: #ffc107;">عربي</button>
        </div>

        <div class="top-grid">
            <div class="panel">
                <h3 id="ui-title-add"><i class="fas fa-plus-square"></i> FORGE NEW PRODUCT</h3>
                <form id="form-product">
                    <div class="form-group">
                        <label id="ui-lbl-title">Product Title</label>
                        <input type="text" id="p-title" required placeholder="e.g., Certified Hard Copy">
                    </div>
                    <div class="form-group">
                        <label id="ui-lbl-price">Price (JOD)</label>
                        <input type="number" step="0.50" id="p-price" required placeholder="10.00">
                    </div>
                    <div class="form-group">
                        <label id="ui-lbl-icon">Icon Class (FontAwesome)</label>
                        <input type="text" id="p-icon" required value="fas fa-stamp" placeholder="fas fa-stamp">
                        <small style="color:#888; font-size: 0.7rem;">Examples: fas fa-shipping-fast, fas fa-bolt, fas fa-file-contract</small>
                    </div>
                    <div class="form-group">
                        <label id="ui-lbl-desc">Product Description</label>
                        <textarea id="p-desc" rows="4" required placeholder="Describe the service..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-magenta" id="btn-submit"><i class="fas fa-satellite-dish"></i> DEPLOY TO PUBLIC SHOP</button>
                </form>
            </div>

            <div class="panel" style="border-color: var(--term-cyan);">
                <h3 style="color: var(--term-cyan); border-bottom-color: var(--term-cyan);" id="ui-title-list"><i class="fas fa-list"></i> ACTIVE PUBLIC INVENTORY</h3>
                <ul class="product-list" id="inventory-list">
                    <li style="text-align: center; color: #888; padding: 20px;">Scanning database...</li>
                </ul>
            </div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, serverTimestamp, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-storage-doha",
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        // BILINGUAL SETUP (English / Arabic)
        window.currentLang = 'en';
        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';
            
            if(window.currentLang === 'ar') {
                document.getElementById('ui-title-add').innerHTML = '<i class="fas fa-plus-square"></i> إضافة منتج جديد';
                document.getElementById('ui-lbl-title').innerText = "اسم المنتج";
                document.getElementById('ui-lbl-price').innerText = "السعر (دينار)";
                document.getElementById('ui-lbl-icon').innerText = "رمز الأيقونة";
                document.getElementById('ui-lbl-desc').innerText = "وصف المنتج";
                document.getElementById('btn-submit').innerHTML = '<i class="fas fa-satellite-dish"></i> نشر في المتجر العام';
                document.getElementById('ui-title-list').innerHTML = '<i class="fas fa-list"></i> المخزون العام النشط';
            } else {
                location.reload(); // Quick reset to English
            }
        }

        // SECURITY 
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchInventory();
            }
        });

        // 1. FETCH INVENTORY
        async function fetchInventory() {
            const list = document.getElementById('inventory-list');
            try {
                const q = query(collection(db, "shop_inventory"), orderBy("timestamp", "desc"));
                const snapshot = await getDocs(q);
                list.innerHTML = "";

                if(snapshot.empty) {
                    list.innerHTML = `<li style="text-align:center; color:#888; padding:20px;">No products in the public shop.</li>`;
                    return;
                }

                snapshot.forEach(docSnap => {
                    const data = docSnap.data();
                    list.innerHTML += `
                        <li class="product-item">
                            <div style="display:flex; align-items:center; gap: 15px;">
                                <i class="${data.icon}" style="font-size: 1.5rem; color: var(--term-magenta);"></i>
                                <div class="prod-info">
                                    <h4>${data.title}</h4>
                                    <p>${data.description.substring(0, 50)}...</p>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div class="prod-price">${parseFloat(data.price).toFixed(2)} JOD</div>
                                <button class="btn-danger" onclick="deleteProduct('${docSnap.id}')"><i class="fas fa-trash"></i> DELETE</button>
                            </div>
                        </li>
                    `;
                });
            } catch (error) { list.innerHTML = `<li style="color:red;">Error: ${error.message}</li>`; }
        }

        // 2. ADD PRODUCT
        document.getElementById('form-product').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-submit');
            btn.innerText = "TRANSMITTING..."; btn.disabled = true;

            try {
                await addDoc(collection(db, "shop_inventory"), {
                    title: document.getElementById('p-title').value,
                    price: document.getElementById('p-price').value,
                    icon: document.getElementById('p-icon').value,
                    description: document.getElementById('p-desc').value,
                    timestamp: serverTimestamp()
                });
                
                document.getElementById('form-product').reset();
                fetchInventory(); // Reload list
            } catch (error) { alert("ERROR: " + error.message); }
            
            btn.innerHTML = '<i class="fas fa-satellite-dish"></i> DEPLOY TO PUBLIC SHOP'; 
            btn.disabled = false;
        });

        // 3. DELETE PRODUCT
        window.deleteProduct = async function(docId) {
            if(confirm("WARNING: This will instantly remove the product from the public website. Proceed?")) {
                try {
                    await deleteDoc(doc(db, "shop_inventory", docId));
                    fetchInventory();
                } catch(error) { alert("ERROR: " + error.message); }
            }
        }

        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

4. (admin_deployment):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEPLOYMENT COMMAND | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* TACTICAL TERMINAL STYLES */
        body {
            background-color: #050a15;
            color: #00f2ff;
            font-family: 'Share Tech Mono', monospace, sans-serif;
            margin: 0; padding: 0;
            transition: all 0.3s ease;
        }

        /* RTL (Arabic) Support */
        body[dir="rtl"] {
            font-family: 'Cairo', sans-serif;
        }

        /* --- ADMIN DASHBOARD LAYOUT --- */
        .admin-wrapper { display: flex; min-height: 100vh; }
        
        .admin-sidebar {
            width: 260px;
            background: rgba(0, 0, 0, 0.6);
            border-right: 1px solid rgba(0, 242, 255, 0.2);
            padding: 20px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }

        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a {
            display: block; padding: 12px 15px; color: #ccc; text-decoration: none;
            border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem;
        }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active {
            background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff;
        }
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }

        .admin-main-content {
            flex-grow: 1; padding: 20px 40px; overflow-y: auto;
        }

        .header { 
            border-bottom: 1px solid rgba(0, 242, 255, 0.2); padding-bottom: 20px; 
            margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; 
        }
        
        .grid-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.03); padding: 20px; }
        .panel h3 { margin-top: 0; color: #ff4b5c; border-bottom: 1px solid #ff4b5c; padding-bottom: 10px; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; opacity: 0.8; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: inherit; box-sizing: border-box; }
        input:focus, textarea:focus { border-color: #00f2ff; outline: none; }
        
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; transition: 0.3s; width: 100%; font-family: inherit; font-size: 1rem; font-weight: bold; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-danger { border-color: #ff4b5c; color: #ff4b5c; width: auto; padding: 5px 10px; font-size: 0.8rem; }
        .btn-danger:hover { background: #ff4b5c; color: white; }
        .btn-warning { border-color: #ffc107; color: #ffc107; width: auto; padding: 10px 20px;}
        .btn-warning:hover { background: #ffc107; color: #050a15; }

        .package-card { border: 1px dashed rgba(0, 242, 255, 0.4); padding: 15px; margin-bottom: 15px; background: rgba(0,0,0,0.4); }
        .package-card h4 { margin: 0 0 10px 0; color: white; }

        @media (max-width: 900px) {
            .admin-wrapper { flex-direction: column; }
            .admin-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .grid-layout { grid-template-columns: 1fr; }
            .header { flex-direction: column; gap: 15px; text-align: center; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
	<div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
                
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html" class="active"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>

        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="admin-main-content">
            <div class="header">
                <h2 id="ui-header-title" style="margin:0;"><i class="fas fa-rocket"></i> PACKAGE DEPLOYMENT TERMINAL</h2>
                <div style="display: flex; gap: 15px;">
                    <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
                </div>
            </div>

            <div class="grid-layout">
                <div class="panel">
                    <h3 id="ui-panel1-title"><i class="fas fa-plus-square"></i> CONSTRUCT NEW PACKAGE</h3>
                    <form id="deploy-form">
                        <div class="form-group">
                            <label id="ui-lbl-name">Operation Name (e.g., Travel to Germany)</label>
                            <input type="text" id="pkg-name" required>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-desc">Mission Briefing (Description)</label>
                            <textarea id="pkg-desc" rows="3" required></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group"><label id="ui-lbl-start">Start Date</label><input type="date" id="pkg-start" required></div>
                            <div class="form-group"><label id="ui-lbl-end">End Date</label><input type="date" id="pkg-end" required></div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group"><label id="ui-lbl-old">Original Price ($)</label><input type="number" id="pkg-old-price" required></div>
                            <div class="form-group"><label id="ui-lbl-new">Offer Price ($)</label><input type="number" id="pkg-new-price" required></div>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-req">Requirements (Comma separated: Passport, ID, Photos...)</label>
                            <textarea id="pkg-req" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
							<label id="ui-lbl-img">Package Image (Cover Photo)</label>
							<input type="file" id="pkg-img" accept="image/*">
							<div id="current-img-status" style="margin-top:5px; font-size:0.8rem; color:var(--term-green);"></div>
						</div>
                        <div style="display: flex; gap: 10px;">
                            <button type="submit" class="btn" id="btn-deploy">AUTHORIZE DEPLOYMENT</button>
                            <button type="button" class="btn btn-danger" id="btn-cancel" style="display: none; padding: 10px 20px; font-size: 1rem;" onclick="cancelOverride()">ABORT EDIT</button>
                        </div>
                    </form>
                </div>

                <div class="panel">
                    <h3 style="color: #00ff88; border-color: #00ff88;" id="ui-panel2-title"><i class="fas fa-satellite-dish"></i> ACTIVE DEPLOYMENTS</h3>
                    <div id="active-packages">
                        <p id="ui-loading">Scanning frequencies...</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc, getDoc, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
		import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

        const firebaseConfig = {
			apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
			authDomain: "al-khat-backend.firebaseapp.com",
			projectId: "al-khat-backend",
			storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE EXACT BUCKET YOU FOUND
			messagingSenderId: "310033181926",
			appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
		};

        const app = initializeApp(firebaseConfig);
		const auth = getAuth(app);
		const db = getFirestore(app);
		const storage = getStorage(app); // Initialize Storage
		const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        let currentTargetId = null;
		let currentImageUrl = null; // Tracks existing images during edits

        /* =======================================================
           BILINGUAL DICTIONARY MATRIX
           ======================================================= */
        window.currentLang = 'en';
        
        const dictionary = {
            en: {
                header: "<i class='fas fa-rocket'></i> PACKAGE DEPLOYMENT TERMINAL",
                btnReturn: "RETURN TO BASE",
                panel1: "<i class='fas fa-plus-square'></i> CONSTRUCT NEW PACKAGE",
                lblName: "Operation Name (e.g., Travel to Germany)",
                lblDesc: "Mission Briefing (Description)",
                lblStart: "Start Date",
                lblEnd: "End Date",
                lblOld: "Original Price ($)",
                lblNew: "Offer Price ($)",
                lblReq: "Requirements (Comma separated: Passport, ID, Photos...)",
                btnDeploy: "AUTHORIZE DEPLOYMENT",
                btnUpdate: "UPDATE DEPLOYMENT",
                btnCancel: "ABORT EDIT",
                panel2: "<i class='fas fa-satellite-dish'></i> ACTIVE DEPLOYMENTS",
                loading: "Scanning frequencies...",
                empty: "No active promotions.",
                btnOverride: "OVERRIDE",
                btnTerminate: "TERMINATE",
                cardOffer: "Offer:",
                cardWas: "was",
                cardValid: "Valid:"
            },
            ar: {
                header: "<i class='fas fa-rocket'></i> لوحة تحكم نشر الباقات",
                btnReturn: "العودة للقاعدة الرئيسية",
                panel1: "<i class='fas fa-plus-square'></i> إنشاء باقة جديدة",
                lblName: "اسم العملية (مثال: السفر إلى إسبانيا)",
                lblDesc: "تفاصيل المهمة (الوصف المستهدف)",
                lblStart: "تاريخ البدء",
                lblEnd: "تاريخ الانتهاء",
                lblOld: "السعر الأصلي ($)",
                lblNew: "سعر العرض ($)",
                lblReq: "المتطلبات (افصل بينها بفاصلة: جواز سفر، هوية، صور...)",
                btnDeploy: "تصريح النشر الآن",
                btnUpdate: "تحديث بيانات النشر",
                btnCancel: "إلغاء التعديل",
                panel2: "<i class='fas fa-satellite-dish'></i> الباقات الفعالة حالياً",
                loading: "جاري فحص قاعدة البيانات...",
                empty: "لا يوجد باقات فعالة في الوقت الحالي.",
                btnOverride: "تعديل",
                btnTerminate: "إنهاء وحذف",
                cardOffer: "العرض:",
                cardWas: "بدلًا من",
                cardValid: "صالح من:"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const lang = window.currentLang;
            const dict = dictionary[lang];

            // Toggle Direction & Font
            document.documentElement.lang = lang;
            document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = lang === 'en' ? 'عربي' : 'English';

            // Apply Dictionary
            document.getElementById('ui-header-title').innerHTML = dict.header;
            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-panel1-title').innerHTML = dict.panel1;
            document.getElementById('ui-lbl-name').innerText = dict.lblName;
            document.getElementById('ui-lbl-desc').innerText = dict.lblDesc;
            document.getElementById('ui-lbl-start').innerText = dict.lblStart;
            document.getElementById('ui-lbl-end').innerText = dict.lblEnd;
            document.getElementById('ui-lbl-old').innerText = dict.lblOld;
            document.getElementById('ui-lbl-new').innerText = dict.lblNew;
            document.getElementById('ui-lbl-req').innerText = dict.lblReq;
            document.getElementById('ui-panel2-title').innerHTML = dict.panel2;
            
            // Adjust buttons based on state
            document.getElementById('btn-deploy').innerText = currentTargetId ? dict.btnUpdate : dict.btnDeploy;
            document.getElementById('btn-cancel').innerText = dict.btnCancel;

            // Re-render packages to translate dynamic buttons and text
            fetchPackages();
        }

        /* =======================================================
           FIREBASE ENGINE
           ======================================================= */
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchPackages();
            }
        });

        document.getElementById('deploy-form').addEventListener('submit', async (e) => {
			e.preventDefault();
			const btn = document.getElementById('btn-deploy');
			btn.innerText = "UPLOADING ASSETS..."; btn.disabled = true;

			let finalImageUrl = currentImageUrl;
			const imgInput = document.getElementById('pkg-img');

			try {
				// If a new image was selected, upload it first
				if (imgInput.files.length > 0) {
					const imgFile = imgInput.files[0];
					const storageRef = ref(storage, `promotions/${Date.now()}_${imgFile.name}`);
					const uploadSnap = await uploadBytes(storageRef, imgFile);
					finalImageUrl = await getDownloadURL(uploadSnap.ref);
				}

				const payload = {
					name: document.getElementById('pkg-name').value,
					desc: document.getElementById('pkg-desc').value,
					startDate: document.getElementById('pkg-start').value,
					endDate: document.getElementById('pkg-end').value,
					oldPrice: document.getElementById('pkg-old-price').value,
					newPrice: document.getElementById('pkg-new-price').value,
					reqs: document.getElementById('pkg-req').value,
					imageUrl: finalImageUrl || null // Save the URL to the database
				};

				if (currentTargetId) {
					await updateDoc(doc(db, "promotions", currentTargetId), payload);
					alert("Operation parameters updated successfully.");
				} else {
					payload.timestamp = new Date(); 
					await addDoc(collection(db, "promotions"), payload);
				}
				
				cancelOverride();
				fetchPackages();
			} catch (error) { 
				alert("Deployment Error: " + error.message); 
				btn.innerText = currentTargetId ? "UPDATE DEPLOYMENT" : "AUTHORIZE DEPLOYMENT";
				btn.disabled = false;
			}
		});

        async function fetchPackages() {
            const container = document.getElementById('active-packages');
            const dict = dictionary[window.currentLang];
            container.innerHTML = "";
            
            const q = query(collection(db, "promotions"), orderBy("timestamp", "desc"));
            const snapshot = await getDocs(q);

            if(snapshot.empty) { container.innerHTML = `<p>${dict.empty}</p>`; return; }

            snapshot.forEach(docSnap => {
                const data = docSnap.data();
                container.innerHTML += `
                    <div class="package-card">
                        <h4>${data.name}</h4>
                        <p style="font-size:0.8rem; margin: 5px 0;">${dict.cardOffer} $${data.newPrice} (${dict.cardWas} <strike>$${data.oldPrice}</strike>)</p>
                        <p style="font-size:0.8rem; color:gray;">${dict.cardValid} ${data.startDate} ➝ ${data.endDate}</p>
                        
                        <div style="margin-top: 15px; display: flex; gap: 10px;">
                            <button class="btn" style="width: auto; padding: 5px 10px; font-size: 0.8rem; border-color: #00ff88; color: #00ff88;" onclick="overridePackage('${docSnap.id}')">${dict.btnOverride}</button>
                            <button class="btn btn-danger" onclick="deletePackage('${docSnap.id}')">${dict.btnTerminate}</button>
                        </div>
                    </div>
                `;
            });
        }

        window.overridePackage = async function(id) {
            const docRef = doc(db, "promotions", id);
            const docSnap = await getDoc(docRef);
            
            if (docSnap.exists()) {
                const data = docSnap.data();
                
                document.getElementById('pkg-name').value = data.name;
                document.getElementById('pkg-desc').value = data.desc;
                document.getElementById('pkg-start').value = data.startDate;
                document.getElementById('pkg-end').value = data.endDate;
                document.getElementById('pkg-old-price').value = data.oldPrice;
                document.getElementById('pkg-new-price').value = data.newPrice;
                document.getElementById('pkg-req').value = data.reqs;
				
				// Handle image state tracking
				currentImageUrl = data.imageUrl || null;
				document.getElementById('pkg-img').value = ""; // Clear file input
				if(currentImageUrl) {
					document.getElementById('current-img-status').innerHTML = '<i class="fas fa-image"></i> Package has an active cover photo. Upload a new one to replace it.';
				} else {
					document.getElementById('current-img-status').innerText = '';
				}

                currentTargetId = id;
                const dict = dictionary[window.currentLang];
                
                document.getElementById('btn-deploy').innerText = dict.btnUpdate;
                document.getElementById('btn-deploy').style.borderColor = "#00ff88";
                document.getElementById('btn-deploy').style.color = "#00ff88";
                document.getElementById('btn-cancel').style.display = "block";
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        window.cancelOverride = function() {
            currentTargetId = null;
			currentImageUrl = null; // Clear tracking
            document.getElementById('deploy-form').reset();
			document.getElementById('current-img-status').innerText = '';
            
            const btn = document.getElementById('btn-deploy');
			btn.innerText = "AUTHORIZE DEPLOYMENT";
			btn.disabled = false;
			btn.style.borderColor = "#00f2ff";
			btn.style.color = "#00f2ff";
            
            document.getElementById('btn-cancel').style.display = "none";
        }

        window.deletePackage = async function(id) {
            const msg = window.currentLang === 'en' ? "Are you sure you want to terminate this package?" : "هل أنت متأكد من رغبتك في حذف هذه الباقة؟";
            if(confirm(msg)) {
                await deleteDoc(doc(db, "promotions", id));
                fetchPackages();
            }
        }
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

5. (admin_employment_dashboard.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEPLOYMENT COMMAND | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* TACTICAL TERMINAL STYLES */
        body {
            background-color: #050a15;
            color: #00f2ff;
            font-family: 'Share Tech Mono', monospace, sans-serif;
            margin: 0; padding: 0;
            transition: all 0.3s ease;
        }

        /* RTL (Arabic) Support */
        body[dir="rtl"] {
            font-family: 'Cairo', sans-serif;
        }

        /* --- ADMIN DASHBOARD LAYOUT --- */
        .admin-wrapper { display: flex; min-height: 100vh; }
        
        .admin-sidebar {
            width: 260px;
            background: rgba(0, 0, 0, 0.6);
            border-right: 1px solid rgba(0, 242, 255, 0.2);
            padding: 20px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }

        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a {
            display: block; padding: 12px 15px; color: #ccc; text-decoration: none;
            border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem;
        }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active {
            background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff;
        }
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }

        .admin-main-content {
            flex-grow: 1; padding: 20px 40px; overflow-y: auto;
        }

        .header { 
            border-bottom: 1px solid rgba(0, 242, 255, 0.2); padding-bottom: 20px; 
            margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; 
        }
        
        .grid-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.03); padding: 20px; }
        .panel h3 { margin-top: 0; color: #ff4b5c; border-bottom: 1px solid #ff4b5c; padding-bottom: 10px; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; opacity: 0.8; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: inherit; box-sizing: border-box; }
        input:focus, textarea:focus { border-color: #00f2ff; outline: none; }
        
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; transition: 0.3s; width: 100%; font-family: inherit; font-size: 1rem; font-weight: bold; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-danger { border-color: #ff4b5c; color: #ff4b5c; width: auto; padding: 5px 10px; font-size: 0.8rem; }
        .btn-danger:hover { background: #ff4b5c; color: white; }
        .btn-warning { border-color: #ffc107; color: #ffc107; width: auto; padding: 10px 20px;}
        .btn-warning:hover { background: #ffc107; color: #050a15; }

        .package-card { border: 1px dashed rgba(0, 242, 255, 0.4); padding: 15px; margin-bottom: 15px; background: rgba(0,0,0,0.4); }
        .package-card h4 { margin: 0 0 10px 0; color: white; }

        @media (max-width: 900px) {
            .admin-wrapper { flex-direction: column; }
            .admin-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .grid-layout { grid-template-columns: 1fr; }
            .header { flex-direction: column; gap: 15px; text-align: center; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
	<div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
                
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html" class="active"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>

        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="admin-main-content">
            <div class="header">
                <h2 id="ui-header-title" style="margin:0;"><i class="fas fa-rocket"></i> PACKAGE DEPLOYMENT TERMINAL</h2>
                <div style="display: flex; gap: 15px;">
                    <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
                </div>
            </div>

            <div class="grid-layout">
                <div class="panel">
                    <h3 id="ui-panel1-title"><i class="fas fa-plus-square"></i> CONSTRUCT NEW PACKAGE</h3>
                    <form id="deploy-form">
                        <div class="form-group">
                            <label id="ui-lbl-name">Operation Name (e.g., Travel to Germany)</label>
                            <input type="text" id="pkg-name" required>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-desc">Mission Briefing (Description)</label>
                            <textarea id="pkg-desc" rows="3" required></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group"><label id="ui-lbl-start">Start Date</label><input type="date" id="pkg-start" required></div>
                            <div class="form-group"><label id="ui-lbl-end">End Date</label><input type="date" id="pkg-end" required></div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group"><label id="ui-lbl-old">Original Price ($)</label><input type="number" id="pkg-old-price" required></div>
                            <div class="form-group"><label id="ui-lbl-new">Offer Price ($)</label><input type="number" id="pkg-new-price" required></div>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-req">Requirements (Comma separated: Passport, ID, Photos...)</label>
                            <textarea id="pkg-req" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
							<label id="ui-lbl-img">Package Image (Cover Photo)</label>
							<input type="file" id="pkg-img" accept="image/*">
							<div id="current-img-status" style="margin-top:5px; font-size:0.8rem; color:var(--term-green);"></div>
						</div>
                        <div style="display: flex; gap: 10px;">
                            <button type="submit" class="btn" id="btn-deploy">AUTHORIZE DEPLOYMENT</button>
                            <button type="button" class="btn btn-danger" id="btn-cancel" style="display: none; padding: 10px 20px; font-size: 1rem;" onclick="cancelOverride()">ABORT EDIT</button>
                        </div>
                    </form>
                </div>

                <div class="panel">
                    <h3 style="color: #00ff88; border-color: #00ff88;" id="ui-panel2-title"><i class="fas fa-satellite-dish"></i> ACTIVE DEPLOYMENTS</h3>
                    <div id="active-packages">
                        <p id="ui-loading">Scanning frequencies...</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc, getDoc, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
		import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

        const firebaseConfig = {
			apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
			authDomain: "al-khat-backend.firebaseapp.com",
			projectId: "al-khat-backend",
			storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE EXACT BUCKET YOU FOUND
			messagingSenderId: "310033181926",
			appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
		};

        const app = initializeApp(firebaseConfig);
		const auth = getAuth(app);
		const db = getFirestore(app);
		const storage = getStorage(app); // Initialize Storage
		const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        let currentTargetId = null;
		let currentImageUrl = null; // Tracks existing images during edits

        /* =======================================================
           BILINGUAL DICTIONARY MATRIX
           ======================================================= */
        window.currentLang = 'en';
        
        const dictionary = {
            en: {
                header: "<i class='fas fa-rocket'></i> PACKAGE DEPLOYMENT TERMINAL",
                btnReturn: "RETURN TO BASE",
                panel1: "<i class='fas fa-plus-square'></i> CONSTRUCT NEW PACKAGE",
                lblName: "Operation Name (e.g., Travel to Germany)",
                lblDesc: "Mission Briefing (Description)",
                lblStart: "Start Date",
                lblEnd: "End Date",
                lblOld: "Original Price ($)",
                lblNew: "Offer Price ($)",
                lblReq: "Requirements (Comma separated: Passport, ID, Photos...)",
                btnDeploy: "AUTHORIZE DEPLOYMENT",
                btnUpdate: "UPDATE DEPLOYMENT",
                btnCancel: "ABORT EDIT",
                panel2: "<i class='fas fa-satellite-dish'></i> ACTIVE DEPLOYMENTS",
                loading: "Scanning frequencies...",
                empty: "No active promotions.",
                btnOverride: "OVERRIDE",
                btnTerminate: "TERMINATE",
                cardOffer: "Offer:",
                cardWas: "was",
                cardValid: "Valid:"
            },
            ar: {
                header: "<i class='fas fa-rocket'></i> لوحة تحكم نشر الباقات",
                btnReturn: "العودة للقاعدة الرئيسية",
                panel1: "<i class='fas fa-plus-square'></i> إنشاء باقة جديدة",
                lblName: "اسم العملية (مثال: السفر إلى إسبانيا)",
                lblDesc: "تفاصيل المهمة (الوصف المستهدف)",
                lblStart: "تاريخ البدء",
                lblEnd: "تاريخ الانتهاء",
                lblOld: "السعر الأصلي ($)",
                lblNew: "سعر العرض ($)",
                lblReq: "المتطلبات (افصل بينها بفاصلة: جواز سفر، هوية، صور...)",
                btnDeploy: "تصريح النشر الآن",
                btnUpdate: "تحديث بيانات النشر",
                btnCancel: "إلغاء التعديل",
                panel2: "<i class='fas fa-satellite-dish'></i> الباقات الفعالة حالياً",
                loading: "جاري فحص قاعدة البيانات...",
                empty: "لا يوجد باقات فعالة في الوقت الحالي.",
                btnOverride: "تعديل",
                btnTerminate: "إنهاء وحذف",
                cardOffer: "العرض:",
                cardWas: "بدلًا من",
                cardValid: "صالح من:"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const lang = window.currentLang;
            const dict = dictionary[lang];

            // Toggle Direction & Font
            document.documentElement.lang = lang;
            document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = lang === 'en' ? 'عربي' : 'English';

            // Apply Dictionary
            document.getElementById('ui-header-title').innerHTML = dict.header;
            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-panel1-title').innerHTML = dict.panel1;
            document.getElementById('ui-lbl-name').innerText = dict.lblName;
            document.getElementById('ui-lbl-desc').innerText = dict.lblDesc;
            document.getElementById('ui-lbl-start').innerText = dict.lblStart;
            document.getElementById('ui-lbl-end').innerText = dict.lblEnd;
            document.getElementById('ui-lbl-old').innerText = dict.lblOld;
            document.getElementById('ui-lbl-new').innerText = dict.lblNew;
            document.getElementById('ui-lbl-req').innerText = dict.lblReq;
            document.getElementById('ui-panel2-title').innerHTML = dict.panel2;
            
            // Adjust buttons based on state
            document.getElementById('btn-deploy').innerText = currentTargetId ? dict.btnUpdate : dict.btnDeploy;
            document.getElementById('btn-cancel').innerText = dict.btnCancel;

            // Re-render packages to translate dynamic buttons and text
            fetchPackages();
        }

        /* =======================================================
           FIREBASE ENGINE
           ======================================================= */
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchPackages();
            }
        });

        document.getElementById('deploy-form').addEventListener('submit', async (e) => {
			e.preventDefault();
			const btn = document.getElementById('btn-deploy');
			btn.innerText = "UPLOADING ASSETS..."; btn.disabled = true;

			let finalImageUrl = currentImageUrl;
			const imgInput = document.getElementById('pkg-img');

			try {
				// If a new image was selected, upload it first
				if (imgInput.files.length > 0) {
					const imgFile = imgInput.files[0];
					const storageRef = ref(storage, `promotions/${Date.now()}_${imgFile.name}`);
					const uploadSnap = await uploadBytes(storageRef, imgFile);
					finalImageUrl = await getDownloadURL(uploadSnap.ref);
				}

				const payload = {
					name: document.getElementById('pkg-name').value,
					desc: document.getElementById('pkg-desc').value,
					startDate: document.getElementById('pkg-start').value,
					endDate: document.getElementById('pkg-end').value,
					oldPrice: document.getElementById('pkg-old-price').value,
					newPrice: document.getElementById('pkg-new-price').value,
					reqs: document.getElementById('pkg-req').value,
					imageUrl: finalImageUrl || null // Save the URL to the database
				};

				if (currentTargetId) {
					await updateDoc(doc(db, "promotions", currentTargetId), payload);
					alert("Operation parameters updated successfully.");
				} else {
					payload.timestamp = new Date(); 
					await addDoc(collection(db, "promotions"), payload);
				}
				
				cancelOverride();
				fetchPackages();
			} catch (error) { 
				alert("Deployment Error: " + error.message); 
				btn.innerText = currentTargetId ? "UPDATE DEPLOYMENT" : "AUTHORIZE DEPLOYMENT";
				btn.disabled = false;
			}
		});

        async function fetchPackages() {
            const container = document.getElementById('active-packages');
            const dict = dictionary[window.currentLang];
            container.innerHTML = "";
            
            const q = query(collection(db, "promotions"), orderBy("timestamp", "desc"));
            const snapshot = await getDocs(q);

            if(snapshot.empty) { container.innerHTML = `<p>${dict.empty}</p>`; return; }

            snapshot.forEach(docSnap => {
                const data = docSnap.data();
                container.innerHTML += `
                    <div class="package-card">
                        <h4>${data.name}</h4>
                        <p style="font-size:0.8rem; margin: 5px 0;">${dict.cardOffer} $${data.newPrice} (${dict.cardWas} <strike>$${data.oldPrice}</strike>)</p>
                        <p style="font-size:0.8rem; color:gray;">${dict.cardValid} ${data.startDate} ➝ ${data.endDate}</p>
                        
                        <div style="margin-top: 15px; display: flex; gap: 10px;">
                            <button class="btn" style="width: auto; padding: 5px 10px; font-size: 0.8rem; border-color: #00ff88; color: #00ff88;" onclick="overridePackage('${docSnap.id}')">${dict.btnOverride}</button>
                            <button class="btn btn-danger" onclick="deletePackage('${docSnap.id}')">${dict.btnTerminate}</button>
                        </div>
                    </div>
                `;
            });
        }

        window.overridePackage = async function(id) {
            const docRef = doc(db, "promotions", id);
            const docSnap = await getDoc(docRef);
            
            if (docSnap.exists()) {
                const data = docSnap.data();
                
                document.getElementById('pkg-name').value = data.name;
                document.getElementById('pkg-desc').value = data.desc;
                document.getElementById('pkg-start').value = data.startDate;
                document.getElementById('pkg-end').value = data.endDate;
                document.getElementById('pkg-old-price').value = data.oldPrice;
                document.getElementById('pkg-new-price').value = data.newPrice;
                document.getElementById('pkg-req').value = data.reqs;
				
				// Handle image state tracking
				currentImageUrl = data.imageUrl || null;
				document.getElementById('pkg-img').value = ""; // Clear file input
				if(currentImageUrl) {
					document.getElementById('current-img-status').innerHTML = '<i class="fas fa-image"></i> Package has an active cover photo. Upload a new one to replace it.';
				} else {
					document.getElementById('current-img-status').innerText = '';
				}

                currentTargetId = id;
                const dict = dictionary[window.currentLang];
                
                document.getElementById('btn-deploy').innerText = dict.btnUpdate;
                document.getElementById('btn-deploy').style.borderColor = "#00ff88";
                document.getElementById('btn-deploy').style.color = "#00ff88";
                document.getElementById('btn-cancel').style.display = "block";
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        window.cancelOverride = function() {
            currentTargetId = null;
			currentImageUrl = null; // Clear tracking
            document.getElementById('deploy-form').reset();
			document.getElementById('current-img-status').innerText = '';
            
            const btn = document.getElementById('btn-deploy');
			btn.innerText = "AUTHORIZE DEPLOYMENT";
			btn.disabled = false;
			btn.style.borderColor = "#00f2ff";
			btn.style.color = "#00f2ff";
            
            document.getElementById('btn-cancel').style.display = "none";
        }

        window.deletePackage = async function(id) {
            const msg = window.currentLang === 'en' ? "Are you sure you want to terminate this package?" : "هل أنت متأكد من رغبتك في حذف هذه الباقة؟";
            if(confirm(msg)) {
                await deleteDoc(doc(db, "promotions", id));
                fetchPackages();
            }
        }
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

6. (admin_inbox.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHA INBOX | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace, sans-serif; margin: 0; padding: 0; transition: all 0.3s ease;}
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }
        .admin-wrapper { display: flex; height: 100vh; overflow: hidden; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #ccc; text-decoration: none; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff; }
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }
        .admin-main-content { flex-grow: 1; padding: 20px; display: grid; grid-template-columns: 250px 1fr 300px; gap: 20px; overflow-y: hidden; }
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.02); display: flex; flex-direction: column; overflow: hidden; }
        .panel-header { padding: 15px; border-bottom: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0,0,0,0.5); }
        .panel-header h3 { margin: 0; font-size: 1rem; color: #00ff88; }
        .panel-content { padding: 15px; overflow-y: auto; flex-grow: 1; }
        .agent-list { list-style: none; padding: 0; margin: 0; }
        .agent-item { padding: 10px; border-bottom: 1px solid rgba(0,242,255,0.1); cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 10px; }
        .agent-item:hover, .agent-item.active { background: rgba(0,242,255,0.1); border-left: 3px solid #00f2ff; }
        body[dir="rtl"] .agent-item:hover, body[dir="rtl"] .agent-item.active { border-left: none; border-right: 3px solid #00f2ff; }
        .agent-avatar { width: 30px; height: 30px; border-radius: 50%; background: #333; background-size: cover; background-position: center; }
        .agent-name { font-size: 0.8rem; color: white; }
        .agent-id { font-size: 0.6rem; color: #aaa; }
        .chat-box { display: flex; flex-direction: column; gap: 10px; flex-grow: 1; margin-bottom: 15px; }
        .msg { padding: 8px 12px; border-radius: 5px; max-width: 80%; font-size: 0.9rem; }
        .msg.admin { background: rgba(255, 75, 92, 0.1); border-right: 3px solid #ff4b5c; align-self: flex-end; color: #ff4b5c; text-align: right; }
        body[dir="rtl"] .msg.admin { border-right: none; border-left: 3px solid #ff4b5c; text-align: left; }
        .msg.op { background: rgba(0, 242, 255, 0.1); border-left: 3px solid #00f2ff; align-self: flex-start; color: white; }
        body[dir="rtl"] .msg.op { border-left: none; border-right: 3px solid #00f2ff; }
        .msg-time { font-size: 0.6rem; opacity: 0.5; margin-top: 5px; display: block; }
        .chat-input-area { display: flex; gap: 10px; padding: 15px; border-top: 1px solid rgba(0,242,255,0.2); background: rgba(0,0,0,0.5); }
        .chat-input-area input { flex-grow: 1; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid #00f2ff; color: white; font-family: inherit; }
        .chat-input-area input:focus { outline: none; box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #050a15; }
        .btn-warning { border-color: #ffc107; color: #ffc107; }
        .btn-warning:hover { background: #ffc107; color: #050a15; }
        .file-card { border: 1px dashed rgba(0, 255, 136, 0.3); padding: 10px; margin-bottom: 10px; background: rgba(0,0,0,0.4); }
        .file-name { color: white; font-size: 0.8rem; margin-bottom: 5px; word-break: break-all; }
        .file-sender { color: #aaa; font-size: 0.7rem; margin-bottom: 10px; }
        .btn-download { font-size: 0.7rem; padding: 5px 10px; width: 100%; display: block; text-align: center; text-decoration: none; box-sizing: border-box; }
        @media (max-width: 900px) {
            .admin-wrapper { flex-direction: column; height: auto; }
            .admin-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .admin-main-content { grid-template-columns: 1fr; overflow-y: auto; }
            .panel { min-height: 400px; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html" class="active"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>
			<div style="margin-top: auto; padding-top: 20px;">
				<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
					RETURN TO BASE
				</button>
			</div>
			<div style="margin-top: auto; padding-top: 20px;">
				<button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
					<i class="fas fa-power-off"></i> DISCONNECT UPLINK
				</button>
			</div>
        </aside>

        <main class="admin-main-content">
            
            <div class="panel">
                <div class="panel-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <h3 style="color:#00f2ff;" id="ui-panel1-title"><i class="fas fa-users"></i> ACTIVE COMMS</h3>
                    <button class="btn btn-warning" style="padding: 5px 10px; font-size: 0.8rem;" id="btn-lang" onclick="toggleLanguage()">عربي</button>
                </div>
                <div class="panel-content" style="padding: 0;">
                    <ul class="agent-list" id="agent-roster">
                        <li style="padding: 15px; color: gray; font-size: 0.8rem; text-align:center;" id="ui-msg-scan">Scanning channels...</li>
                    </ul>
                </div>
            </div>

            <div class="panel" style="display: flex; flex-direction: column;">
                <div class="panel-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <h3 id="chat-title" style="margin: 0;"><i class="fas fa-satellite-dish"></i> <span id="ui-panel2-title">DIRECT CHANNEL: [STANDBY]</span></h3>
                    <button class="btn btn-green" id="btn-export-chat" style="width: auto; padding: 5px 10px; font-size: 0.8rem; display: none;" onclick="exportChatToCSV()"><i class="fas fa-file-csv"></i> EXPORT LOG</button>
                </div>
                <div class="panel-content chat-box" id="chat-window">
                    <p style="text-align:center; color:gray; font-size:0.8rem; margin:auto;" id="ui-msg-select">Select an operative to open frequency.</p>
                </div>
                <form class="chat-input-area" id="chat-form">
                    <input type="text" id="chat-input" placeholder="Transmit to Operative..." required autocomplete="off" disabled>
                    <button type="submit" class="btn" id="btn-send" disabled><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <h3 id="ui-panel3-title"><i class="fas fa-file-download"></i> PAYLOAD INBOX</h3>
                </div>
                <div class="panel-content" id="file-inbox">
                    <p style="text-align:center; color:gray; font-size:0.8rem;" id="ui-msg-decrypt">Decrypting inbox...</p>
                </div>
            </div>

        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { db } from './assets/js/firebase-init.js';
        import { collection, query, orderBy, onSnapshot, getDocs, addDoc, serverTimestamp, where } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const app = getApp();
        const auth = getAuth(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
        
        let activeChatUid = null;
        let activeChatName = null;
        let chatUnsubscribe = null; 
        let activeChatLog = []; 

        /* ================= BILINGUAL DICTIONARY ================= */
        window.currentLang = 'en';
        const dictionary = {
            en: {
                btnReturn: "RETURN TO BASE",
                panel1: "<i class='fas fa-users'></i> ACTIVE COMMS",
                panel2: "DIRECT CHANNEL:",
                panel3: "<i class='fas fa-file-download'></i> PAYLOAD INBOX",
                msgScan: "Scanning channels...",
                msgEmptyRoster: "No agents found.",
                msgSelect: "Select an operative to open frequency.",
                msgClear: "Frequency clear. Begin transmission.",
                msgDecrypt: "Decrypting inbox...",
                msgEmptyInbox: "Inbox empty. No payloads pending.",
                placeholderInput: "Transmit to Operative...",
                btnExport: "<i class='fas fa-file-csv'></i> EXPORT LOG",
                btnDownload: "<i class='fas fa-download'></i> EXTRACT PAYLOAD",
                txtFrom: "From:",
                txtAdmin: "ALPHA COMMAND"
            },
            ar: {
                btnReturn: "العودة للقاعدة الرئيسية",
                panel1: "<i class='fas fa-users'></i> الاتصالات النشطة",
                panel2: "قناة مباشرة:",
                panel3: "<i class='fas fa-file-download'></i> صندوق الملفات",
                msgScan: "جاري فحص القنوات...",
                msgEmptyRoster: "لا يوجد موظفين.",
                msgSelect: "اختر موظفاً لفتح قناة الاتصال.",
                msgClear: "القناة جاهزة. ابدأ الإرسال.",
                msgDecrypt: "جاري فك تشفير الصندوق...",
                msgEmptyInbox: "الصندوق فارغ. لا توجد ملفات معلقة.",
                placeholderInput: "أرسل رسالة للموظف...",
                btnExport: "<i class='fas fa-file-csv'></i> استخراج السجل",
                btnDownload: "<i class='fas fa-download'></i> تحميل الملف",
                txtFrom: "من:",
                txtAdmin: "القيادة الرئيسية"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-panel1-title').innerHTML = dict.panel1;
            document.getElementById('ui-panel3-title').innerHTML = dict.panel3;
            document.getElementById('chat-input').placeholder = dict.placeholderInput;
            document.getElementById('btn-export-chat').innerHTML = dict.btnExport;

            if(!activeChatUid) {
                document.getElementById('ui-panel2-title').innerText = `${dict.panel2} [STANDBY]`;
                document.getElementById('ui-msg-select').innerText = dict.msgSelect;
            } else {
                document.getElementById('ui-panel2-title').innerText = `${dict.panel2} ${activeChatName.toUpperCase()}`;
            }

            fetchRoster();
            listenToInbox();
            if(activeChatUid) openComms(activeChatUid, activeChatName);
        }

        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchRoster();
                listenToInbox();
            }
        });

        async function fetchRoster() {
            const rosterList = document.getElementById('agent-roster');
            const dict = dictionary[window.currentLang];
            const q = query(collection(db, "employees"), orderBy("timestamp", "desc"));
            const snapshot = await getDocs(q);

            rosterList.innerHTML = "";
            if(snapshot.empty) { rosterList.innerHTML = `<li style='padding: 15px; color: gray;'>${dict.msgEmptyRoster}</li>`; return; }

            snapshot.forEach(docSnap => {
                const data = docSnap.data();
                const photo = data.photo || "https://via.placeholder.com/30";
                const agentUid = data.uid; 
                
                rosterList.innerHTML += `
                    <li class="agent-item ${activeChatUid === agentUid ? 'active' : ''}" onclick="openComms('${agentUid}', '${data.name}')" id="agent-${agentUid}">
                        <div class="agent-avatar" style="background-image: url('${photo}');"></div>
                        <div>
                            <div class="agent-name">${data.name}</div>
                            <div class="agent-id">[${data.empId}]</div>
                        </div>
                    </li>
                `;
            });
        }

        window.openComms = function(uid, name) {
            document.querySelectorAll('.agent-item').forEach(el => el.classList.remove('active'));
            const activeEl = document.getElementById(`agent-${uid}`);
            if(activeEl) activeEl.classList.add('active');

            activeChatUid = uid;
            activeChatName = name;
            const dict = dictionary[window.currentLang];

            document.getElementById('ui-panel2-title').innerText = `${dict.panel2} ${name.toUpperCase()}`;
            document.getElementById('chat-input').disabled = false;
            document.getElementById('btn-send').disabled = false;

            const chatWindow = document.getElementById('chat-window');

            if(chatUnsubscribe) chatUnsubscribe();

            const q = query(collection(db, "messages"), where("empUid", "==", uid), orderBy("timestamp", "asc"));
            
            chatUnsubscribe = onSnapshot(q, (snapshot) => {
                chatWindow.innerHTML = "";
                activeChatLog = []; 
                document.getElementById('btn-export-chat').style.display = "block"; 
                
                if(snapshot.empty) {
                    chatWindow.innerHTML = `<p style='text-align:center; color:gray; font-size:0.8rem; margin:auto;'>${dict.msgClear}</p>`;
                }

                snapshot.forEach(doc => {
                    const data = doc.data();
                    const isAdmin = data.sender === "Admin";
                    const time = data.timestamp ? data.timestamp.toDate().toLocaleTimeString() : "Sending...";
                    
                    activeChatLog.push({ sender: isAdmin ? dict.txtAdmin : name, time: time, message: data.text.replace(/"/g, '""') });
                    
                    chatWindow.innerHTML += `
                        <div class="msg ${isAdmin ? 'admin' : 'op'}">
                            <strong>${isAdmin ? dict.txtAdmin : name}</strong><br>
                            ${data.text}
                            <span class="msg-time">${time}</span>
                        </div>
                    `;
                });
                chatWindow.scrollTop = chatWindow.scrollHeight;
            });
        }

        document.getElementById('chat-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            if(!activeChatUid) return;
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if(!text) return;
            input.value = ""; 

            try {
                await addDoc(collection(db, "messages"), { empUid: activeChatUid, sender: "Admin", text: text, timestamp: serverTimestamp() });
            } catch(error) { alert("ERROR: " + error.message); }
        });

        function listenToInbox() {
            const inboxBox = document.getElementById('file-inbox');
            const dict = dictionary[window.currentLang];
            const q = query(collection(db, "admin_inbox"), orderBy("timestamp", "desc"));
            
            onSnapshot(q, (snapshot) => {
                inboxBox.innerHTML = "";
                if(snapshot.empty) {
                    inboxBox.innerHTML = `<p style='text-align:center; color:gray; font-size:0.8rem;'>${dict.msgEmptyInbox}</p>`;
                    return;
                }

                snapshot.forEach(doc => {
                    const data = doc.data();
                    const time = data.timestamp ? data.timestamp.toDate().toLocaleString() : "Syncing...";
                    
                    inboxBox.innerHTML += `
                        <div class="file-card">
                            <div class="file-name"><i class="fas fa-file"></i> ${data.fileName}</div>
                            <div class="file-sender">${dict.txtFrom} ${data.empName}<br>${time}</div>
                            <a href="${data.fileUrl}" target="_blank" class="btn btn-green btn-download">${dict.btnDownload}</a>
                        </div>
                    `;
                });
            });
        }
        
        window.exportChatToCSV = function() {
            if(activeChatLog.length === 0) return;
            
            // 1. Bilingual Headers
            let csvContent = window.currentLang === 'en' ? 
                "Timestamp,Sender,Transmission\n" : 
                "الوقت,المرسل,محتوى الرسالة\n";
                
            activeChatLog.forEach(row => { csvContent += `"${row.time}","${row.sender}","${row.message}"\n`; });
            
            // 2. Inject UTF-8 BOM (\uFEFF) to fix Excel Arabic symbols
            const BOM = "\uFEFF";
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `Comms_Log_${activeChatUid}_${new Date().toLocaleDateString()}.csv`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
		
		window.executeLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// Set the text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع اتصال المسؤول<span class='dots'>...</span>" 
					: "ADMIN DISCONNECTING<span class='dots'>...</span>";
			}

			// Show the loader
			if (loader) loader.classList.add('active');

			// Wait for the animation, then sign out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = "login_emp.html"; 
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					alert("LOGOUT ERROR: " + err.message);
				});
			}, 800);
		}
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; 

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}

				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');

					// IMPORTANT: If the link is the logout (javascript:void), let executeLogout() handle it
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); 
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

7. (admin_login.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHA COMMAND | Secure Uplink</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body {
            background-color: #050a15; color: #00f2ff;
            font-family: 'Share Tech Mono', monospace;
            margin: 0; display: flex; align-items: center; justify-content: center;
            height: 100vh; overflow: hidden;
            background-image: radial-gradient(circle at 50% 50%, rgba(0, 242, 255, 0.05) 0%, transparent 60%);
        }

        .login-box {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(0, 242, 255, 0.3);
            padding: 40px; width: 100%; max-width: 400px;
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.1);
            position: relative;
        }

        .login-box::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
            background: #ff4b5c; box-shadow: 0 0 10px #ff4b5c;
        }

        .login-header { text-align: center; margin-bottom: 30px; }
        .login-header i { font-size: 3rem; color: #ff4b5c; margin-bottom: 15px; }
        .login-header h2 { margin: 0; letter-spacing: 2px; }
        .login-header p { font-size: 0.8rem; color: #888; margin-top: 5px; }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 0.8rem; color: #888; margin-bottom: 5px; text-transform: uppercase; }
        .form-group input {
            width: 100%; padding: 12px; box-sizing: border-box;
            background: rgba(0, 242, 255, 0.05); border: 1px solid rgba(0, 242, 255, 0.2);
            color: #00f2ff; font-family: 'Share Tech Mono', monospace; outline: none; transition: 0.3s;
        }
        .form-group input:focus { border-color: #00f2ff; background: rgba(0, 242, 255, 0.1); }

        .btn-exec {
            width: 100%; padding: 15px; background: transparent;
            border: 1px solid #00f2ff; color: #00f2ff; font-family: inherit; font-weight: bold;
            font-size: 1rem; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 2px;
        }
        .btn-exec:hover { background: #00f2ff; color: #050a15; box-shadow: 0 0 20px rgba(0, 242, 255, 0.4); }

        #error-msg { color: #ff4b5c; font-size: 0.85rem; text-align: center; margin-top: 15px; min-height: 20px; }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="login-box">
        <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
        </div>

        <form id="admin-login-form">
            <div class="form-group">
                <label>Admin Identification</label>
                <input type="email" id="admin-email" required placeholder="Enter commander email...">
            </div>
            <div class="form-group">
                <label>Encryption Passkey</label>
                <input type="password" id="admin-pass" required placeholder="Enter master password...">
            </div>
            <button type="submit" class="btn-exec" id="btn-submit">INITIATE UPLINK</button>
        </form>
        <div id="error-msg"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-storage-doha",
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        document.getElementById('admin-login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('admin-email').value;
            const pass = document.getElementById('admin-pass').value;
            const btn = document.getElementById('btn-submit');
            const errorDiv = document.getElementById('error-msg');

            btn.innerText = "VERIFYING CREDENTIALS...";
            btn.disabled = true;
            errorDiv.innerText = "";

            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, pass);
                const user = userCredential.user;

                if (user.uid === ADMIN_UID) {
                    btn.style.backgroundColor = "#00ff88";
                    btn.style.color = "#050a15";
                    btn.style.borderColor = "#00ff88";
                    btn.innerText = "ACCESS GRANTED. REROUTING...";
                    setTimeout(() => { window.location.href = "alpha.html"; }, 1500);
                } else {
                    // Kick them out immediately if it's a normal user trying to use the Admin Portal
                    await signOut(auth);
                    throw new Error("UNAUTHORIZED IDENTITY. UPLINK SEVERED.");
                }
            } catch (error) {
                errorDiv.innerText = "[ SECURITY BREACH ] " + error.message;
                btn.innerText = "INITIATE UPLINK";
                btn.disabled = false;
            }
        });
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

8. (admin_logs.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERSONNEL LOGS | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace, sans-serif; margin: 0; padding: 0; transition: all 0.3s ease; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }
        .admin-wrapper { display: flex; height: 100vh; overflow: hidden; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #ccc; text-decoration: none; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff; }
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }
        .admin-main-content { flex-grow: 1; padding: 30px; display: flex; flex-direction: column; overflow: hidden; }
        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(0, 242, 255, 0.2); padding-bottom: 20px; margin-bottom: 20px; }
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #050a15; }
        .btn-warning { border-color: #ffc107; color: #ffc107; }
        .btn-warning:hover { background: #ffc107; color: #050a15; }
        .log-container { flex-grow: 1; border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0,0,0,0.5); overflow-y: auto; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .data-table th { text-align: left; padding: 15px; border-bottom: 2px solid rgba(0, 242, 255, 0.2); color: #00ff88; position: sticky; top: 0; background: #050a15; }
        .data-table td { padding: 12px 15px; border-bottom: 1px solid rgba(0, 242, 255, 0.1); color: white; }
        .data-table tr:hover { background: rgba(0, 242, 255, 0.05); }
        .badge { padding: 4px 8px; border-radius: 3px; font-size: 0.75rem; font-weight: bold; border: 1px solid; }
        .badge.login { color: #00f2ff; border-color: #00f2ff; background: rgba(0, 242, 255, 0.1); }
        .badge.arrival { color: #00ff88; border-color: #00ff88; background: rgba(0, 255, 136, 0.1); }
        body[dir="rtl"] .data-table th { text-align: right; }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html" class="active"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>
            <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="admin-main-content">
            <div class="header">
                <h2 style="margin:0;" id="ui-header-title"><i class="fas fa-history"></i> SYSTEM ACTIVITY LOGS</h2>
                <div style="display: flex; gap: 15px;">
                    <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
                    <button class="btn btn-green" onclick="exportLogsToCSV()" id="ui-btn-export"><i class="fas fa-file-csv"></i> EXPORT TO CSV</button>
                </div>
            </div>

            <div class="log-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th id="ui-th-date">Date & Time</th>
                            <th id="ui-th-id">Operative ID / Name</th>
                            <th id="ui-th-event">Event Action</th>
                        </tr>
                    </thead>
                    <tbody id="log-table-body">
                        <tr><td colspan="3" style="text-align:center; color:gray;" id="ui-msg-scan">Intercepting data streams...</td></tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { db } from './assets/js/firebase-init.js';
        import { collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const app = getApp();
        const auth = getAuth(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
        let globalLogData = [];

        /* ================= BILINGUAL DICTIONARY ================= */
        window.currentLang = 'en';
        const dictionary = {
            en: {
                header: "<i class='fas fa-history'></i> SYSTEM ACTIVITY LOGS",
                btnReturn: "RETURN TO BASE",
                btnExport: "<i class='fas fa-file-csv'></i> EXPORT TO CSV",
                thDate: "Date & Time",
                thId: "Operative ID / Name",
                thEvent: "Event Action",
                msgScan: "Intercepting data streams...",
                msgEmpty: "No activity recorded.",
                eventArrival: "OFFICE ARRIVAL",
                eventLogin: "SYSTEM LOGIN"
            },
            ar: {
                header: "<i class='fas fa-history'></i> سجلات نشاط النظام",
                btnReturn: "العودة للقاعدة الرئيسية",
                btnExport: "<i class='fas fa-file-csv'></i> استخراج إلى CSV",
                thDate: "التاريخ والوقت",
                thId: "معرف / اسم الموظف",
                thEvent: "نوع الحدث",
                msgScan: "جاري اعتراض تدفق البيانات...",
                msgEmpty: "لم يتم تسجيل أي نشاط.",
                eventArrival: "تسجيل حضور للمكتب",
                eventLogin: "تسجيل دخول للنظام"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-header-title').innerHTML = dict.header;
            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-btn-export').innerHTML = dict.btnExport;
            document.getElementById('ui-th-date').innerText = dict.thDate;
            document.getElementById('ui-th-id').innerText = dict.thId;
            document.getElementById('ui-th-event').innerText = dict.thEvent;

            listenToLogs(); // Re-render table dynamically
        }

        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                listenToLogs();
            }
        });

        function listenToLogs() {
            const tableBody = document.getElementById('log-table-body');
            const dict = dictionary[window.currentLang];
            const q = query(collection(db, "employee_logs"), orderBy("timestamp", "desc"));
            
            onSnapshot(q, (snapshot) => {
                tableBody.innerHTML = "";
                globalLogData = [];
                
                if(snapshot.empty) {
                    tableBody.innerHTML = `<tr><td colspan='3' style='text-align:center; color:gray;'>${dict.msgEmpty}</td></tr>`;
                    return;
                }

                snapshot.forEach(doc => {
                    const data = doc.data();
                    const dateObj = data.timestamp ? data.timestamp.toDate() : new Date();
                    const timeString = dateObj.toLocaleString();
                    
                    let badgeClass = "login";
                    let eventText = data.event;
                    if(data.event === "OFFICE_ARRIVAL") {
                        badgeClass = "arrival";
                        eventText = dict.eventArrival;
                    } else if (data.event === "LOGIN_SUCCESS") {
                        eventText = dict.eventLogin;
                    }

                    globalLogData.push({ time: timeString, identity: data.empName || data.username || "Unknown", action: eventText });

                    tableBody.innerHTML += `
                        <tr>
                            <td>${timeString}</td>
                            <td><strong>${data.empName || data.username}</strong></td>
                            <td><span class="badge ${badgeClass}">${eventText}</span></td>
                        </tr>
                    `;
                });
            });
        }

        window.exportLogsToCSV = function() {
            if(globalLogData.length === 0) return;
            
            // 1. Bilingual Headers
            let csvContent = window.currentLang === 'en' ? 
                "Date & Time,Operative Identity,Event Action\n" : 
                "التاريخ والوقت,هوية الموظف,نوع الحدث\n";
                
            globalLogData.forEach(row => { csvContent += `"${row.time}","${row.identity}","${row.action}"\n`; });
            
            // 2. Inject UTF-8 BOM (\uFEFF) to fix Excel Arabic symbols
            const BOM = "\uFEFF"; 
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `Alpha_Command_Logs_${new Date().toLocaleDateString()}.csv`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

9. (admin_mail.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BROADCAST COMMAND | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace, sans-serif; margin: 0; padding: 0; transition: all 0.3s ease; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }
        
        .admin-wrapper { display: flex; height: 100vh; overflow: hidden; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        body[dir="rtl"] .admin-sidebar { border-right: none; border-left: 1px solid rgba(0, 242, 255, 0.2); }
        
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #ccc; text-decoration: none; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff; }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: #00f2ff; }
        
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }
        
        .admin-main-content { flex-grow: 1; padding: 30px; display: flex; justify-content: center; overflow-y: auto; }
        
        .mail-panel { width: 100%; max-width: 800px; border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.02); padding: 30px; }
        .mail-header { border-bottom: 1px solid rgba(0, 242, 255, 0.2); padding-bottom: 20px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;}
        
        .form-group { margin-bottom: 20px; }
        label { display: block; font-size: 0.8rem; opacity: 0.8; margin-bottom: 5px; color: #00f2ff; text-transform: uppercase; font-weight: bold; }
        input, textarea { width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: 'Cairo', sans-serif; box-sizing: border-box; font-size: 1rem; }
        input:focus, textarea:focus { border-color: #00f2ff; outline: none; box-shadow: 0 0 10px rgba(0, 242, 255, 0.1); }
        
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 15px 30px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; width: 100%; font-size: 1rem; letter-spacing: 1px; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #050a15; }
        .btn-warning { border-color: #ffc107; color: #ffc107; }
        .btn-warning:hover { background: #ffc107; color: #050a15; }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
            
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html" class="active"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html" class="active"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>

            <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="admin-main-content">
            <div class="mail-panel">
                <div class="mail-header">
                    <h2 style="margin:0;" id="ui-header-title"><i class="fas fa-paper-plane"></i> OFFICIAL BROADCAST TERMINAL</h2>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span style="color: #00ff88; font-size: 0.8rem; border: 1px solid; padding: 4px 8px; border-radius: 3px;" id="ui-badge">ENCRYPTED UPLINK</span>
                        <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()" style="width: auto; padding: 5px 15px; font-size: 0.8rem;">عربي</button>
                    </div>
                </div>

                <form id="email-form">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label id="ui-lbl-name">Recipient Name</label>
                            <input type="text" id="mail-name" placeholder="e.g. John Doe" required>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-email">Target Email Address</label>
                            <input type="email" id="mail-email" placeholder="client@domain.com" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label id="ui-lbl-subject">Subject Line</label>
                        <input type="text" id="mail-subject" placeholder="Official Communication from Al-Khat Al-Mudi" required>
                    </div>

                    <div class="form-group">
                        <label id="ui-lbl-body">Message Body (HTML Allowed for formatting)</label>
                        <textarea id="mail-body" rows="10" placeholder="Type your official message here..." required></textarea>
                    </div>

                    <button type="submit" class="btn btn-green" id="btn-transmit"><i class="fas fa-broadcast-tower"></i> TRANSMIT OFFICIAL COMMUNICATION</button>
                </form>
            </div>
        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        
        const auth = getAuth(getApp());
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            }
        });
    </script>

    <script>
        window.currentLang = 'en';
        const dictionary = {
            en: {
                btnReturn: "RETURN TO BASE",
                headerTitle: "<i class='fas fa-paper-plane'></i> OFFICIAL BROADCAST TERMINAL",
                badge: "ENCRYPTED UPLINK",
                lblName: "Recipient Name",
                lblEmail: "Target Email Address",
                lblSubject: "Subject Line",
                lblBody: "Message Body (HTML Allowed for formatting)",
                placeName: "e.g. John Doe",
                placeEmail: "client@domain.com",
                placeSubj: "Official Communication from Al-Khat Al-Mudi",
                placeBody: "Type your official message here...",
                btnTransmit: "<i class='fas fa-broadcast-tower'></i> TRANSMIT OFFICIAL COMMUNICATION",
                msgProcess: "<i class='fas fa-spinner fa-spin'></i> TRANSMITTING...",
                msgSuccess: "OFFICIAL BROADCAST TRANSMITTED.",
                msgError: "TRANSMISSION ERROR: "
            },
            ar: {
                btnReturn: "العودة للقاعدة الرئيسية",
                headerTitle: "<i class='fas fa-paper-plane'></i> منصة البث الرسمي",
                badge: "اتصال مشفر",
                lblName: "اسم المستلم",
                lblEmail: "البريد الإلكتروني المستهدف",
                lblSubject: "عنوان الرسالة",
                lblBody: "نص الرسالة (يدعم تنسيق HTML)",
                placeName: "مثال: أحمد محمد",
                placeEmail: "client@domain.com",
                placeSubj: "تعميم رسمي من الخط المضيء",
                placeBody: "اكتب رسالتك الرسمية هنا...",
                btnTransmit: "<i class='fas fa-broadcast-tower'></i> إرسال تعميم رسمي",
                msgProcess: "<i class='fas fa-spinner fa-spin'></i> جاري الإرسال...",
                msgSuccess: "تم إرسال التعميم الرسمي بنجاح.",
                msgError: "خطأ في الإرسال: "
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-header-title').innerHTML = dict.headerTitle;
            document.getElementById('ui-badge').innerText = dict.badge;
            document.getElementById('ui-lbl-name').innerText = dict.lblName;
            document.getElementById('ui-lbl-email').innerText = dict.lblEmail;
            document.getElementById('ui-lbl-subject').innerText = dict.lblSubject;
            document.getElementById('ui-lbl-body').innerText = dict.lblBody;

            document.getElementById('mail-name').placeholder = dict.placeName;
            document.getElementById('mail-email').placeholder = dict.placeEmail;
            document.getElementById('mail-subject').placeholder = dict.placeSubj;
            document.getElementById('mail-body').placeholder = dict.placeBody;

            const btn = document.getElementById('btn-transmit');
            if(!btn.disabled) { btn.innerHTML = dict.btnTransmit; }
        }

        emailjs.init("YOUR_PUBLIC_KEY");

        document.getElementById('email-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-transmit');
            const dict = dictionary[window.currentLang];
            
            btn.innerHTML = dict.msgProcess;
            btn.disabled = true;

            const templateParams = {
                to_name: document.getElementById('mail-name').value,
                to_email: document.getElementById('mail-email').value,
                subject: document.getElementById('mail-subject').value,
                message: document.getElementById('mail-body').value.replace(/\n/g, "<br>")
            };

            emailjs.send("service_alkhat000", "template_8vxpxsu", templateParams)
                .then(function(response) {
                    alert(dict.msgSuccess);
                    document.getElementById('email-form').reset();
                }, function(error) {
                    alert(dict.msgError + error.text);
                }).finally(() => {
                    btn.innerHTML = dict.btnTransmit;
                    btn.disabled = false;
                });
        });

        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const targetName = urlParams.get('name');
            const targetEmail = urlParams.get('email');
            
            if(targetName) document.getElementById('mail-name').value = targetName;
            if(targetEmail) document.getElementById('mail-email').value = targetEmail;
        });
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

10. (admin_pricing.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRICING COMMAND | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace, sans-serif; margin: 0; padding: 0; transition: all 0.3s ease; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }
        
        .admin-wrapper { display: flex; height: 100vh; overflow: hidden; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        body[dir="rtl"] .admin-sidebar { border-right: none; border-left: 1px solid rgba(0, 242, 255, 0.2); }
        
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #ccc; text-decoration: none; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff; }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: #00f2ff; }
        
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }
        
        .admin-main-content { flex-grow: 1; padding: 30px; overflow-y: auto; display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
        
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.02); padding: 20px; display: flex; flex-direction: column; }
        .panel h3 { margin-top: 0; color: #00ff88; border-bottom: 1px solid #00ff88; padding-bottom: 10px; font-size: 1.1rem; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; opacity: 0.8; margin-bottom: 5px; color: #00f2ff; text-transform: uppercase; font-weight: bold; }
        input { width: 100%; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: inherit; box-sizing: border-box; font-size: 1rem; }
        input:focus { border-color: #00f2ff; outline: none; }
        
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; width: 100%; text-transform: uppercase; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #050a15; }
        .btn-warning { border-color: #ffc107; color: #ffc107; }
        .btn-warning:hover { background: #ffc107; color: #050a15; }
        .btn-danger { border-color: #ff4b5c; color: #ff4b5c; width: auto; padding: 5px 10px; font-size: 0.8rem; }
        .btn-danger:hover { background: #ff4b5c; color: white; }

        .doc-list { list-style: none; padding: 0; margin: 0; }
        .doc-item { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(0,242,255,0.2); padding: 10px 0; }
        .doc-info { color: white; font-family: 'Cairo', sans-serif;}
        .doc-mod { color: #00ff88; font-weight: bold; font-family: 'Share Tech Mono', monospace; }

        @media (max-width: 900px) {
            .admin-wrapper { flex-direction: column; height: auto; }
            .admin-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .admin-main-content { grid-template-columns: 1fr; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
            
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html" ><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html" class="active"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>

            <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="admin-main-content">
            
            <div class="panel">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="margin:0;" id="ui-panel1-title"><i class="fas fa-coins"></i> BASE RATE CONFIG</h3>
                    <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()" style="width: auto; padding: 5px 15px; font-size: 0.8rem;">عربي</button>
                </div>
                
                <form id="form-base-rate">
                    <div class="form-group">
                        <label id="ui-lbl-base">Standard Base Rate Per Page (JOD)</label>
                        <input type="number" step="0.5" id="base-rate-input" required placeholder="e.g. 10.00">
                    </div>
                    <button type="submit" class="btn btn-green" id="btn-save-rate"><i class="fas fa-save"></i> SAVE BASE RATE</button>
                </form>
            </div>

            <div class="panel">
                <h3 id="ui-panel2-title"><i class="fas fa-file-alt"></i> DOCUMENT TYPES & MULTIPLIERS</h3>
                
                <form id="form-add-doc" style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex-grow: 2; min-width: 200px;">
                        <input type="text" id="doc-label" required placeholder="Document Name (e.g. Medical Report)">
                    </div>
                    <div style="flex-grow: 1; min-width: 100px;">
                        <input type="number" step="0.1" id="doc-mod" required placeholder="Multiplier (e.g. 1.8)">
                    </div>
                    <button type="submit" class="btn" style="width: auto;" id="btn-add-doc"><i class="fas fa-plus"></i> ADD</button>
                </form>

                <ul class="doc-list" id="document-list">
                    <li style="text-align: center; color: gray;" id="ui-msg-load">Scanning database...</li>
                </ul>
            </div>

        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { db } from './assets/js/firebase-init.js';
        import { doc, getDoc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const app = getApp();
        const auth = getAuth(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
        
        let pricingConfig = { base_per_page: 10.00, documents: [] };

        // --- DICTIONARY ---
        window.currentLang = 'en';
        const dictionary = {
            en: {
                btnReturn: "RETURN TO BASE",
                panel1: "<i class='fas fa-coins'></i> BASE RATE CONFIG",
                lblBase: "Standard Base Rate Per Page (JOD)",
                btnSaveRate: "<i class='fas fa-save'></i> SAVE BASE RATE",
                panel2: "<i class='fas fa-file-alt'></i> DOCUMENT TYPES & MULTIPLIERS",
                placeLabel: "Document Name (e.g. Medical Report)",
                placeMod: "Multiplier (e.g. 1.8)",
                btnAdd: "<i class='fas fa-plus'></i> ADD",
                msgLoad: "Scanning database...",
                msgEmpty: "No documents configured.",
                alertSave: "Base rate updated successfully."
            },
            ar: {
                btnReturn: "العودة للقاعدة الرئيسية",
                panel1: "<i class='fas fa-coins'></i> إعدادات السعر الأساسي",
                lblBase: "السعر الأساسي القياسي للصفحة (دينار أردني)",
                btnSaveRate: "<i class='fas fa-save'></i> حفظ السعر الأساسي",
                panel2: "<i class='fas fa-file-alt'></i> أنواع المستندات ومعامل السعر",
                placeLabel: "اسم المستند (مثال: تقرير طبي)",
                placeMod: "معامل السعر (مثال: 1.8)",
                btnAdd: "<i class='fas fa-plus'></i> إضافة",
                msgLoad: "جاري فحص قاعدة البيانات...",
                msgEmpty: "لم يتم تكوين أي مستندات.",
                alertSave: "تم تحديث السعر الأساسي بنجاح."
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];
            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-panel1-title').innerHTML = dict.panel1;
            document.getElementById('ui-lbl-base').innerText = dict.lblBase;
            document.getElementById('btn-save-rate').innerHTML = dict.btnSaveRate;
            
            document.getElementById('ui-panel2-title').innerHTML = dict.panel2;
            document.getElementById('doc-label').placeholder = dict.placeLabel;
            document.getElementById('doc-mod').placeholder = dict.placeMod;
            document.getElementById('btn-add-doc').innerHTML = dict.btnAdd;
            
            renderDocuments(); // Re-render list
        }

        // --- AUTH & DB INIT ---
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                listenToPricing();
            }
        });

        // --- REALTIME LISTENER ---
        function listenToPricing() {
            const docRef = doc(db, "system_config", "pricing");
            onSnapshot(docRef, (snapshot) => {
                if (snapshot.exists()) {
                    pricingConfig = snapshot.data();
                    if(!pricingConfig.documents) pricingConfig.documents = [];
                    document.getElementById('base-rate-input').value = pricingConfig.base_per_page;
                } else {
                    // Create default document if it doesn't exist yet
                    setDoc(docRef, pricingConfig);
                }
                renderDocuments();
            });
        }

        function renderDocuments() {
            const list = document.getElementById('document-list');
            const dict = dictionary[window.currentLang];
            list.innerHTML = "";
            
            if(pricingConfig.documents.length === 0) {
                list.innerHTML = `<li style="text-align: center; color: gray;">${dict.msgEmpty}</li>`;
                return;
            }

            pricingConfig.documents.forEach((docItem, index) => {
                list.innerHTML += `
                    <li class="doc-item">
                        <span class="doc-info">${docItem.label} <span class="doc-mod">[x${docItem.price_mod}]</span></span>
                        <button class="btn-danger" onclick="removeDocument(${index})"><i class="fas fa-trash"></i></button>
                    </li>
                `;
            });
        }

        // --- UPDATE BASE RATE ---
        document.getElementById('form-base-rate').addEventListener('submit', async (e) => {
            e.preventDefault();
            const newRate = parseFloat(document.getElementById('base-rate-input').value);
            pricingConfig.base_per_page = newRate;
            await setDoc(doc(db, "system_config", "pricing"), pricingConfig);
            alert(dictionary[window.currentLang].alertSave);
        });

        // --- ADD DOCUMENT TYPE ---
        document.getElementById('form-add-doc').addEventListener('submit', async (e) => {
            e.preventDefault();
            const label = document.getElementById('doc-label').value.trim();
            const mod = parseFloat(document.getElementById('doc-mod').value);
            
            // Create a safe ID from the label
            const id = label.toLowerCase().replace(/[^a-z0-9]/g, '_');
            
            pricingConfig.documents.push({ id: id, label: label, price_mod: mod });
            
            await setDoc(doc(db, "system_config", "pricing"), pricingConfig);
            document.getElementById('form-add-doc').reset();
        });

        // --- REMOVE DOCUMENT TYPE ---
        window.removeDocument = async function(index) {
            if(confirm("Delete this document type?")) {
                pricingConfig.documents.splice(index, 1);
                await setDoc(doc(db, "system_config", "pricing"), pricingConfig);
            }
        }
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};

		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

11. (admin_search_results.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM SCAN | Alpha Command</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace; margin: 0; padding: 0; transition: all 0.3s ease; opacity: 0; animation: systemBoot 0.4s ease-in forwards; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        @keyframes systemBoot {
            0% { opacity: 0; transform: scale(0.99); }
            100% { opacity: 1; transform: scale(1); }
        }

        .admin-wrapper { display: flex; height: 100vh; overflow: hidden; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        
        .admin-main-content { flex-grow: 1; padding: 40px; overflow-y: auto; display: flex; flex-direction: column; align-items: center; }
        
        .panel { width: 100%; max-width: 900px; border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.02); display: flex; flex-direction: column; }
        .panel-header { padding: 20px; border-bottom: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0,0,0,0.5); display: flex; justify-content: space-between; align-items: center; }
        .panel-header h3 { margin: 0; font-size: 1.2rem; color: #00ff88; letter-spacing: 2px; }
        
        .panel-content { padding: 30px; min-height: 400px; }

        /* Typewriter Cursor */
        .typing { border-right: 2px solid #00f2ff; white-space: nowrap; overflow: hidden; display: inline-block; animation: blinkCursor 0.8s infinite; }
        @keyframes blinkCursor { from, to { border-color: transparent; } 50% { border-color: #00f2ff; } }

        /* Result Rows */
        .search-result-row { margin-bottom: 15px; border-bottom: 1px solid rgba(0,242,255,0.1); padding: 15px; opacity: 0; transform: translateY(10px); animation: slideUpFade 0.3s forwards; display: flex; justify-content: space-between; align-items: center; background: rgba(0, 242, 255, 0.01); }
        .search-result-row:hover { background: rgba(0, 242, 255, 0.05); }
        @keyframes slideUpFade { to { opacity: 1; transform: translateY(0); } }

        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-family: inherit; transition: 0.3s; text-transform: uppercase; font-size: 0.8rem; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-red { border-color: #ff4b5c; color: #ff4b5c; }
        .btn-red:hover { background: #ff4b5c; color: white; }

        /* Loader Overlay */
        .system-loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #050a15; z-index: 9999; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        .system-loader.active { opacity: 1; pointer-events: all; }
        .loader-text { color: #00f2ff; font-size: 1.5rem; letter-spacing: 5px; text-shadow: 0 0 10px #00f2ff; animation: pulseGlow 1.2s infinite alternate; }
        @keyframes pulseGlow { 0% { opacity: 0.5; } 100% { opacity: 1; } }

        .log-line { font-size: 0.9rem; margin-bottom: 10px; color: #888; }
        .log-line.danger { color: #ff4b5c; }
		
		.type-target {
			display: inline-block;
			max-width: 400px; /* Prevents long messages from pushing the button off-screen */
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			vertical-align: bottom;
		}
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
        <div class="loader-text">SYSTEM SCANNING<span class="dots">...</span></div>
    </div>

    <div class="admin-wrapper">
        <main class="admin-main-content">
            <div class="panel">
                <div class="panel-header">
                    <h3><i class="fas fa-microchip"></i> DATABASE SCAN: <span id="search-term-display" style="color:white;"></span></h3>
                    <button onclick="handleReturnToBase()" class="btn">CLOSE SCAN</button>
                </div>
                <div class="panel-content" id="search-results-list">
                    <p class="log-line">INITIATING DEEP-QUERY PROTOCOL...</p>
                    <p class="log-line">ACCESSING ENCRYPTED COLLECTIONS...</p>
                </div>
            </div>
        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { db } from './assets/js/firebase-init.js';
        import { collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const app = getApp();
        const auth = getAuth(app);

        // --- THE SEARCH ENGINE ---
        async function performSystemSearch(queryText) {
			const resultsContainer = document.getElementById('search-results-list');
			const term = queryText.toLowerCase();
			
			try {
				// 1. Fetching multiple collections in parallel
				const [empSnap, orderSnap, msgSnap] = await Promise.all([
					getDocs(collection(db, "employees")),
					getDocs(collection(db, "orders")),
					getDocs(collection(db, "messages")) // New: Fetching the chat database
				]);

				const allResults = [];

				// SCAN OPERATIVES
				empSnap.forEach(doc => {
					const data = doc.data();
					if (data.name.toLowerCase().includes(term) || (data.empId && data.empId.includes(term))) {
						allResults.push({ type: "OPERATIVE", title: data.name, sub: `ID: ${data.empId || 'N/A'}`, link: "employee_reg.html" });
					}
				});

				// SCAN PAYLOADS (Orders)
				orderSnap.forEach(doc => {
					const data = doc.data();
					if ((data.clientName && data.clientName.toLowerCase().includes(term)) || doc.id.includes(term)) {
						allResults.push({ type: "PAYLOAD", title: data.clientName || "Unknown Client", sub: `REF: #${doc.id}`, link: "admin_inbox.html" });
					}
				});

				// SCAN COMMS (Messages) - NEW!
				msgSnap.forEach(doc => {
					const data = doc.data();
					if (data.text && data.text.toLowerCase().includes(term)) {
						// Snippet: show a few words around the search term for context
						const snippet = data.text.length > 30 ? data.text.substring(0, 30) + "..." : data.text;
						allResults.push({ 
							type: "COMMS", 
							title: `Message: "${snippet}"`, 
							sub: `Sender: ${data.sender}`, 
							link: "admin_inbox.html" 
						});
					}
				});

				resultsContainer.innerHTML = ""; // Clear "Scanning..." text

				if (allResults.length === 0) {
					resultsContainer.innerHTML = "<p class='log-line danger'>ERROR: NO MATCHING SIGNATURES FOUND IN ALPHA DATABASE.</p>";
					return;
				}

				// --- THE CINEMATIC TYPEWRITER LOOP ---
				for (const item of allResults) {
					await typeResult(item.type, item.title, item.sub, item.link);
					await new Promise(r => setTimeout(r, 150)); 
				}

			} catch (err) {
				resultsContainer.innerHTML = "<p class='log-line danger'>CRITICAL SCAN ERROR: ACCESS DENIED BY FIREWALL.</p>";
				console.error(err);
			}
		}

        async function typeResult(type, text, subtitle, link) {
            const list = document.getElementById('search-results-list');
            const row = document.createElement('div');
            row.className = "search-result-row";
            row.innerHTML = `
                <div>
                    <span style="color:#ff4b5c; font-size: 0.7rem;">[${type}]</span> 
                    <strong class="type-target" style="margin-left: 10px; color:#00f2ff;"></strong>
                    <span class="sub-target" style="color:#888; margin-left: 10px; font-size: 0.8rem;"></span>
                </div>
                <a href="${link}" class="btn" style="opacity:0; transition: 0.5s;">VIEW</a>
            `;
            list.appendChild(row);

            const titleTarget = row.querySelector('.type-target');
            const subTarget = row.querySelector('.sub-target');
            const btnTarget = row.querySelector('.btn');

            await typeText(titleTarget, text, 25);
            await typeText(subTarget, subtitle, 15);
            btnTarget.style.opacity = "1";
        }

        function typeText(element, text, speed) {
            return new Promise((resolve) => {
                let i = 0;
                element.classList.add('typing');
                function typing() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(typing, speed);
                    } else {
                        element.classList.remove('typing');
                        resolve();
                    }
                }
                typing();
            });
        }

        // Initialize
        const urlParams = new URLSearchParams(window.location.search);
        const q = urlParams.get('q');
        if (q) {
            document.getElementById('search-term-display').innerText = `"${q}"`;
            performSystemSearch(q);
        }

        // System Functions
        window.handleReturnToBase = function() {
            const loader = document.getElementById('system-loader');
            if (loader) loader.classList.add('active');
            setTimeout(() => { window.location.href = 'alpha.html'; }, 500);
        };
    </script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

12. (alpha.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHA COMMAND | Main Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* =========================================================
           ALPHA BACKEND STYLE (TACTICAL UI)
           ========================================================= */
        :root {
            --term-bg: #050a15;
            --term-cyan: #00f2ff;
            --term-red: #ff4b5c;
            --term-green: #00ff88;
            --term-panel: rgba(0, 242, 255, 0.03);
            --term-border: rgba(0, 242, 255, 0.2);
        }

        body { 
            background-color: var(--term-bg); 
            color: var(--term-cyan); 
            font-family: 'Share Tech Mono', monospace, sans-serif; 
            margin: 0; padding: 0; 
            transition: all 0.3s ease; 
            display: flex; height: 100vh; overflow: hidden;
        }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        /* --- UNIFIED ADMIN SIDEBAR --- */
        .admin-sidebar { 
            width: 260px; 
            background: rgba(0, 0, 0, 0.8); 
            border-right: 1px solid var(--term-border); 
            padding: 20px; 
            flex-shrink: 0; 
            display: flex; flex-direction: column; 
            box-shadow: 2px 0 15px rgba(0, 242, 255, 0.05);
        }
        body[dir="rtl"] .admin-sidebar { border-right: none; border-left: 1px solid var(--term-border); }
        
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 5px; }
        .admin-sidebar-menu a { 
            display: block; padding: 12px 15px; color: #888; 
            text-decoration: none; border-left: 3px solid transparent; 
            transition: all 0.3s ease; font-size: 0.9rem; letter-spacing: 1px;
        }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { 
            background: rgba(0, 242, 255, 0.1); color: var(--term-cyan); border-left-color: var(--term-cyan); 
        }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: var(--term-cyan); }
        .admin-sidebar-menu i { margin-right: 15px; width: 20px; text-align: center; }

        /* --- MAIN DASHBOARD AREA --- */
        .admin-main-content { 
            flex-grow: 1; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; 
            background: radial-gradient(circle at 50% 0%, rgba(0, 242, 255, 0.05) 0%, transparent 70%);
        }
        
        .header-top { 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 1px solid var(--term-border); padding-bottom: 20px; margin-bottom: 30px; 
        }
        .header-title { margin: 0; font-size: 1.8rem; text-shadow: 0 0 10px rgba(0, 242, 255, 0.3); }

        /* --- KPI GRID --- */
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-box { 
            border: 1px solid var(--term-border); background: rgba(0, 0, 0, 0.5); 
            padding: 25px; border-left: 4px solid var(--term-cyan);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            position: relative; overflow: hidden;
        }
        .stat-box::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(0, 242, 255, 0.03), transparent);
            transform: rotate(45deg); animation: scanline 6s linear infinite; pointer-events: none;
        }
        @keyframes scanline { 0% { transform: translateY(-100%) rotate(45deg); } 100% { transform: translateY(100%) rotate(45deg); } }
        
        .stat-box.alert { border-left-color: var(--term-red); }
        .stat-box.success { border-left-color: var(--term-green); }
        
        .stat-val { font-size: 3rem; margin: 10px 0 0 0; color: white; font-weight: bold; }
        .stat-label { font-size: 0.85rem; opacity: 0.7; text-transform: uppercase; color: var(--term-cyan); font-weight: bold; letter-spacing: 1px; }

        /* --- DATA TABLE --- */
        .panel { 
            border: 1px solid var(--term-border); background: rgba(0,0,0,0.6); 
            flex-grow: 1; overflow-y: auto; padding: 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .data-table th { 
            text-align: left; padding: 20px; border-bottom: 2px solid var(--term-border); 
            color: var(--term-cyan); text-transform: uppercase; background: rgba(0, 242, 255, 0.05);
            position: sticky; top: 0; z-index: 10;
        }
        body[dir="rtl"] .data-table th { text-align: right; }
        .data-table td { padding: 15px 20px; border-bottom: 1px solid rgba(0, 242, 255, 0.05); vertical-align: middle; color: #ddd; }
        .data-table tr:hover { background: rgba(0, 242, 255, 0.05); }

        /* --- BUTTONS & BADGES --- */
        .btn { 
            background: transparent; border: 1px solid var(--term-cyan); color: var(--term-cyan); 
            padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; 
            transition: 0.3s; width: 100%; text-transform: uppercase; letter-spacing: 1px;
        }
        .btn:hover { background: var(--term-cyan); color: var(--term-bg); box-shadow: 0 0 15px rgba(0, 242, 255, 0.4); }
        
        .btn-cmd { background: transparent; border: 1px solid var(--term-cyan); color: var(--term-cyan); padding: 6px 12px; cursor: pointer; transition: 0.3s; font-size: 0.8rem; font-family: inherit; border-radius: 3px; }
        .btn-cmd:hover { background: var(--term-cyan); color: var(--term-bg); }
        .btn-cmd.action { border-color: var(--term-green); color: var(--term-green); margin-top: 8px; }
        .btn-cmd.action:hover { background: var(--term-green); color: var(--term-bg); }

        .badge { padding: 4px 10px; border-radius: 3px; font-size: 0.75rem; font-weight: bold; letter-spacing: 1px; }
        .b-pending { background: rgba(255, 75, 92, 0.1); color: var(--term-red); border: 1px solid var(--term-red); }
        .b-completed { background: rgba(0, 255, 136, 0.1); color: var(--term-green); border: 1px solid var(--term-green); }

        /* UPLOAD OVERLAY */
        #upload-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .upload-box { border: 1px solid var(--term-cyan); background: var(--term-bg); padding: 30px; width: 400px; box-shadow: 0 0 30px rgba(0, 242, 255, 0.2); }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--term-cyan); }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
		
		.notif-item {
			padding: 12px;
			border-bottom: 1px solid rgba(0, 242, 255, 0.1);
			font-size: 0.8rem;
			animation: pulseEntry 0.5s ease-out;
		}
		.notif-item:hover { background: rgba(0, 242, 255, 0.05); }
		.notif-item .time { color: #555; font-size: 0.7rem; display: block; margin-bottom: 4px; }
		.notif-item.new { border-left: 2px solid var(--term-green); background: rgba(0, 255, 136, 0.02); }

		@keyframes pulseEntry {
			0% { background: rgba(0, 242, 255, 0.2); transform: translateX(10px); }
			100% { background: transparent; transform: translateX(0); }
		}
		
		/* --- STATUS LIGHT ANIMATIONS --- */
		.status-light {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			transition: 0.3s;
		}

		.status-light.online {
			background-color: var(--term-green);
			box-shadow: 0 0 10px var(--term-green), 0 0 20px var(--term-green);
			animation: pulseStatus 2s infinite;
		}

		.status-light.offline {
			background-color: var(--term-red);
			box-shadow: 0 0 10px var(--term-red);
			animation: none;
		}

		@keyframes pulseStatus {
			0% { opacity: 1; transform: scale(1); }
			50% { opacity: 0.4; transform: scale(0.9); }
			100% { opacity: 1; transform: scale(1); }
		}
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <aside class="admin-sidebar">
        <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			<div class="status-widget" style="margin-top: 20px; padding: 15px; border-top: 1px dashed var(--term-border);">
				<div style="display: flex; align-items: center; gap: 10px;">
					<div id="status-light" class="status-light online"></div>
					<div style="display: flex; flex-direction: column;">
						<span id="status-text" style="font-size: 0.7rem; font-weight: bold; letter-spacing: 1px;">CORE: ONLINE</span>
						<span id="status-latency" style="font-size: 0.6rem; color: #555;">LATENCY: --ms</span>
					</div>
				</div>
			</div>
        </div>
        
        <ul class="admin-sidebar-menu">
			<li><a href="alpha.html" class="active"><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
			<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
			<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
			<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
			<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
			<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
			<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
			<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
			<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
			<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
		</ul>

        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
    </aside>

    <main class="admin-main-content">
        <div class="header-top">
            <h2 class="header-title" id="ui-header-title"><i class="fas fa-satellite-dish"></i> OVERWATCH TERMINAL</h2>
            <div style="display: flex; gap: 15px; align-items: center;">
			<div class="notif-wrapper" style="position: relative;">
				<button class="btn" id="notif-trigger" style="width: auto; padding: 10px; border-color: var(--term-border); position: relative;">
					<i class="fas fa-bell"></i>
					<span id="notif-badge" style="display: none; position: absolute; top: -5px; right: -5px; background: var(--term-red); color: white; font-size: 0.6rem; padding: 2px 5px; border-radius: 50%; box-shadow: 0 0 10px var(--term-red);">0</span>
				</button>

				<div id="notif-panel" style="display: none; position: absolute; top: 50px; right: 0; width: 320px; background: rgba(5, 10, 21, 0.95); border: 1px solid var(--term-cyan); box-shadow: 0 0 30px rgba(0, 242, 255, 0.2); z-index: 1000; backdrop-filter: blur(10px);">
					<div style="padding: 15px; border-bottom: 1px solid var(--term-border); display: flex; justify-content: space-between; align-items: center;">
						<span style="font-size: 0.8rem; font-weight: bold; letter-spacing: 1px;">LIVE INTERCEPT LOG</span>
						<button onclick="clearNotifs()" style="background: none; border: none; color: #888; cursor: pointer; font-size: 0.7rem;">CLEAR ALL</button>
					</div>
					<div id="notif-list" style="max-height: 400px; overflow-y: auto; padding: 10px;">
						<p style="text-align: center; color: #555; font-size: 0.8rem; padding: 20px;">Scanning for incoming signals...</p>
					</div>
				</div>
			</div>
				<div class="search-container" style="min-width: 200px;">
					<div style="position: relative;">
						<i class="fas fa-search" style="position: absolute; left: 10px; top: 12px; color: #00f2ff; font-size: 0.8rem;"></i>
						<input type="text" id="global-search" placeholder="SEARCH SYSTEM..." 
							   style="width: 100%; padding: 10px 10px 10px 30px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: inherit; font-size: 0.8rem; box-sizing: border-box;">
					</div>
				</div>
                <span style="font-size: 0.8rem; color: var(--term-green); border: 1px solid; padding: 6px 12px; border-radius: 3px; font-weight: bold; background: rgba(0, 255, 136, 0.1);" id="ui-badge-secure">
                    <i class="fas fa-lock"></i> UPLINK SECURE
                </span>
                <button class="btn" id="btn-lang" onclick="toggleLanguage()" style="width: auto; padding: 6px 15px; border-color: #ffc107; color: #ffc107;">عربي</button>
            </div>
        </div>

        <div class="kpi-grid">
            <div class="stat-box alert">
                <div class="stat-label" id="ui-stat-pending"><i class="fas fa-exclamation-triangle"></i> Pending Extractions</div>
                <div class="stat-val" id="stat-pending">0</div>
            </div>
            <div class="stat-box success">
                <div class="stat-label" id="ui-stat-completed"><i class="fas fa-check-circle"></i> Completed Missions</div>
                <div class="stat-val" id="stat-completed">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label" id="ui-stat-rev"><i class="fas fa-coins"></i> Total Revenue (JOD)</div>
                <div class="stat-val" id="stat-revenue">0.00</div>
            </div>
            <div class="stat-box" style="border-left-color: #ffc107;">
                <div class="stat-label" style="color: #ffc107;" id="ui-stat-users"><i class="fas fa-users"></i> Registered Accounts</div>
                <div class="stat-val" id="stat-users">0</div>
            </div>
			<div class="stat-box" style="grid-column: span 2; min-height: 150px;">
				<div class="stat-label"><i class="fas fa-satellite-dish"></i> LIVE FIELD AGENTS</div>
				<div id="live-operatives-list" class="operative-status-container">
					<div class="system-loader-mini">Scanning frequencies...</div>
				</div>
			</div>
        </div>

        <div class="panel">
            <table class="data-table">
                <thead>
                    <tr>
                        <th id="ui-th-id">Mission ID</th>
                        <th id="ui-th-client">Client Identity</th>
                        <th id="ui-th-param">Parameters</th>
                        <th id="ui-th-stat">Status</th>
                        <th id="ui-th-act">Tactical Actions</th>
                    </tr>
                </thead>
                <tbody id="mission-log">
                    <tr><td colspan="5" style="text-align: center; color:#888; padding: 40px;" id="ui-msg-load"><i class="fas fa-circle-notch fa-spin"></i> Establishing connection to database...</td></tr>
                </tbody>
            </table>
        </div>
    </main>

    <div id="upload-modal">
        <div class="upload-box">
            <h3 style="color: var(--term-cyan); margin-top:0;" id="ui-mod-title"><i class="fas fa-upload"></i> UPLOAD TRANSLATION</h3>
            <p style="font-size: 0.85rem; color: #888;">Target ID: <span id="target-id-display" style="color:white; font-weight:bold;"></span></p>
            
            <input type="file" id="final-file" style="width: 100%; margin: 20px 0; color: var(--term-cyan); background: rgba(0,0,0,0.5); padding: 15px; border: 1px dashed var(--term-cyan); box-sizing: border-box;" accept=".pdf,.doc,.docx">
            
            <div style="display: flex; gap: 10px; margin-top: 10px;">
                <button onclick="executeUpload()" class="btn" style="flex: 1; border-color: var(--term-green); color: var(--term-green);" id="btn-exec">EXECUTE UPLOAD</button>
                <button onclick="closeModal()" class="btn" style="border-color: var(--term-red); color: var(--term-red); width:auto;" id="btn-abort">ABORT</button>
            </div>
        </div>
    </div>

    <script type="module">
	// --- Corrected Unified Imports ---
		// Added initializeApp and getAuth to the top line
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
		import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
		
		import { 
			getFirestore, 
			collection, 
			query, 
			orderBy, 
			getDocs, 
			updateDoc, 
			doc, 
			onSnapshot, 
			limit, 
			serverTimestamp 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

		import { 
			getStorage, 
			ref, 
			uploadBytes, 
			getDownloadURL 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

		import { 
			getDatabase, 
			ref as rtdbRef, 
			onValue 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

        // Your Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-storage-doha",
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2"; // Your God-Mode ID
        let activeOrderId = null;
		
		// Notification Functions Panel
		let unreadCount = 0;

		function initNotificationSystem() {
			const notifList = document.getElementById('notif-list');
			const badge = document.getElementById('notif-badge');
			const trigger = document.getElementById('notif-trigger');
			const panel = document.getElementById('notif-panel');

			// Toggle Panel
			trigger.addEventListener('click', () => {
				panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
				unreadCount = 0;
				badge.style.display = 'none';
			});

			// 1. LISTEN FOR EMPLOYEE LOGS (Logins/Arrivals)
			const logQuery = query(collection(db, "employee_logs"), orderBy("timestamp", "desc"), limit(5));
			onSnapshot(logQuery, (snapshot) => {
				snapshot.docChanges().forEach((change) => {
					if (change.type === "added") {
						const data = change.doc.data();
						addNotifItem("ACCESS", `${data.username || 'Operative'} - ${data.event}`, "term-cyan");
					}
				});
			});

			// 2. LISTEN FOR MESSAGES (Chat Comms)
			const msgQuery = query(collection(db, "messages"), orderBy("timestamp", "desc"), limit(5));
			onSnapshot(msgQuery, (snapshot) => {
				snapshot.docChanges().forEach((change) => {
					if (change.type === "added" && change.doc.data().sender === "Operative") {
						const data = change.doc.data();
						addNotifItem("COMMS", `New Message: "${data.text.substring(0, 20)}..."`, "term-green");
					}
				});
			});
		}

		function addNotifItem(type, text, colorVar) {
			const list = document.getElementById('notif-list');
			const badge = document.getElementById('notif-badge');
			
			// Create Item
			const item = document.createElement('div');
			item.className = "notif-item new";
			const now = new Date().toLocaleTimeString();
			
			item.innerHTML = `
				<span class="time">${now}</span>
				<span style="color: var(--${colorVar}); font-weight: bold;">[${type}]</span> ${text}
			`;

			// Remove "Empty" message if it exists
			if (list.querySelector('p')) list.innerHTML = "";

			list.prepend(item);
			
			// Update Badge
			unreadCount++;
			badge.innerText = unreadCount;
			badge.style.display = 'block';

			// Play a very subtle digital beep (Optional)
			// new Audio('assets/sounds/notif.mp3').play();
		}

		// Start the system
		initNotificationSystem();
		

		// Note: Ensure you have Realtime Database enabled in Firebase, 
		// as .info/connected is an RTDB feature.

		// --- UPGRADED FIRESTORE HEARTBEAT ---
		function initSystemHeartbeat() {
			const statusLight = document.getElementById('status-light');
			const statusText = document.getElementById('status-text');
			const latencyText = document.getElementById('status-latency');
			
			function pingServer() {
				const start = Date.now();
				
				// Send a micro-ping to Firestore to check the connection
				getDocs(query(collection(db, "orders"), limit(1))).then(() => {
					statusLight.className = "status-light online";
					statusText.innerText = "CORE: ONLINE";
					statusText.style.color = "var(--term-green)";
					
					// Calculate how fast the database responded
					const latency = Date.now() - start;
					latencyText.innerText = `LATENCY: ${latency}ms`;
				}).catch((err) => {
					console.error("Heartbeat Dropped:", err);
					statusLight.className = "status-light offline";
					statusText.innerText = "CORE: DISCONNECTED";
					statusText.style.color = "var(--term-red)";
					latencyText.innerText = "LATENCY: N/A";
				});
			}

			// Ping immediately when called
			pingServer();
			
			// Ping every 15 seconds to keep the live tracker moving
			setInterval(pingServer, 15000);
		}

        // --- BILINGUAL DICTIONARY ---
        window.currentLang = 'en';
        const dictionary = {
            en: {
                header: "<i class='fas fa-satellite-dish'></i> OVERWATCH TERMINAL",
                badgeSecure: "<i class='fas fa-lock'></i> UPLINK SECURE",
                btnDisconnect: "<i class='fas fa-power-off'></i> DISCONNECT UPLINK",
                statPending: "<i class='fas fa-exclamation-triangle'></i> Pending Extractions",
                statCompleted: "<i class='fas fa-check-circle'></i> Completed Missions",
                statRev: "<i class='fas fa-coins'></i> Total Revenue (JOD)",
                thId: "Mission ID", thClient: "Client Identity", thParam: "Parameters", thStat: "Status", thAct: "Tactical Actions",
                msgEmpty: "Radar clear. No incoming signals.",
                txtPending: "PENDING", txtCompleted: "COMPLETED",
                btnSource: "<i class='fas fa-download'></i> SOURCE", btnUpload: "<i class='fas fa-upload'></i> UPLOAD FINAL", btnView: "<i class='fas fa-check-double'></i> VIEW FINAL",
                modTitle: "<i class='fas fa-upload'></i> UPLOAD TRANSLATION", btnExec: "EXECUTE UPLOAD", btnAbort: "ABORT"
            },
            ar: {
                header: "<i class='fas fa-satellite-dish'></i> المراقبة المركزية",
                badgeSecure: "<i class='fas fa-lock'></i> اتصال آمن",
                btnDisconnect: "<i class='fas fa-power-off'></i> قطع الاتصال",
                statPending: "<i class='fas fa-exclamation-triangle'></i> المهام المعلقة",
                statCompleted: "<i class='fas fa-check-circle'></i> المهام المنجزة",
                statRev: "<i class='fas fa-coins'></i> إجمالي الإيرادات (دينار)",
                thId: "معرف المهمة", thClient: "هوية العميل", thParam: "المعطيات", thStat: "الحالة", thAct: "الإجراءات التكتيكية",
                msgEmpty: "الرادار صافي. لا توجد مهام حالية.",
                txtPending: "قيد الانتظار", txtCompleted: "مكتمل",
                btnSource: "<i class='fas fa-download'></i> الملف الأصلي", btnUpload: "<i class='fas fa-upload'></i> رفع المترجم", btnView: "<i class='fas fa-check-double'></i> عرض المترجم",
                modTitle: "<i class='fas fa-upload'></i> رفع الترجمة النهائية", btnExec: "تنفيذ الرفع", btnAbort: "إلغاء"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];
            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-header-title').innerHTML = dict.header;
            document.getElementById('ui-badge-secure').innerHTML = dict.badgeSecure;
            document.getElementById('btn-disconnect').innerHTML = dict.btnDisconnect;
            document.getElementById('ui-stat-pending').innerHTML = dict.statPending;
            document.getElementById('ui-stat-completed').innerHTML = dict.statCompleted;
            document.getElementById('ui-stat-rev').innerHTML = dict.statRev;
            document.getElementById('ui-th-id').innerText = dict.thId;
            document.getElementById('ui-th-client').innerText = dict.thClient;
            document.getElementById('ui-th-param').innerText = dict.thParam;
            document.getElementById('ui-th-stat').innerText = dict.thStat;
            document.getElementById('ui-th-act').innerText = dict.thAct;
            document.getElementById('ui-mod-title').innerHTML = dict.modTitle;
            document.getElementById('btn-abort').innerText = dict.btnAbort;
            
            const btnExec = document.getElementById('btn-exec');
            if(!btnExec.disabled) btnExec.innerText = dict.btnExec;

            fetchRadarData(); 
        }

        // SECURITY CHECK
		onAuthStateChanged(auth, (user) => {
			if (!user || user.uid !== ADMIN_UID) {
				document.body.innerHTML = "<h1 style='color:#ff4b5c; text-align:center; margin-top:20vh; font-family: monospace;'>[ SECURITY BREACH DETECTED ]<br>UNAUTHORIZED ACCESS ATTEMPT LOGGED.</h1>";
				setTimeout(() => { window.location.href = "admin_login.html"; }, 2500);
			} else {
				// User is fully verified as Admin! 
				fetchRadarData(); 
				
				// START THE HEARTBEAT NOW (This is the correct spot!)
				initSystemHeartbeat();
			}
		});

        // FETCH ORDERS & CALCULATE KPIs
        async function fetchRadarData() {
            const logBox = document.getElementById('mission-log');
            const dict = dictionary[window.currentLang];
            let pendingCount = 0; let completedCount = 0; let revenue = 0;

            try {
                // 1. Fetch Orders
                const q = query(collection(db, "orders"), orderBy("timestamp", "desc"));
                const snapshot = await getDocs(q);
                logBox.innerHTML = "";

                // 2. Fetch User Count (New addition!)
                const userSnapshot = await getDocs(collection(db, "users"));
                document.getElementById('stat-users').innerText = userSnapshot.size;

                if(snapshot.empty) {
                    logBox.innerHTML = `<tr><td colspan='5' style="text-align:center; color:#888; padding:30px;">${dict.msgEmpty}</td></tr>`;
                    document.getElementById('stat-pending').innerText = "0";
                    document.getElementById('stat-completed').innerText = "0";
                    document.getElementById('stat-revenue').innerText = "0.00";
                    return;
                }

                snapshot.forEach(docSnap => {
                    const data = docSnap.data();
                    const id = docSnap.id;
                    const isPending = data.status !== "Completed";
                    
                    if(isPending) pendingCount++; else completedCount++;
                    revenue += parseFloat(data.price || 0);

                    const statusHtml = isPending 
                        ? `<span class="badge b-pending">${dict.txtPending}</span>` 
                        : `<span class="badge b-completed">${dict.txtCompleted}</span>`;

                    const actionHtml = isPending
                        ? `<button class="btn-cmd" onclick="window.open('${data.fileUrl}', '_blank')">${dict.btnSource}</button><br>
                           <button class="btn-cmd action" onclick="openUploadModal('${id}')">${dict.btnUpload}</button>`
                        : `<button class="btn-cmd" onclick="window.open('${data.translatedFileUrl}', '_blank')" style="border-color:#555; color:#888;">${dict.btnView}</button>`;

                    logBox.innerHTML += `
                        <tr>
                            <td style="color: white; font-weight:bold;">${id.substring(0,8).toUpperCase()}<br><span style="font-size:0.75rem; color:#888; font-weight:normal;">${data.createdAt || ''}</span></td>
                            <td><strong style="color:var(--term-cyan);">${data.clientName}</strong><br><span style="color:#888; font-size:0.85rem;">${data.clientEmail}</span></td>
                            <td>${data.docType}<br><span style="color:#888; font-size:0.85rem;">${data.langFrom} > ${data.langTo}</span></td>
                            <td>${statusHtml}</td>
                            <td>${actionHtml}</td>
                        </tr>
                    `;
                });

                // Inject KPI numbers with a cool counter effect
                document.getElementById('stat-pending').innerText = pendingCount;
                document.getElementById('stat-completed').innerText = completedCount;
                document.getElementById('stat-revenue').innerText = revenue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});

            } catch(error) {
                logBox.innerHTML = `<tr><td colspan='5' style="color:var(--term-red); text-align:center;">SYSTEM ERROR: ${error.message}</td></tr>`;
            }
        }

        // UPLOAD MODAL CONTROLS
        window.openUploadModal = function(orderId) {
            activeOrderId = orderId;
            document.getElementById('target-id-display').innerText = orderId.substring(0,8).toUpperCase();
            document.getElementById('upload-modal').style.display = 'flex';
        }

        window.closeModal = function() {
            document.getElementById('upload-modal').style.display = 'none';
            document.getElementById('final-file').value = "";
            activeOrderId = null;
        }

        window.executeUpload = async function() {
            const fileInput = document.getElementById('final-file');
            const btn = document.getElementById('btn-exec');
            const dict = dictionary[window.currentLang];

            if(fileInput.files.length === 0) { alert("SYSTEM ALERT: No payload selected."); return; }

            btn.innerText = window.currentLang === 'en' ? "TRANSMITTING..." : "جاري الإرسال...";
            btn.disabled = true;

            try {
                const file = fileInput.files[0];
                const storageRef = ref(storage, `completed_translations/${activeOrderId}_FINAL.pdf`);
                
                const snapshot = await uploadBytes(storageRef, file);
                const downloadURL = await getDownloadURL(snapshot.ref);

                const orderRef = doc(db, "orders", activeOrderId);
                await updateDoc(orderRef, {
                    translatedFileUrl: downloadURL,
                    status: "Completed",
                    completedAt: new Date().toISOString()
                });

                alert(window.currentLang === 'en' ? "MISSION ACCOMPLISHED: Translation uploaded." : "تم الرفع بنجاح.");
                closeModal();
                fetchRadarData(); 

            } catch(error) {
                alert("TRANSMISSION FAILED: " + error.message);
            } finally {
                btn.innerText = dict.btnExec;
                btn.disabled = false;
            }
        }

        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
		
		/* --- GLOBAL SEARCH ENGINE TRIGGER --- */
		const searchInput = document.getElementById('global-search');
		if (searchInput) {
			searchInput.addEventListener('keypress', function (e) {
				if (e.key === 'Enter') {
					const query = this.value.trim();
					if (query.length < 2) return; 

					const loader = document.getElementById('system-loader');
					if (loader) {
						// Change text to show we are searching
						const loaderText = loader.querySelector('.loader-text');
						if(loaderText) loaderText.innerHTML = "INITIATING DATABASE SCAN<span class='dots'>...</span>";
						loader.classList.add('active');
					}

					// Redirect to the results page
					setTimeout(() => {
						window.location.href = `admin_search_results.html?q=${encodeURIComponent(query)}`;
					}, 600);
				}
			});
		}
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

13. (checkout.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Checkout | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* TACTICAL BACKGROUND */
        .checkout-page {
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.95), rgba(11, 20, 38, 0.95)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            padding-top: 100px;
            min-height: 100vh;
            color: white;
        }

        .checkout-grid {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
            padding: 40px 0;
        }

        /* DARK GLASS PANELS */
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .panel-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--brand-cyan);
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* NEW: PACKAGE IMAGE STYLING */
        .checkout-pkg-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 242, 255, 0.2);
            display: none; /* Hidden by default until JS loads it */
        }

        /* SUMMARY STYLES */
        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 0.95rem;
        }
        .summary-row:last-child { border-bottom: none; }
        .summary-label { color: rgba(255,255,255,0.6); }
        .summary-value { font-weight: bold; text-align: right;}
        
        .price-highlight {
            font-size: 2rem;
            color: var(--brand-cyan);
            font-weight: 900;
            font-family: var(--font-primary);
            text-align: right;
            margin-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 15px;
        }

        /* DARK FORM INPUTS */
        .input-group { margin-bottom: 15px; }
        .input-label { display: block; font-size: 0.85rem; font-weight: 600; color: rgba(255,255,255,0.7); margin-bottom: 5px; }
        .split-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .checkout-input {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: white;
            font-family: var(--font-primary);
            transition: 0.3s;
        }
        .checkout-input::placeholder { color: rgba(255,255,255,0.3); }
        .checkout-input:focus { 
            border-color: var(--brand-cyan); 
            outline: none; 
            box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); 
        }

        /* CREDIT CARD VISUALS */
        .cc-visual { display: flex; gap: 10px; margin-bottom: 20px; }
        .cc-icon { font-size: 2rem; color: rgba(255,255,255,0.2); transition: 0.3s; }
        .cc-icon.active { color: white; text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        @media (max-width: 900px) {
            .checkout-grid { grid-template-columns: 1fr; }
            .summary-col { order: -1; }
        }
    </style>
</head>
<body class="checkout-page">

    <header>
                <div class="container">
                    <nav class="navbar">
                        <a href="index.html" class="logo-box" style="text-decoration: none;">
                            <div class="dna-logo">
                                <div class="dna-drop dna-magenta"></div>
                                <div class="dna-drop dna-cyan"></div>
                            </div>
                            <div class="brand-text">
                                <h3>Al-Khat Al-Mudi</h3>
                                <span id="header-brand_sub">SECURE CHECKOUT</span>
                            </div>
                        </a>
                
                        <div style="color: var(--brand-cyan); font-weight: 600; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-shield-alt"></i> 256-Bit SSL Encrypted
                        </div>

                        <a href="#menu" class="menu-toggle" id="menuToggle">
                            <span class="text" id="header-menu_btn">MENU</span>
                            <div class="hamburger">
                                <span></span><span></span><span></span>
                            </div>
                        </a>
                        
                        <div id="user-profile-section" class="user-status-hidden">
                            <a href="profile.html" class="user-orb">
                                <i class="fas fa-user-circle"></i>
                                <span id="user-display-name">Client</span>
                            </a>
                            <button onclick="handleLogout()" class="logout-link">Logout</button>
                        </div>
                    </nav>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="checkout-grid">
            
            <div class="summary-col">
                <div class="glass-panel" style="position: sticky; top: 100px;">
                    <div class="panel-title"><i class="fas fa-clipboard-list"></i> Mission Briefing</div>
                    
                    <img id="sum_img" class="checkout-pkg-img" src="" alt="Package Visual">
                    
                    <div class="summary-row">
                        <span class="summary-label">Target Region</span>
                        <span class="summary-value" id="sum_loc">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Document Type</span>
                        <span class="summary-value" id="sum_doc">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Translation</span>
                        <span class="summary-value" id="sum_lang">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Page Count</span>
                        <span class="summary-value" id="sum_pages">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Urgency Level</span>
                        <span class="summary-value" id="sum_urgency">--</span>
                    </div>

                    <div class="price-highlight" id="sum_total">0.00 JOD</div>
                    
                    <div style="margin-top: 20px; font-size: 0.8rem; opacity: 0.5; text-align: center;">
                        <i class="fas fa-lock"></i> Payments processed securely. No card data is stored on our servers.
                    </div>
                </div>
            </div>

            <div class="forms-col">
                <form id="master-checkout-form">
                    
                    <div class="glass-panel">
                        <div class="panel-title"><i class="fas fa-cloud-upload-alt"></i> Secure Document Transfer</div>
                        <p style="color: rgba(255,255,255,0.7); font-size: 0.85rem; margin-bottom: 20px;">Upload your source files. Transmission is routed directly to our secure Doha vault.</p>

                        <input type="file" id="real-file-input" style="display: none;" onchange="updateFileLabel()" required>
                        <label for="real-file-input" class="drop-zone-container" style="cursor: pointer; margin-top: 0;">
                            <div class="drop-zone-visual">
                                <i class="fas fa-file-shield"></i>
                                <span id="drop-label-text" style="color: white;">Select File for Extraction</span>
                                <small>(PDF, DOCX, JPG supported)</small>
                            </div>
                        </label>
                    </div>

                    <div class="glass-panel">
                        <div class="panel-title"><i class="fas fa-user-astronaut"></i> Billing Identity</div>
                        <div class="split-inputs">
                            <div class="input-group">
                                <label class="input-label">First Name</label>
                                <input type="text" class="checkout-input" id="bill_fname" placeholder="John" required>
                            </div>
                            <div class="input-group">
                                <label class="input-label">Last Name</label>
                                <input type="text" class="checkout-input" id="bill_lname" placeholder="Doe" required>
                            </div>
                        </div>
                        <div class="input-group" style="margin-bottom: 0;">
                            <label class="input-label">Communication Email</label>
                            <input type="email" class="checkout-input" id="bill_email" placeholder="john@example.com" required>
                        </div>
                    </div>

                    <div class="glass-panel">
                        <div class="panel-title"><i class="fas fa-credit-card"></i> Payment Uplink</div>
                        
                        <div class="cc-visual">
                            <i class="fab fa-cc-visa cc-icon active" id="icon-visa"></i>
                            <i class="fab fa-cc-mastercard cc-icon" id="icon-master"></i>
                            <i class="fab fa-cc-amex cc-icon" id="icon-amex"></i>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Card Number</label>
                            <input type="text" class="checkout-input" id="cc_number" placeholder="0000 0000 0000 0000" maxlength="19" required>
                        </div>

                        <div class="split-inputs">
                            <div class="input-group">
                                <label class="input-label">Expiry Date</label>
                                <input type="text" class="checkout-input" id="cc_expiry" placeholder="MM / YY" maxlength="5" required>
                            </div>
                            <div class="input-group">
                                <label class="input-label">Security Code (CVC)</label>
                                <input type="password" class="checkout-input" id="cc_cvc" placeholder="***" maxlength="4" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Name on Card</label>
                            <input type="text" class="checkout-input" id="cc_name" placeholder="Exactly as shown on card" required>
                        </div>

                        <button type="submit" id="btn-submit" class="btn btn-primary" style="width: 100%; margin-top: 15px; font-size: 1.1rem; padding: 15px;">
                            AUTHORIZE <span id="btn-amount">...</span>
                        </button>
                    </div>

                </form>
            </div>
            
        </div>
    </main>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            <div class="terminal-content">
                <h4 class="terminal-title">ENCRYPTING CARGO & PAYMENT</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Establishing secure tunnel...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink">PROCESSING...</div>
            </div>
        </div>
    </div>
    
    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>
    
    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="assets/js/main.js"></script>
    <script src="assets/js/lang-engine.js"></script>

    <script>
        // 1. URL PAYLOAD INTERCEPT (NEW: INCLUDES IMAGE)
        let orderDataObj = {};
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            
            orderDataObj = {
                location: params.get('loc') || "Unknown Base",
                langFrom: params.get('from') || "Auto",
                langTo: params.get('to') || "Auto",
                docType: params.get('doc') || "General Document",
                pages: params.get('pages') || "1",
                urgency: params.get('urgency') || "Standard",
                totalPrice: params.get('price') || "0.00 JOD",
                imageUrl: params.get('img') || "" // <--- NEW CATCHER
            };

            // Inject the data into the summary UI
            document.getElementById('sum_loc').innerText = orderDataObj.location;
            document.getElementById('sum_doc').innerText = orderDataObj.docType;
            document.getElementById('sum_lang').innerText = `${orderDataObj.langFrom} → ${orderDataObj.langTo}`;
            document.getElementById('sum_pages').innerText = orderDataObj.pages;
            document.getElementById('sum_urgency').innerText = orderDataObj.urgency;
            document.getElementById('sum_total').innerText = orderDataObj.totalPrice;
            document.getElementById('btn-amount').innerText = orderDataObj.totalPrice;

            // NEW: Inject the image if it was sent over
            if (orderDataObj.imageUrl) {
                const imgBox = document.getElementById('sum_img');
                imgBox.src = orderDataObj.imageUrl;
                imgBox.style.display = 'block'; // Unhides the image
            }
        });

        // 2. FILE DROP ZONE VISUALS
        window.updateFileLabel = function() {
            const input = document.getElementById('real-file-input');
            const labelText = document.getElementById('drop-label-text');
            const container = document.querySelector('.drop-zone-container');
            
            if(input.files.length > 0) {
                labelText.innerText = "CARGO SECURED: " + input.files[0].name;
                container.classList.add('file-selected');
                const icon = container.querySelector('i');
                icon.style.color = "var(--brand-magenta)";
                icon.className = "fas fa-check-circle"; 
            }
        }

        // 3. CREDIT CARD FORMATTING
        document.getElementById('cc_number').addEventListener('input', function (e) {
            e.target.value = e.target.value.replace(/[^\d]/g, '').replace(/(.{4})/g, '$1 ').trim();
        });
        document.getElementById('cc_expiry').addEventListener('input', function (e) {
            e.target.value = e.target.value.replace(/[^\d]/g, '').replace(/^(\d{2})/, '$1/').substr(0, 5);
        });
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE CORRECT UPLINK
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        let currentUid = "guest"; // Default fallback

        // Identify Agent
        onAuthStateChanged(auth, (user) => {
            if (user) currentUid = user.uid;
        });

        document.getElementById('master-checkout-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const fileInput = document.getElementById('real-file-input');
            const fname = document.getElementById('bill_fname').value;
            const lname = document.getElementById('bill_lname').value;
            const email = document.getElementById('bill_email').value;

            const btn = document.getElementById('btn-submit');
            const overlay = document.getElementById('processing-overlay');
            const logBox = document.getElementById('terminal-log');
            const progressBar = document.getElementById('progress-bar');

            if(fileInput.files.length === 0) return;

            // Lock UI & Start Hacker Sequence
            btn.disabled = true;
            overlay.classList.add('active');
            let progress = 0;
            const loader = setInterval(() => { progress += 5; if(progress <= 90) progressBar.style.width = progress + '%'; }, 200);

            try {
                // Generate Tracking IDs
                const invoiceId = 'INV-' + Math.floor(100000 + Math.random() * 900000);
                const txnId = 'TXN-' + Math.random().toString(36).substr(2, 9).toUpperCase();

                // 1. Upload File
                logBox.innerHTML += `<div class="log-line">> Initiating secure file transfer to Doha...</div>`;
                const file = fileInput.files[0];
                const storageRef = ref(storage, 'client_uploads/' + invoiceId + '_' + file.name);
                const snapshot = await uploadBytes(storageRef, file);
                const downloadURL = await getDownloadURL(snapshot.ref);
                
                logBox.innerHTML += `<div class="log-line">> Cargo secured. Authorizing payment gateway...</div>`;

                // 2. Package all data (Now includes Package Image URL)
                const finalOrderData = {
                    ...orderDataObj, // Inherits data from URL (including imageUrl)
                    userId: currentUid,
                    clientName: `${fname} ${lname}`,
                    clientEmail: email,
                    fileUrl: downloadURL,
                    invoiceId: invoiceId,
                    transactionId: txnId,
                    status: "Paid & Processing",
                    timestamp: new Date()
                };

                // 3. Save to Firestore under the Invoice ID
                await setDoc(doc(db, "orders", invoiceId), finalOrderData);

                clearInterval(loader);
                progressBar.style.width = '100%';
                logBox.innerHTML += `<div class="log-line success">> PAYMENT CLEARED. Redirecting to invoice...</div>`;

                // 4. Send them to their invoice!
                setTimeout(() => { window.location.href = `invoice.html?id=${invoiceId}`; }, 2000);

            } catch (error) {
                clearInterval(loader);
                overlay.classList.remove('active');
                btn.disabled = false;
                alert("GATEWAY ERROR: " + error.message);
            }
        });
    </script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

14. (contacts.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* PAGE SPECIFIC STYLES */
        body { padding-top: 80px; background: #f0f4f8; }

        .contact-hero {
            background: var(--brand-navy);
            color: white;
            padding: 80px 0 120px; /* Extra padding bottom for overlap */
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        /* DNA Background Effect */
        .contact-hero::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(0,174,239,0.1) 0%, rgba(15,24,46,0) 70%);
            animation: rotate 20s linear infinite;
        }
        @keyframes rotate { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }

        .contact-container {
            max-width: 1100px;
            margin: -80px auto 50px; /* Pulls content up into the blue hero */
            position: relative;
            z-index: 10;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
        }

        /* LEFT SIDE: INFO */
        .info-card {
            background: var(--brand-navy);
            color: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        .info-card::after {
            content: ''; position: absolute; bottom: 0; right: 0; width: 100px; height: 100px;
            background: linear-gradient(to top left, var(--brand-magenta), transparent);
            opacity: 0.2; border-radius: 50% 0 0 0;
        }

        .info-item { display: flex; align-items: flex-start; gap: 15px; margin-bottom: 30px; }
        .info-icon { 
            width: 40px; height: 40px; background: rgba(255,255,255,0.1); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            color: var(--brand-cyan); font-size: 1.2rem; flex-shrink: 0;
        }
        .info-content h5 { color: #aaa; margin-bottom: 5px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .info-content p { color: white; font-weight: 600; font-size: 1.1rem; line-height: 1.5; }

        /* RIGHT SIDE: FORM */
        .form-card {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .form-title { color: var(--brand-navy); font-size: 2rem; font-weight: 700; margin-bottom: 30px; }

        .c-input {
            width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px;
            margin-bottom: 20px; font-family: var(--font-primary); transition: 0.3s;
        }
        .c-input:focus { border-color: var(--brand-cyan); outline: none; }
        
        textarea.c-input { height: 150px; resize: none; }

        /* RESPONSIVE */
        @media (max-width: 900px) {
            .contact-container { grid-template-columns: 1fr; margin-top: -50px; }
        }
    </style>
</head>
<body>

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

    <div class="contact-hero">
        <div class="container">
            <h1 id="contact-hero_title" style="font-size: 3rem; margin-bottom: 10px;">Get in Touch</h1>
            <p id="contact-hero_desc" style="opacity: 0.8; font-size: 1.2rem;">We are here to answer your questions and discuss your projects.</p>
        </div>
    </div>

    <div class="contact-container">
        
        <div class="info-card">
            <h3 id="contact-info_title" style="margin-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;">Contact Info</h3>
            
            <div class="info-item">
                <div class="info-icon"><i class="fas fa-map-marker-alt"></i></div>
                <div class="info-content">
                    <h5 id="contact-label_address">Address</h5>
                    <p id="contact-text_address">Marka Al-Shamaliya<br>Amman, Jordan</p>
                </div>
            </div>

            <div class="info-item">
                <div class="info-icon"><i class="fas fa-phone"></i></div>
                <div class="info-content">
                    <h5 id="contact-label_phone">Phone</h5>
                    <p>+962 79 785 2640</p>
                    <p style="font-size: 0.9rem; opacity: 0.7;">+962 78 077 0085</p>
                </div>
            </div>

            <div class="info-item">
                <div class="info-icon"><i class="fas fa-envelope"></i></div>
                <div class="info-content">
                    <h5 id="contact-label_email">Email</h5>
                    <p>mhstudios.836@gmail.com</p>
                </div>
            </div>

            <div style="margin-top: 30px; border-radius: 10px; overflow: hidden; opacity: 0.8;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg" style="width: 100%; height: 150px; object-fit: cover;" alt="Amman Map">
            </div>
        </div>

        <div class="form-card">
            <div class="form-title" id="contact-form_title">Send Message</div>
            
            <form action="https://formspree.io/f/YOUR_ID_HERE" method="POST">
                <div class="split-inputs" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <input type="text" class="c-input" id="contact-ph_name" placeholder="Your Name" required>
                    <input type="email" class="c-input" id="contact-ph_email" placeholder="Email Address" required>
                </div>
                
                <input type="text" class="c-input" id="contact-ph_subject" placeholder="Subject" required>
                
                <textarea class="c-input" id="contact-ph_msg" placeholder="How can we help you?" required></textarea>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <span id="contact-btn_send">Send Message</span> <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>

    </div>
	
	<div class="container" style="margin-bottom: 80px;">
        <div class="section-divider">
            <span style="background:var(--brand-navy); color:white; padding:5px 15px; border-radius:20px; font-size:0.8rem;">OPERATIONS</span>
        </div>

        <div class="support-grid">
            
            <div class="panel-card" style="border-left: 5px solid var(--brand-cyan);">
                <div class="panel-title"><i class="fas fa-satellite-dish"></i> <span id="supp-track_title">Track Request</span></div>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;" id="supp-track_desc">Enter Invoice ID to check document status.</p>
                
                <div class="tracker-box" style="display: flex; gap: 10px;">
                    <input type="text" id="track-input" class="c-input" placeholder="INV-..." style="margin:0; text-transform: uppercase;">
                    <button class="btn btn-primary" onclick="checkTicketStatus()" style="width: auto; padding: 0 20px;"><i class="fas fa-search"></i></button>
                </div>
                
                <div id="track-result" style="margin-top: 15px; display: none; padding: 10px; background: #f0f4f8; border-radius: 8px; font-size: 0.9rem;">
                    <strong>Status:</strong> <span id="status-text" style="color: var(--brand-cyan); font-weight: bold;">Processing</span>
                </div>
            </div>

            <div class="panel-card" style="border-left: 5px solid var(--brand-magenta); background: #f9f9f9;">
                <div class="panel-title" style="color: var(--brand-dark);"><i class="fas fa-user-shield"></i> <span id="supp-agent_title">Staff Portal</span></div>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;" id="supp-agent_desc">Authorized personnel workspace.</p>
                <button class="btn btn-outline" onclick="unlockStaffPortal()" style="width: 100%; border-color: #ddd; color: #555;">
                    <i class="fas fa-lock"></i> Access Dashboard
                </button>
            </div>

        </div>
    </div>

    <div id="staff-dashboard" class="modal-overlay">
        <div class="modal-box" style="max-width: 800px; background: #f4f7f6;">
            <a href="javascript:void(0)" class="close-modal" onclick="closeStaffPortal()">&times;</a>
            
            <div class="modal-header" style="background: var(--brand-navy); color: white; margin: -30px -30px 20px -30px; padding: 20px; border-radius: 20px 20px 0 0;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div class="dna-logo small-logo"><div class="dna-drop dna-magenta"></div><div class="dna-drop dna-cyan"></div></div>
                    <h3 style="color: white; margin: 0;">Agent Workspace</h3>
                </div>
                <div style="font-size: 0.8rem; opacity: 0.7;">Logged in as: Staff Member</div>
            </div>

            <div class="staff-grid">
                <a href="https://docs.google.com/spreadsheets" target="_blank" class="staff-tool">
                    <div class="tool-icon"><i class="fas fa-database"></i></div>
                    <h4>Open Database</h4>
                    <span>View Form Responses (Sheets)</span>
                </a>

                <div class="staff-tool" onclick="launchWhatsApp()">
                    <div class="tool-icon"><i class="fab fa-whatsapp"></i></div>
                    <h4>Quick WhatsApp</h4>
                    <input type="text" id="wa-number" placeholder="9627..." onclick="event.stopPropagation()" style="width: 100%; padding: 5px; border: 1px solid #ddd; border-radius: 5px; margin-top: 5px;">
                </div>

                <div class="staff-tool" style="grid-column: span 2;">
                    <div class="tool-icon"><i class="fas fa-calculator"></i></div>
                    <h4>Phone Quote Calculator</h4>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <input type="number" id="staff-pages" placeholder="Pages" style="width: 60px; padding: 5px;">
                        <select id="staff-type" style="padding: 5px;">
                            <option value="10">Standard (10 JOD)</option>
                            <option value="15">Legal (15 JOD)</option>
                            <option value="20">Medical (20 JOD)</option>
                        </select>
                        <button onclick="staffCalc()" style="background: var(--brand-cyan); color: white; border: none; padding: 0 15px; border-radius: 5px;">=</button>
                        <span id="staff-result" style="font-weight: bold; padding: 5px;">0 JOD</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="#" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>
	
	<div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
	
	<script type="module">
		import { db, doc, getDoc } from './assets/js/firebase-init.js';

		// We attach this to 'window' so your HTML button onclick="checkTicketStatus()" can find it!
		window.checkTicketStatus = async function() {
			const idInput = document.getElementById('track-input');
			const resultBox = document.getElementById('track-result');
			const statusText = document.getElementById('status-text');
			
			// 1. Basic Validation
			const id = idInput.value.trim().toUpperCase();

			if (!id.startsWith('INV-')) {
				alert("Invalid ID format. Must start with 'INV-'");
				return;
			}

			// 2. UI Updates (Searching state)
			resultBox.style.display = 'block';
			statusText.innerText = "Connecting to Database...";
			statusText.style.color = "#999";

			try {
				// 3. REAL FIREBASE CHECK
				const docRef = doc(db, "orders", id);
				const docSnap = await getDoc(docRef);

				if (docSnap.exists()) {
					const data = docSnap.data();
					
					// 4. Update Status Text
					// If the order has a 'status' field, use it. Otherwise default to 'Received'.
					const realStatus = data.status || "Received"; 
					statusText.innerText = realStatus; 
					
					// 5. Color Logic based on Status
					if(realStatus === "Completed" || realStatus === "Approved") {
						statusText.style.color = "#2ecc71"; // Green
					} else if(realStatus === "Pending" || realStatus === "Processing") {
						statusText.style.color = "orange";
					} else if(realStatus === "Rejected" || realStatus === "Cancelled") {
						statusText.style.color = "red";
					} else {
						statusText.style.color = "var(--brand-cyan)"; // Blue (Default)
					}
					
				} else {
					// ID doesn't exist in Database
					statusText.innerText = "Order Not Found";
					statusText.style.color = "red";
				}
			} catch (e) {
				console.error("Firebase Error:", e);
				statusText.innerText = "Connection Error";
				statusText.style.color = "red";
			}
		}
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

15. (employee_dashboard.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPERATIVE DASHBOARD | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace; margin: 0; padding: 0; transition: all 0.3s ease; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        .dash-wrapper { display: flex; height: 100vh; overflow: hidden; }
        
        .dash-sidebar { width: 280px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; display: flex; flex-direction: column; flex-shrink: 0; }
        body[dir="rtl"] .dash-sidebar { border-right: none; border-left: 1px solid rgba(0, 242, 255, 0.2); }

        .operative-card { text-align: center; border-bottom: 1px dashed rgba(0, 242, 255, 0.3); padding-bottom: 20px; margin-bottom: 20px; }
        .op-photo { width: 100px; height: 100px; border-radius: 50%; border: 2px solid #00f2ff; margin: 0 auto 10px auto; background-size: cover; background-position: center; background-color: #333; }
        .op-name { margin: 0; color: white; font-size: 1.2rem; text-transform: uppercase; }
        .op-id { color: #ff4b5c; font-size: 0.9rem; font-weight: bold; margin-top: 5px; }
        .op-role { color: #aaa; font-size: 0.8rem; margin-top: 5px; }

        .dash-main { flex-grow: 1; padding: 20px; display: grid; grid-template-columns: 2fr 1fr; gap: 20px; overflow-y: auto; }
        
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.02); padding: 15px; display: flex; flex-direction: column; }
        .panel h3 { margin-top: 0; color: #00ff88; border-bottom: 1px solid #00ff88; padding-bottom: 10px; font-size: 1rem; }
        .panel.chat-panel h3 { color: #00f2ff; border-color: #00f2ff; display: flex; justify-content: space-between; align-items: center;}
        .panel.log-panel h3 { color: #ff4b5c; border-color: #ff4b5c; }

        .chat-box { flex-grow: 1; border: 1px inset rgba(0, 242, 255, 0.1); background: rgba(0,0,0,0.5); padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; margin-bottom: 10px; min-height: 300px; }
        .msg { padding: 8px 12px; border-radius: 5px; max-width: 80%; font-size: 0.9rem; }
        .msg.op { background: rgba(0, 242, 255, 0.1); border-left: 3px solid #00f2ff; align-self: flex-start; color: white; }
        body[dir="rtl"] .msg.op { border-left: none; border-right: 3px solid #00f2ff; }
        .msg.admin { background: rgba(255, 75, 92, 0.1); border-right: 3px solid #ff4b5c; align-self: flex-end; color: #ff4b5c; text-align: right; }
        body[dir="rtl"] .msg.admin { border-right: none; border-left: 3px solid #ff4b5c; text-align: left;}
        .msg-time { font-size: 0.6rem; opacity: 0.5; margin-top: 5px; display: block; }

        .chat-input-area { display: flex; gap: 10px; }
        .chat-input-area input { flex-grow: 1; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid #00f2ff; color: white; font-family: inherit; }
        .chat-input-area input:focus { outline: none; box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }

        .file-drop { border: 1px dashed rgba(0, 255, 136, 0.4); padding: 20px; text-align: center; cursor: pointer; color: #aaa; transition: 0.3s; }
        .file-drop:hover { background: rgba(0, 255, 136, 0.05); color: #00ff88; border-color: #00ff88; }
        .file-drop i { font-size: 2rem; margin-bottom: 10px; color: #00ff88; }

        .log-list { list-style: none; padding: 0; margin: 0; overflow-y: auto; max-height: 250px; }
        .log-list li { border-bottom: 1px solid rgba(255, 75, 92, 0.2); padding: 8px 0; font-size: 0.8rem; color: #ccc; display: flex; justify-content: space-between; }
        .log-list li span.event { color: #ff4b5c; }

        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px; cursor: pointer; transition: 0.3s; font-family: inherit; font-weight: bold; width: 100%; text-transform: uppercase; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #050a15; }
        .btn-danger { border-color: #ff4b5c; color: #ff4b5c; margin-top: auto; }
        .btn-danger:hover { background: #ff4b5c; color: white; }
        .btn-warning { border-color: #ffc107; color: #ffc107; width: auto; padding: 5px 15px;}
        .btn-warning:hover { background: #ffc107; color: #050a15; }

        @media (max-width: 900px) {
            .dash-wrapper { flex-direction: column; height: auto; }
            .dash-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .dash-main { grid-template-columns: 1fr; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="dash-wrapper">
        <aside class="dash-sidebar">
            <div class="operative-card">
                <div class="op-photo" id="ui-photo"></div>
                <h3 class="op-name" id="ui-name">Scanning...</h3>
                <div class="op-id" id="ui-id">ID: ---</div>
                <div class="op-role" id="ui-role">Connecting to Alpha...</div>
            </div>

            <div style="font-size: 0.8rem; color: #aaa; text-align: center; margin-bottom: 20px;">
                <p><i class="fas fa-lock" style="color:#00ff88;"></i> <span id="ui-stat-secure">UPLINK SECURE</span></p>
                <p><i class="fas fa-server"></i> <span id="ui-stat-server">SERVER: DOHA-01</span></p>
            </div>

        <div style="margin-top: auto; padding-top: 20px;">
			<button class="btn btn-green" id="btn-arrival" onclick="submitArrival()" style="margin-bottom: 10px;"><i class="fas fa-building"></i> <span>LOG OFFICE ARRIVAL</span></button>
		</div>
        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
        </aside>

        <main class="dash-main">
            <div class="panel" style="grid-column: span 2; margin-bottom: 20px;">
                <h3 style="color: #ffc107; border-color: #ffc107;" id="ui-panel-missions">
                    <i class="fas fa-crosshairs"></i> ACTIVE DEPLOYMENTS
                </h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; text-align: left; font-size: 0.9rem;">
                        <thead>
                            <tr style="border-bottom: 1px solid rgba(255, 193, 7, 0.3); color: #ffc107;">
                                <th style="padding: 10px;">Mission ID</th>
                                <th style="padding: 10px;">Intel (Doc Type)</th>
                                <th style="padding: 10px;">Urgency</th>
                                <th style="padding: 10px;">Status</th>
                                <th style="padding: 10px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="active-missions-list">
                            <tr><td colspan="5" style="text-align: center; padding: 20px; color: #888;">Scanning for assigned operations...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="panel chat-panel" style="grid-row: span 2;">
                <h3>
                    <span><i class="fas fa-satellite-dish"></i> <span id="ui-panel-chat">ALPHA COMMS CHANNEL</span></span>
                    <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
                </h3>
                <div class="chat-box" id="chat-window">
                    <p style="text-align:center; color:gray; font-size:0.8rem; margin:auto;" id="ui-msg-conn">Establishing connection to Command...</p>
                </div>
                <form class="chat-input-area" id="chat-form">
                    <input type="text" id="chat-input" placeholder="Transmit message to Admin..." required autocomplete="off">
                    <button type="submit" class="btn" style="width:auto; padding: 0 20px;"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
			<div class="panel">
                <h3 style="color: #ff00ff; border-color: #ff00ff;"><i class="fas fa-wallet"></i> REQUISITION LEDGER</h3>
                <div style="text-align: center; padding: 20px 0;">
                    <div style="font-size: 0.8rem; color: #aaa;">Pending Payout (JOD)</div>
                    <div id="op-earnings" style="font-size: 3rem; color: white; font-weight: bold; margin: 10px 0;">0.00</div>
                    <div style="font-size: 0.85rem; color: #ff00ff;"><span id="op-completed-count">0</span> Missions Cleared</div>
                </div>
            </div>
            <div class="panel">
                <h3 style="color: #00ff88; border-color:#00ff88;" id="ui-panel-drop"><i class="fas fa-file-export"></i> SECURE FILE DROP</h3>
                <p style="font-size: 0.8rem; color: #aaa;" id="ui-desc-drop">Upload completed translations or reports directly to the Alpha Command inbox.</p>
                
                <input type="file" id="op-file" style="display: none;" onchange="handleFileSelect(event)">
                <div class="file-drop" id="drop-zone" onclick="document.getElementById('op-file').click()">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <div id="file-label">Click to select payload</div>
                </div>
                <button class="btn btn-green" id="btn-upload" style="margin-top: 15px; display: none;" onclick="executeUpload()">TRANSMIT PAYLOAD</button>
            </div>

            <div class="panel log-panel">
                <h3 id="ui-panel-log"><i class="fas fa-history"></i> ACCESS AUDIT TRAIL</h3>
                <ul class="log-list" id="audit-logs">
                    <li id="ui-msg-log">Scanning logs...</li>
                </ul>
            </div>

        </main>
    </div>

    <script type="module">
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
		import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
		import { db, storage, ref, uploadBytes, getDownloadURL, collection, addDoc } from './assets/js/firebase-init.js';

		// ALL FIRESTORE TOOLS COMBINED HERE:
		import { 
			query, where, orderBy, getDocs, onSnapshot, 
			serverTimestamp, updateDoc, doc 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const app = getApp();
        const auth = getAuth(app);
        
        let currentUserUid = null;
        let operativeData = null;
		// 1. STATE TRACKER
        let activeTargetMissionId = null;

        window.currentLang = 'en';
        const dictionary = {
            en: {
                statSecure: "UPLINK SECURE",
                statServer: "SERVER: DOHA-01",
                btnArrival: "LOG OFFICE ARRIVAL",
                btnLogout: "TERMINATE SESSION",
                panelChat: "ALPHA COMMS CHANNEL",
                msgConn: "Comms channel open. Waiting for transmission...",
                placeChat: "Transmit message to Admin...",
                panelDrop: "<i class='fas fa-file-export'></i> SECURE FILE DROP",
                descDrop: "Upload completed translations or reports directly to the Alpha Command inbox.",
                lblDrop: "Click to select payload",
                btnUpload: "TRANSMIT PAYLOAD",
                panelLog: "<i class='fas fa-history'></i> ACCESS AUDIT TRAIL",
                msgLog: "Scanning logs...",
                txtAdmin: "ALPHA COMMAND"
            },
            ar: {
                statSecure: "الاتصال آمن",
                statServer: "الخادم: الدوحة-01",
                btnArrival: "تسجيل حضور للمكتب",
                btnLogout: "إنهاء الجلسة",
                panelChat: "قناة اتصال القيادة",
                msgConn: "القناة مفتوحة. بانتظار الإرسال...",
                placeChat: "أرسل رسالة للقيادة...",
                panelDrop: "<i class='fas fa-file-export'></i> النقل الآمن للملفات",
                descDrop: "ارفع الترجمات أو التقارير المنجزة مباشرة لصندوق القيادة الرئيسية.",
                lblDrop: "اضغط لاختيار الملف",
                btnUpload: "إرسال الملف",
                panelLog: "<i class='fas fa-history'></i> سجل عمليات الوصول",
                msgLog: "جاري فحص السجلات...",
                txtAdmin: "القيادة الرئيسية"
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-stat-secure').innerText = dict.statSecure;
            document.getElementById('ui-stat-server').innerText = dict.statServer;
            document.querySelector('#btn-arrival span').innerText = dict.btnArrival;
            document.getElementById('ui-btn-logout').innerHTML = `<i class="fas fa-power-off"></i> ${dict.btnLogout}`;
            
            document.getElementById('ui-panel-chat').innerText = dict.panelChat;
            document.getElementById('chat-input').placeholder = dict.placeChat;
            
            document.getElementById('ui-panel-drop').innerHTML = dict.panelDrop;
            document.getElementById('ui-desc-drop').innerText = dict.descDrop;
            
            const fileInput = document.getElementById('op-file');
            if(!fileInput.files.length) { document.getElementById('file-label').innerText = dict.lblDrop; }
            
            const btnUp = document.getElementById('btn-upload');
            if(!btnUp.disabled && btnUp.innerText !== "TRANSMITTING..." && btnUp.innerText !== "جاري الإرسال...") {
                btnUp.innerText = dict.btnUpload;
            }

            document.getElementById('ui-panel-log').innerHTML = dict.panelLog;

            // Re-render UI elements that rely on translation
            if(currentUserUid) {
                fetchAuditTrail(currentUserUid);
                initializeCommsChannel(currentUserUid);
                fetchOperativeIntel(currentUserUid); // To refresh permission text
            }
        }
		
		// 2. TARGETED UPLOAD INITIALIZER
        // This gets triggered when they click the "Upload" icon on the Active Deployments board
        window.initiateTargetedUpload = function(missionId) {
            activeTargetMissionId = missionId;
            
            // Re-style the Secure Drop box to show it is now locked onto a specific mission
            document.getElementById('ui-panel-drop').innerHTML = `<i class='fas fa-crosshairs'></i> UPLOAD FOR: ${missionId.substring(0,8).toUpperCase()}`;
            document.getElementById('ui-desc-drop').innerText = "Payload will be directly attached to this mission and marked as Completed.";
            document.getElementById('drop-zone').style.borderColor = "#ffc107";
            document.getElementById('drop-zone').style.color = "#ffc107";
            
            // Auto-scroll the operative to the upload box
            document.getElementById('ui-panel-drop').scrollIntoView({ behavior: 'smooth' });
        }

        onAuthStateChanged(auth, async (user) => {
			if (!user) {
				window.location.href = "login_emp.html";
			} else {
				currentUserUid = user.uid;
				
				// --- THE HEARTBEAT START ---
				updateHeartbeat(user.uid); // Send first pulse immediately
				setInterval(() => updateHeartbeat(user.uid), 60000); // Pulse every 60 seconds
				// ---------------------------

				await fetchOperativeIntel(user.uid);
				fetchAuditTrail(user.uid);
				initializeCommsChannel(user.uid);
				fetchAssignedMissions(currentUserUid);
				updateEarnings(user.uid); // Move this inside here to ensure it has the UID
			}
		});

        async function fetchOperativeIntel(uid) {
            const q = query(collection(db, "employees"), where("uid", "==", uid));
            const snapshot = await getDocs(q);
            
            if(!snapshot.empty) {
                operativeData = snapshot.docs[0].data();
                document.getElementById('ui-name').innerText = operativeData.name;
                document.getElementById('ui-id').innerText = "ID: " + operativeData.empId;
                
                let dispPerm = operativeData.permission;
                if(window.currentLang === 'ar') {
                    if(dispPerm === "Standard") dispPerm = "موظف قياسي";
                    if(dispPerm === "Manager") dispPerm = "مدير ميداني";
                    if(dispPerm === "Admin") dispPerm = "مدير نظام";
                }
                
                document.getElementById('ui-role').innerText = operativeData.title + " | " + dispPerm;
                if(operativeData.photo) {
                    document.getElementById('ui-photo').style.backgroundImage = `url('${operativeData.photo}')`;
                }
            } else {
                document.getElementById('ui-name').innerText = "UNREGISTERED AGENT";
            }
        }

        let selectedFile = null;
        window.handleFileSelect = function(e) {
            selectedFile = e.target.files[0];
            if(selectedFile) {
                document.getElementById('file-label').innerText = "READY: " + selectedFile.name;
                document.getElementById('drop-zone').style.borderColor = "#00f2ff";
                document.getElementById('btn-upload').style.display = "block";
            }
        }

        window.executeUpload = async function() {
            if(!selectedFile) return;
            const btn = document.getElementById('btn-upload');
            const dict = dictionary[window.currentLang];
            btn.innerText = window.currentLang === 'en' ? "TRANSMITTING..." : "جاري الإرسال..."; 
            btn.disabled = true;

            try {
                const fileName = Date.now() + "_" + selectedFile.name;
                const storageRef = ref(storage, `employee_uploads/${currentUserUid}/${fileName}`);
                const snapshot = await uploadBytes(storageRef, selectedFile);
                const downloadURL = await getDownloadURL(snapshot.ref);

                await addDoc(collection(db, "admin_inbox"), {
                    empUid: currentUserUid,
                    empName: operativeData.name,
                    fileName: selectedFile.name,
                    fileUrl: downloadURL,
                    timestamp: serverTimestamp()
                });

                alert(window.currentLang === 'en' ? "PAYLOAD DELIVERED TO ALPHA COMMAND." : "تم إرسال الملف للقيادة الرئيسية بنجاح.");
                selectedFile = null;
                document.getElementById('file-label').innerText = dict.lblDrop;
                document.getElementById('drop-zone').style.borderColor = "rgba(0, 255, 136, 0.4)";
                btn.style.display = "none";

            } catch(error) {
                alert("TRANSMISSION FAILED: " + error.message);
            } finally {
                btn.innerText = dict.btnUpload; 
                btn.disabled = false;
            }
        }

        async function fetchAuditTrail(uid) {
            const logBox = document.getElementById('audit-logs');
            const q = query(collection(db, "employee_logs"), where("uid", "==", uid), orderBy("timestamp", "desc"));
            
            onSnapshot(q, (snapshot) => {
                logBox.innerHTML = "";
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const timeString = data.timestamp ? data.timestamp.toDate().toLocaleString() : "Syncing...";
                    
                    let eventText = data.event;
                    if(window.currentLang === 'ar') {
                        if(eventText === "OFFICE_ARRIVAL") eventText = "تسجيل حضور للمكتب";
                        if(eventText === "LOGIN_SUCCESS") eventText = "تسجيل دخول للنظام";
                    } else {
                        if(eventText === "OFFICE_ARRIVAL") eventText = "OFFICE ARRIVAL";
                        if(eventText === "LOGIN_SUCCESS") eventText = "SYSTEM LOGIN";
                    }

                    logBox.innerHTML += `<li><span class="event">${eventText}</span> <span>${timeString}</span></li>`;
                });
            });
        }

        function initializeCommsChannel(uid) {
            const chatWindow = document.getElementById('chat-window');
            const dict = dictionary[window.currentLang];
            const q = query(collection(db, "messages"), where("empUid", "==", uid), orderBy("timestamp", "asc"));

            onSnapshot(q, (snapshot) => {
                chatWindow.innerHTML = "";
                if(snapshot.empty) {
                    chatWindow.innerHTML = `<p style='text-align:center; color:gray; font-size:0.8rem; margin:auto;'>${dict.msgConn}</p>`;
                }

                snapshot.forEach(doc => {
                    const data = doc.data();
                    const isOp = data.sender === "Operative";
                    const time = data.timestamp ? data.timestamp.toDate().toLocaleTimeString() : "Sending...";
                    
                    chatWindow.innerHTML += `
                        <div class="msg ${isOp ? 'op' : 'admin'}">
                            <strong>${isOp ? operativeData.name : dict.txtAdmin}</strong><br>
                            ${data.text}
                            <span class="msg-time">${time}</span>
                        </div>
                    `;
                });
                chatWindow.scrollTop = chatWindow.scrollHeight; 
            });
        }

        document.getElementById('chat-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if(!text) return;
            input.value = ""; 
            try {
                await addDoc(collection(db, "messages"), {
                    empUid: currentUserUid, sender: "Operative", text: text, timestamp: serverTimestamp()
                });
            } catch(error) { alert("COMMS FAILURE: " + error.message); }
        });
        
        window.submitArrival = async function() {
            const btn = document.getElementById('btn-arrival');
            btn.querySelector('span').innerText = window.currentLang === 'en' ? "LOGGING..." : "جاري التسجيل..."; 
            btn.disabled = true;
            try {
                await addDoc(collection(db, "employee_logs"), {
                    uid: currentUserUid, empName: operativeData.name, timestamp: serverTimestamp(), event: "OFFICE_ARRIVAL"
                });
                btn.querySelector('span').innerText = window.currentLang === 'en' ? "ARRIVAL LOGGED" : "تم التسجيل";
                btn.style.background = "#00ff88"; btn.style.color = "#000";
            } catch(error) {
                alert("COMMS FAILURE: " + error.message);
                btn.querySelector('span').innerText = dictionary[window.currentLang].btnArrival; 
                btn.disabled = false;
            }
        }

        window.executeLogout = function() {
			// 1. Grab the loader and change text to "Disconnecting"
			const loader = document.getElementById('system-loader');
			const loaderText = loader.querySelector('.loader-text');
			
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'en') 
					? "SYSTEM DISCONNECTING<span class='dots'>...</span>" 
					: "جاري قطع الاتصال<span class='dots'>...</span>";
			}

			// 2. Show the black overlay
			if (loader) loader.classList.add('active');

			// 3. Sign out and redirect
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = "login_emp.html"; 
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					alert("LOGOUT ERROR: " + err.message);
				});
			}, 800); // Dramatic pause
		}
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
		
		// FETCH ASSIGNED MISSIONS
        function fetchAssignedMissions(uid) {
            const missionBoard = document.getElementById('active-missions-list');
            const dict = dictionary[window.currentLang];
            
            // Query orders where this operative is assigned, and it's not yet completed
            const q = query(
                collection(db, "orders"), 
                where("assignedTo", "==", uid),
                where("status", "!=", "Completed")
            );

            onSnapshot(q, (snapshot) => {
                missionBoard.innerHTML = "";
                if (snapshot.empty) {
                    missionBoard.innerHTML = `<tr><td colspan='5' style="text-align: center; padding: 20px; color: #888;">No active deployments. Standby.</td></tr>`;
                    return;
                }

                snapshot.forEach(docSnap => {
                    const data = docSnap.data();
                    const id = docSnap.id;
                    
                    missionBoard.innerHTML += `
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <td style="padding: 10px; color: white; font-weight: bold;">${id.substring(0,8).toUpperCase()}</td>
                            <td style="padding: 10px; color: #ccc;">${data.docType} <br><span style="font-size: 0.75rem; color: #888;">${data.langFrom} > ${data.langTo}</span></td>
                            <td style="padding: 10px; color: ${data.urgency === 'Express' ? '#ff4b5c' : '#00f2ff'};">${data.urgency}</td>
                            <td style="padding: 10px;"><span class="badge" style="background: rgba(255,193,7,0.1); color: #ffc107; border: 1px solid #ffc107;">${data.status}</span></td>
                            <td style="padding: 10px; display: flex; gap: 5px;">
                                <button class="btn-cmd" onclick="window.open('${data.fileUrl}', '_blank')" title="Download Intel"><i class="fas fa-download"></i></button>
                                <button class="btn-cmd action" onclick="initiateTargetedUpload('${id}')" title="Upload Translation"><i class="fas fa-upload"></i></button>
                            </td>
                        </tr>
                    `;
                });
            });
        }
		
		async function updateEarnings(uid) {
			const q = query(
				collection(db, "orders"), 
				where("assignedTo", "==", uid), 
				where("status", "==", "Completed")
			);
			const snapshot = await getDocs(q);
			let totalJOD = 0;
			snapshot.forEach(doc => {
				const data = doc.data();
				totalJOD += parseFloat(data.price || 0);
			});
			document.getElementById('op-earnings').innerText = totalJOD.toFixed(2);
			document.getElementById('op-completed-count').innerText = snapshot.size;
		}

		// Call this inside onAuthStateChanged after fetchAssignedMissions(user.uid);
		updateEarnings(user.uid);

		async function updateHeartbeat(uid) {
			// 1. Find the document where the 'uid' field matches the current user
			const q = query(collection(db, "employees"), where("uid", "==", uid));
			
			try {
				const snapshot = await getDocs(q);
				if (!snapshot.empty) {
					// 2. Get the actual Document ID (e.g., zEmIGjx...)
					const docId = snapshot.docs[0].id;
					const userRef = doc(db, "employees", docId);
					
					// 3. Update that specific document
					await updateDoc(userRef, {
						lastSeen: serverTimestamp(),
						status: "Online"
					});
					console.log("Heartbeat transmitted to doc: " + docId);
				}
			} catch (error) {
				console.error("Signal lost:", error);
			}
		}
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

16. (employee_reg.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERSONNEL REGISTRY | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* TACTICAL TERMINAL STYLES */
        body { background-color: #050a15; color: #00f2ff; font-family: 'Share Tech Mono', monospace, sans-serif; margin: 0; padding: 0; transition: all 0.3s ease; }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        /* --- SIDEBAR LAYOUT --- */
        .admin-wrapper { display: flex; min-height: 100vh; }
        .admin-sidebar { width: 260px; background: rgba(0, 0, 0, 0.6); border-right: 1px solid rgba(0, 242, 255, 0.2); padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 10px; }
        .admin-sidebar-menu a { display: block; padding: 12px 15px; color: #ccc; text-decoration: none; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border-left-color: #00f2ff; }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: #00f2ff; }
        .admin-sidebar-menu i { margin-right: 10px; width: 20px; text-align: center; }
        .admin-main-content { flex-grow: 1; padding: 20px 40px; overflow-y: auto; }

        /* --- FORM GRID SYSTEM --- */
        .grid-layout { display: grid; grid-template-columns: 1.5fr 1fr; gap: 30px; }
        .panel { border: 1px solid rgba(0, 242, 255, 0.2); background: rgba(0, 242, 255, 0.03); padding: 20px; }
        .panel h3 { margin-top: 0; color: #ff4b5c; border-bottom: 1px solid #ff4b5c; padding-bottom: 10px; }
        
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; opacity: 0.8; margin-bottom: 5px; color: #00f2ff; font-weight: bold;}
        input, select, textarea { width: 100%; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid rgba(0, 242, 255, 0.3); color: white; font-family: inherit; box-sizing: border-box; }
        input:focus, select:focus { border-color: #00f2ff; outline: none; }

        /* --- PHOTO UPLOAD CIRCLE --- */
        .photo-upload-container { text-align: center; margin-bottom: 20px; }
        .photo-preview { width: 100px; height: 100px; border-radius: 50%; border: 2px dashed #00f2ff; margin: 0 auto 10px auto; display: flex; align-items: center; justify-content: center; overflow: hidden; cursor: pointer; background-size: cover; background-position: center; }
        .photo-preview:hover { background-color: rgba(0, 242, 255, 0.1); }
        .photo-preview i { font-size: 2rem; opacity: 0.5; }

        /* --- FILE DROP ZONES --- */
        .file-drop { border: 1px dashed rgba(0, 242, 255, 0.4); padding: 10px; text-align: center; cursor: pointer; font-size: 0.8rem; color: #888; }
        .file-drop.active { border-color: #00ff88; color: #00ff88; }

        /* --- BUTTONS --- */
        .btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; transition: 0.3s; width: 100%; font-weight: bold; font-family: inherit; }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-green { border-color: #00ff88; color: #00ff88; }
        .btn-green:hover { background: #00ff88; color: #000; }
        .btn-danger { border-color: #ff4b5c; color: #ff4b5c; width: auto; font-size: 0.8rem; padding: 5px 10px; }
        .btn-danger:hover { background: #ff4b5c; color: white; }
        .btn-warning { border-color: #ffc107; color: #ffc107; width: auto; padding: 5px 15px;}
        .btn-warning:hover { background: #ffc107; color: #050a15; }

        /* --- EMPLOYEE CARDS --- */
        .emp-card { border: 1px solid rgba(255, 255, 255, 0.1); padding: 15px; margin-bottom: 15px; background: rgba(0,0,0,0.3); display: flex; gap: 15px; align-items: center; }
        .emp-avatar { width: 50px; height: 50px; border-radius: 50%; background: #333; background-size: cover; background-position: center; flex-shrink: 0;}
        .emp-info h4 { margin: 0 0 5px 0; color: white; }
        .emp-info p { margin: 0; font-size: 0.8rem; color: #aaa; }
        .emp-actions { margin-left: auto; display: flex; gap: 5px; flex-direction: column; }
        body[dir="rtl"] .emp-actions { margin-left: 0; margin-right: auto; }

        /* --- DOSSIER VIEW MODAL --- */
        #view-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .dossier-box { border: 1px solid #00f2ff; background: #050a15; padding: 30px; width: 90%; max-width: 500px; box-shadow: 0 0 30px rgba(0, 242, 255, 0.2); }
        .dossier-header { display: flex; gap: 20px; border-bottom: 1px dashed rgba(0,242,255,0.3); padding-bottom: 20px; margin-bottom: 20px; align-items: center; }
        .dossier-photo { width: 80px; height: 80px; border-radius: 50%; border: 2px solid #00f2ff; background-size: cover; background-position: center; flex-shrink: 0;}
        .dossier-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .d-label { font-size: 0.7rem; color: #888; text-transform: uppercase; margin-bottom: 3px; }
        .d-val { font-size: 0.9rem; color: white; margin-bottom: 10px; }
        .d-val.highlight { color: #00ff88; }

        @media (max-width: 900px) {
            .admin-wrapper { flex-direction: column; }
            .admin-sidebar { width: 100%; border-right: none; border-bottom: 1px solid rgba(0, 242, 255, 0.2); }
            .grid-layout { grid-template-columns: 1fr; }
        }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="admin-wrapper">
        <aside class="admin-sidebar">
            <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
			</div>
            
			<ul class="admin-sidebar-menu">
				<li><a href="alpha.html" ><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
				<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
				<li><a href="employee_reg.html" class="active"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
				<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
				<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
				<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
				<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
				<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
				<li><a href="sales.html"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
				<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
			</ul>

            <div style="margin-top: auto; padding-top: 20px;">
                <button onclick="window.location.href='index.html'" class="btn" style="font-size: 0.8rem; width:100%;" id="ui-btn-return">RETURN TO BASE</button>
            </div>
        </aside>

        <main class="admin-main-content">
            <div class="header" style="border-bottom: 1px solid rgba(0, 242, 255, 0.2); padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center;">
                <h2 style="margin:0;" id="ui-header-title"><i class="fas fa-id-card"></i> PERSONNEL REGISTRY COMMAND</h2>
                <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
            </div>

            <div class="grid-layout">
                <div class="panel">
                    <h3 id="ui-panel1-title"><i class="fas fa-user-edit"></i> NEW OPERATIVE DOSSIER</h3>
                    <form id="emp-form">
                        
                        <div class="photo-upload-container">
                            <input type="file" id="emp-photo" accept="image/*" style="display: none;" onchange="previewPhoto(event)">
                            <div class="photo-preview" id="photo-preview-box" onclick="document.getElementById('emp-photo').click()">
                                <i class="fas fa-camera"></i>
                            </div>
                            <label style="font-size: 0.7rem; color: #aaa;" id="ui-lbl-photo">Click to Upload Photo</label>
                        </div>

                        <div class="form-row">
                            <div><label id="ui-lbl-name">Full Name</label><input type="text" id="emp-name" required></div>
                            <div><label id="ui-lbl-id">Employee ID</label><input type="text" id="emp-id" required placeholder="e.g. AGENT-007"></div>
                        </div>

                        <div class="form-row">
                            <div><label id="ui-lbl-title">Position / Title</label><input type="text" id="emp-title" required></div>
                            <div><label id="ui-lbl-salary">Salary ($)</label><input type="number" id="emp-salary" required></div>
                        </div>

                        <div style="background: rgba(0,0,0,0.3); padding: 10px; margin-bottom: 15px; border-left: 2px solid #ff4b5c;" id="auth-box-border">
                            <label style="color: #ff4b5c;" id="ui-lbl-access">ACCESS CREDENTIALS</label>
                            <div class="form-row" style="margin-bottom:0;">
                                <div><label id="ui-lbl-user">Username</label><input type="text" id="emp-user" required autocomplete="off"></div>
                                <div><label id="ui-lbl-pass">Password</label><input type="text" id="emp-pass" required autocomplete="off"></div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div><label id="ui-lbl-reg">Reg. Date</label><input type="date" id="emp-reg-date" required></div>
                            <div>
                                <label id="ui-lbl-perm">Clearance Level</label>
                                <select id="emp-perm">
                                    <option value="Standard" id="ui-opt-std">Standard Operative</option>
                                    <option value="Manager" id="ui-opt-mgr">Field Manager</option>
                                    <option value="Admin" id="ui-opt-admin">Alpha Admin</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div><label id="ui-lbl-start">Contract Start</label><input type="date" id="emp-start"></div>
                            <div><label id="ui-lbl-end">Contract End</label><input type="date" id="emp-end"></div>
                        </div>

                        <div class="form-group">
                            <label id="ui-lbl-address">Home Address (Optional)</label>
                            <input type="text" id="emp-address">
                        </div>

                        <div class="form-row">
                            <div class="file-drop" onclick="document.getElementById('emp-cv').click()">
                                <input type="file" id="emp-cv" style="display: none;" onchange="updateFileLabel('emp-cv', 'lbl-cv')">
                                <i class="fas fa-file-pdf"></i> <span id="lbl-cv">Upload CV</span>
                            </div>
                            <div class="file-drop" onclick="document.getElementById('emp-cert').click()">
                                <input type="file" id="emp-cert" style="display: none;" onchange="updateFileLabel('emp-cert', 'lbl-cert')">
                                <i class="fas fa-certificate"></i> <span id="lbl-cert">Upload Cert</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button type="submit" class="btn btn-green" id="btn-submit">REGISTER OPERATIVE</button>
                            <button type="button" class="btn btn-danger" id="btn-cancel" onclick="resetForm()" style="display:none; padding: 10px 20px; font-size:1rem;">CANCEL EDIT</button>
                        </div>
                    </form>
                </div>

                <div class="panel">
                    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ff4b5c; padding-bottom: 10px; margin-bottom: 15px;">
                        <h3 style="border: none; margin: 0; padding: 0; color: #ff4b5c;" id="ui-panel2-title"><i class="fas fa-users"></i> ACTIVE PERSONNEL</h3>
                        <button class="btn btn-green" style="width: auto; padding: 5px 10px; font-size: 0.8rem;" onclick="exportRosterToCSV()" id="ui-btn-export"><i class="fas fa-file-csv"></i> EXPORT ROSTER</button>
                    </div>
                    <div id="employee-list">
                        <p style="text-align: center; color: gray;" id="ui-msg-scan">Scanning database...</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="view-modal">
        <div class="dossier-box">
            <div class="dossier-header">
                <div class="dossier-photo" id="v-photo"></div>
                <div>
                    <h2 style="margin: 0 0 5px 0; color: #00f2ff; letter-spacing: 1px;" id="v-name">NAME</h2>
                    <div class="d-label" style="color: #ff4b5c; font-weight: bold;"><span id="ui-modal-id">ID</span>: <span id="v-id">---</span></div>
                    <div class="d-val" style="margin-bottom: 0;" id="v-title">TITLE</div>
                </div>
            </div>
            
            <div class="dossier-grid">
                <div><div class="d-label" id="ui-modal-user">Username</div><div class="d-val highlight" id="v-user"></div></div>
                <div><div class="d-label" id="ui-modal-perm">Clearance</div><div class="d-val" id="v-perm"></div></div>
                
                <div><div class="d-label" id="ui-modal-salary">Salary</div><div class="d-val" id="v-salary"></div></div>
                <div><div class="d-label" id="ui-modal-reg">Reg. Date</div><div class="d-val" id="v-reg"></div></div>
                
                <div><div class="d-label" id="ui-modal-start">Contract Start</div><div class="d-val" id="v-start"></div></div>
                <div><div class="d-label" id="ui-modal-end">Contract End</div><div class="d-val" id="v-end"></div></div>
                
                <div style="grid-column: span 2;"><div class="d-label" id="ui-modal-address">Address</div><div class="d-val" id="v-address"></div></div>
            </div>

            <div style="border-top: 1px dashed rgba(0,242,255,0.3); padding-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
                <a href="#" id="v-cv" target="_blank" class="btn btn-green" style="text-align: center; text-decoration: none; display: none; width:calc(50% - 5px); box-sizing:border-box;"><i class="fas fa-file-pdf"></i> <span id="ui-btn-cv">VIEW CV</span></a>
                <a href="#" id="v-cert" target="_blank" class="btn btn-green" style="text-align: center; text-decoration: none; display: none; width:calc(50% - 5px); box-sizing:border-box;"><i class="fas fa-certificate"></i> <span id="ui-btn-cert">VIEW CERT</span></a>
                <a href="#" id="v-email" class="btn btn-green" style="text-align: center; text-decoration: none; margin-top:5px;"><i class="fas fa-envelope"></i> <span id="ui-btn-email">EMAIL OPERATIVE</span></a>
            </div>

            <button class="btn btn-danger" style="margin-top: 20px; width: 100%; padding: 10px; font-size: 1rem;" onclick="closeViewModal()" id="ui-btn-close">CLOSE DOSSIER</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp, getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { db, storage, ref, uploadBytes, getDownloadURL, collection, addDoc, doc } from './assets/js/firebase-init.js';
        import { getDocs, deleteDoc, query, orderBy, updateDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", 
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = getApp(); 
        const auth = getAuth(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        const secondaryApp = initializeApp(firebaseConfig, "Secondary");
        const secondaryAuth = getAuth(secondaryApp);

        let currentEditId = null;
        let globalEmployees = {}; 

        /* ================= BILINGUAL DICTIONARY MATRIX ================= */
        window.currentLang = 'en';
        const dictionary = {
            en: {
                btnReturn: "RETURN TO BASE",
                headerTitle: "<i class='fas fa-id-card'></i> PERSONNEL REGISTRY COMMAND",
                panel1Title: "<i class='fas fa-user-edit'></i> NEW OPERATIVE DOSSIER",
                lblPhoto: "Click to Upload Photo",
                lblName: "Full Name",
                lblId: "Employee ID (e.g. AGENT-007)",
                lblTitle: "Position / Title",
                lblSalary: "Salary ($)",
                lblAccess: "ACCESS CREDENTIALS",
                lblUser: "Username",
                lblPass: "Password",
                lblReg: "Reg. Date",
                lblPerm: "Clearance Level",
                optStd: "Standard Operative",
                optMgr: "Field Manager",
                optAdmin: "Alpha Admin",
                lblStart: "Contract Start",
                lblEnd: "Contract End",
                lblAddress: "Home Address (Optional)",
                lblCv: "Upload CV",
                lblCert: "Upload Cert",
                btnRegister: "REGISTER OPERATIVE",
                btnUpdate: "UPDATE DOSSIER",
                btnCancel: "CANCEL EDIT",
                panel2Title: "<i class='fas fa-users'></i> ACTIVE PERSONNEL",
                btnExport: "<i class='fas fa-file-csv'></i> EXPORT ROSTER",
                msgScan: "Scanning database...",
                msgEmpty: "No personnel found.",
                btnView: "<i class='fas fa-eye'></i> VIEW",
                btnEdit: "<i class='fas fa-edit'></i> EDIT",
                modalId: "ID",
                modUser: "Username",
                modPerm: "Clearance",
                modSalary: "Salary",
                modReg: "Reg. Date",
                modStart: "Contract Start",
                modEnd: "Contract End",
                modAddress: "Address",
                btnModalCv: "VIEW CV",
                btnModalCert: "VIEW CERT",
                btnModalEmail: "EMAIL OPERATIVE",
                btnModalClose: "CLOSE DOSSIER",
                alertProcess: "PROCESSING...",
                alertDel: "WARNING: You are about to terminate this personnel record. Proceed?",
                alertUpdSuccess: "Dossier Updated Successfully.",
                alertNewSuccess: "New Operative Registered & Credentials Generated."
            },
            ar: {
                btnReturn: "العودة للقاعدة الرئيسية",
                headerTitle: "<i class='fas fa-id-card'></i> وحدة قيادة سجل الموظفين",
                panel1Title: "<i class='fas fa-user-edit'></i> ملف موظف جديد",
                lblPhoto: "اضغط لرفع الصورة",
                lblName: "الاسم الكامل",
                lblId: "الرقم الوظيفي (مثال AGENT-007)",
                lblTitle: "المنصب / المسمى الوظيفي",
                lblSalary: "الراتب ($)",
                lblAccess: "بيانات الدخول للنظام",
                lblUser: "اسم المستخدم",
                lblPass: "كلمة المرور",
                lblReg: "تاريخ التسجيل",
                lblPerm: "مستوى الصلاحيات",
                optStd: "موظف قياسي",
                optMgr: "مدير ميداني",
                optAdmin: "مدير نظام",
                lblStart: "بداية العقد",
                lblEnd: "نهاية العقد",
                lblAddress: "عنوان السكن (اختياري)",
                lblCv: "رفع السيرة الذاتية",
                lblCert: "رفع الشهادة",
                btnRegister: "تسجيل الموظف",
                btnUpdate: "تحديث بيانات الموظف",
                btnCancel: "إلغاء التعديل",
                panel2Title: "<i class='fas fa-users'></i> الموظفون الحاليون",
                btnExport: "<i class='fas fa-file-csv'></i> استخراج السجل",
                msgScan: "جاري فحص قاعدة البيانات...",
                msgEmpty: "لا يوجد موظفين مسجلين.",
                btnView: "<i class='fas fa-eye'></i> عرض",
                btnEdit: "<i class='fas fa-edit'></i> تعديل",
                modalId: "الرقم",
                modUser: "اسم المستخدم",
                modPerm: "الصلاحية",
                modSalary: "الراتب",
                modReg: "تاريخ التسجيل",
                modStart: "بداية العقد",
                modEnd: "نهاية العقد",
                modAddress: "العنوان",
                btnModalCv: "عرض السيرة الذاتية",
                btnModalCert: "عرض الشهادة",
                btnModalEmail: "مراسلة الموظف",
                btnModalClose: "إغلاق الملف",
                alertProcess: "جاري المعالجة...",
                alertDel: "تحذير: أنت على وشك إنهاء وحذف ملف هذا الموظف. هل ترغب بالاستمرار؟",
                alertUpdSuccess: "تم تحديث بيانات الموظف بنجاح.",
                alertNewSuccess: "تم تسجيل الموظف وإنشاء بيانات الدخول بنجاح."
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            // Direction & Buttons
            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';
            
            // Fix Border RTL Logic for Credentials Box
            document.getElementById('auth-box-border').style.borderLeft = window.currentLang === 'ar' ? 'none' : '2px solid #ff4b5c';
            document.getElementById('auth-box-border').style.borderRight = window.currentLang === 'ar' ? '2px solid #ff4b5c' : 'none';

            // Base UI Labels
            document.getElementById('ui-btn-return').innerText = dict.btnReturn;
            document.getElementById('ui-header-title').innerHTML = dict.headerTitle;
            document.getElementById('ui-panel1-title').innerHTML = dict.panel1Title;
            document.getElementById('ui-lbl-photo').innerText = dict.lblPhoto;
            document.getElementById('ui-lbl-name').innerText = dict.lblName;
            document.getElementById('ui-lbl-id').innerText = dict.lblId;
            document.getElementById('ui-lbl-title').innerText = dict.lblTitle;
            document.getElementById('ui-lbl-salary').innerText = dict.lblSalary;
            document.getElementById('ui-lbl-access').innerText = dict.lblAccess;
            document.getElementById('ui-lbl-user').innerText = dict.lblUser;
            document.getElementById('ui-lbl-pass').innerText = dict.lblPass;
            document.getElementById('ui-lbl-reg').innerText = dict.lblReg;
            document.getElementById('ui-lbl-perm').innerText = dict.lblPerm;
            document.getElementById('ui-opt-std').innerText = dict.optStd;
            document.getElementById('ui-opt-mgr').innerText = dict.optMgr;
            document.getElementById('ui-opt-admin').innerText = dict.optAdmin;
            document.getElementById('ui-lbl-start').innerText = dict.lblStart;
            document.getElementById('ui-lbl-end').innerText = dict.lblEnd;
            document.getElementById('ui-lbl-address').innerText = dict.lblAddress;
            
            if(!document.getElementById('emp-cv').files.length) document.getElementById('lbl-cv').innerText = dict.lblCv;
            if(!document.getElementById('emp-cert').files.length) document.getElementById('lbl-cert').innerText = dict.lblCert;

            document.getElementById('btn-submit').innerText = currentEditId ? dict.btnUpdate : dict.btnRegister;
            document.getElementById('btn-cancel').innerText = dict.btnCancel;
            
            document.getElementById('ui-panel2-title').innerHTML = dict.panel2Title;
            document.getElementById('ui-btn-export').innerHTML = dict.btnExport;

            // Modal UI Labels
            document.getElementById('ui-modal-id').innerText = dict.modalId;
            document.getElementById('ui-modal-user').innerText = dict.modUser;
            document.getElementById('ui-modal-perm').innerText = dict.modPerm;
            document.getElementById('ui-modal-salary').innerText = dict.modSalary;
            document.getElementById('ui-modal-reg').innerText = dict.modReg;
            document.getElementById('ui-modal-start').innerText = dict.modStart;
            document.getElementById('ui-modal-end').innerText = dict.modEnd;
            document.getElementById('ui-modal-address').innerText = dict.modAddress;
            document.getElementById('ui-btn-cv').innerText = dict.btnModalCv;
            document.getElementById('ui-btn-cert').innerText = dict.btnModalCert;
            document.getElementById('ui-btn-email').innerText = dict.btnModalEmail;
            document.getElementById('ui-btn-close').innerText = dict.btnModalClose;

            fetchEmployees(); // Re-render list to translate action buttons
        }

        // --- AUTH & INITIALIZATION ---
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchEmployees();
            }
        });

        // --- UI FILE HELPERS ---
        window.previewPhoto = function(e) {
            const file = e.target.files[0];
            if(file){
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('photo-preview-box').style.backgroundImage = `url(${e.target.result})`;
                    document.getElementById('photo-preview-box').innerHTML = ""; 
                }
                reader.readAsDataURL(file);
            }
        }

        window.updateFileLabel = function(inputId, labelId) {
            const input = document.getElementById(inputId);
            if(input.files.length > 0) {
                document.getElementById(labelId).innerText = "READY: " + input.files[0].name;
                document.getElementById(labelId).parentElement.classList.add('active');
            }
        }

        // --- SUBMIT / UPDATE DOSSIER ---
        document.getElementById('emp-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-submit');
            const dict = dictionary[window.currentLang];
            btn.innerText = dict.alertProcess; btn.disabled = true;

            try {
                const email = document.getElementById('emp-user').value + "@alkhat.internal";
                const password = document.getElementById('emp-pass').value;
                
                let photoUrl = "", cvUrl = "", certUrl = "";
                const photoFile = document.getElementById('emp-photo').files[0];
                const cvFile = document.getElementById('emp-cv').files[0];
                const certFile = document.getElementById('emp-cert').files[0];

                if(photoFile) photoUrl = await uploadFile(photoFile, 'photos');
                if(cvFile) cvUrl = await uploadFile(cvFile, 'documents');
                if(certFile) certUrl = await uploadFile(certFile, 'documents');

                const payload = {
                    name: document.getElementById('emp-name').value,
                    empId: document.getElementById('emp-id').value,
                    title: document.getElementById('emp-title').value,
                    salary: document.getElementById('emp-salary').value,
                    username: document.getElementById('emp-user').value,
                    password: password, 
                    regDate: document.getElementById('emp-reg-date').value,
                    permission: document.getElementById('emp-perm').value,
                    contractStart: document.getElementById('emp-start').value,
                    contractEnd: document.getElementById('emp-end').value,
                    address: document.getElementById('emp-address').value,
                    photo: photoUrl, cv: cvUrl, cert: certUrl,
                    timestamp: new Date()
                };

                if (currentEditId) {
                    if(!photoUrl) delete payload.photo;
                    if(!cvUrl) delete payload.cv;
                    if(!certUrl) delete payload.cert;
                    
                    await updateDoc(doc(db, "employees", currentEditId), payload);
                    alert(dict.alertUpdSuccess);
                } else {
                    const userCredential = await createUserWithEmailAndPassword(secondaryAuth, email, password);
                    payload.uid = userCredential.user.uid; 
                    
                    await addDoc(collection(db, "employees"), payload);
                    alert(dict.alertNewSuccess);
                }

                resetForm();
                fetchEmployees();

            } catch (error) {
                console.error(error);
                alert("Operation Failed: " + error.message);
            } finally {
                btn.innerText = currentEditId ? dict.btnUpdate : dict.btnRegister;
                btn.disabled = false;
            }
        });

        async function uploadFile(file, folder) {
            const fileName = Date.now() + "_" + file.name;
            const storageRef = ref(storage, `employee_data/${folder}/${fileName}`);
            await uploadBytes(storageRef, file);
            return await getDownloadURL(storageRef);
        }

        // --- FETCH ROSTER ---
        async function fetchEmployees() {
            const container = document.getElementById('employee-list');
            const dict = dictionary[window.currentLang];
            container.innerHTML = "";
            globalEmployees = {}; 
            
            const q = query(collection(db, "employees"), orderBy("timestamp", "desc"));
            const snapshot = await getDocs(q);

            if(snapshot.empty) { container.innerHTML = `<p style="text-align:center; color:gray;">${dict.msgEmpty}</p>`; return; }

            snapshot.forEach(docSnap => {
                const data = docSnap.data();
                globalEmployees[docSnap.id] = data; 
                const photo = data.photo || "https://via.placeholder.com/50";
                
                // Permission translation mappings for the card display
                let dispPerm = data.permission;
                if(window.currentLang === 'ar') {
                    if(dispPerm === "Standard") dispPerm = "موظف قياسي";
                    if(dispPerm === "Manager") dispPerm = "مدير ميداني";
                    if(dispPerm === "Admin") dispPerm = "مدير نظام";
                }

                container.innerHTML += `
                    <div class="emp-card">
                        <div class="emp-avatar" style="background-image: url('${photo}');"></div>
                        <div class="emp-info">
                            <h4>${data.name} <span style="font-size:0.7rem; color:#00f2ff;">[${data.empId}]</span></h4>
                            <p>${data.title} | ${dispPerm}</p>
                            <p style="color:#666;">User: ${data.username}</p>
                        </div>
                        <div class="emp-actions">
                            <button class="btn" style="padding: 5px; font-size: 0.8rem;" onclick="viewEmployee('${docSnap.id}')">${dict.btnView}</button>
                            <button class="btn btn-green" style="padding: 5px; font-size: 0.8rem;" onclick="editEmployee('${docSnap.id}')">${dict.btnEdit}</button>
                            <button class="btn btn-danger" style="padding: 5px; font-size: 0.8rem;" onclick="deleteEmployee('${docSnap.id}')">X</button>
                        </div>
                    </div>
                `;
            });
        }

        // --- DOSSIER VIEW MODAL LOGIC ---
        window.viewEmployee = function(id) {
            const data = globalEmployees[id];
            
            document.getElementById('v-photo').style.backgroundImage = `url('${data.photo || "https://via.placeholder.com/80"}')`;
            document.getElementById('v-name').innerText = data.name;
            document.getElementById('v-id').innerText = data.empId;
            document.getElementById('v-title').innerText = data.title;
            
            document.getElementById('v-user').innerText = data.username;
            
            // Translate Permission inside Modal
            let dispPerm = data.permission;
            if(window.currentLang === 'ar') {
                if(dispPerm === "Standard") dispPerm = "موظف قياسي";
                if(dispPerm === "Manager") dispPerm = "مدير ميداني";
                if(dispPerm === "Admin") dispPerm = "مدير نظام";
            }
            document.getElementById('v-perm').innerText = dispPerm;
            
            document.getElementById('v-salary').innerText = "$" + data.salary;
            document.getElementById('v-reg').innerText = data.regDate;
            document.getElementById('v-start').innerText = data.contractStart || "N/A";
            document.getElementById('v-end').innerText = data.contractEnd || "N/A";
            document.getElementById('v-address').innerText = data.address || (window.currentLang === 'en' ? "No address on file." : "لا يوجد عنوان مسجل.");

            const cvBtn = document.getElementById('v-cv');
            if(data.cv) { cvBtn.style.display = "block"; cvBtn.href = data.cv; } else { cvBtn.style.display = "none"; }

            const certBtn = document.getElementById('v-cert');
            if(data.cert) { certBtn.style.display = "block"; certBtn.href = data.cert; } else { certBtn.style.display = "none"; }
            
            const emailBtn = document.getElementById('v-email');
            const operativeEmail = data.username + "@alkhat.internal"; 
            emailBtn.href = `admin_mail.html?name=${encodeURIComponent(data.name)}&email=${encodeURIComponent(operativeEmail)}`;

            document.getElementById('view-modal').style.display = "flex";
        }

        window.closeViewModal = function() { document.getElementById('view-modal').style.display = "none"; }

        // --- EDITING / CANCEL / DELETE ---
        window.editEmployee = function(id) {
            const data = globalEmployees[id];
            currentEditId = id;
            document.getElementById('emp-name').value = data.name;
            document.getElementById('emp-id').value = data.empId;
            document.getElementById('emp-title').value = data.title;
            document.getElementById('emp-salary').value = data.salary;
            document.getElementById('emp-user').value = data.username;
            document.getElementById('emp-pass').value = data.password;
            document.getElementById('emp-reg-date').value = data.regDate;
            document.getElementById('emp-perm').value = data.permission;
            document.getElementById('emp-start').value = data.contractStart;
            document.getElementById('emp-end').value = data.contractEnd;
            document.getElementById('emp-address').value = data.address;

            const dict = dictionary[window.currentLang];
            const btn = document.getElementById('btn-submit');
            btn.innerText = dict.btnUpdate;
            btn.classList.remove('btn-green');
            document.getElementById('btn-cancel').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.resetForm = function() {
            currentEditId = null;
            document.getElementById('emp-form').reset();
            document.getElementById('photo-preview-box').style.backgroundImage = 'none';
            document.getElementById('photo-preview-box').innerHTML = '<i class="fas fa-camera"></i>';
            document.getElementById('lbl-cv').parentElement.classList.remove('active');
            document.getElementById('lbl-cert').parentElement.classList.remove('active');

            const dict = dictionary[window.currentLang];
            const btn = document.getElementById('btn-submit');
            document.getElementById('lbl-cv').innerText = dict.lblCv;
            document.getElementById('lbl-cert').innerText = dict.lblCert;
            
            btn.innerText = dict.btnRegister;
            btn.classList.add('btn-green');
            document.getElementById('btn-cancel').style.display = 'none';
        }

        window.deleteEmployee = async function(id) {
            const dict = dictionary[window.currentLang];
            if(confirm(dict.alertDel)) {
                await deleteDoc(doc(db, "employees", id));
                fetchEmployees();
            }
        }
        
        // --- CSV EXPORT ---
        window.exportRosterToCSV = function() {
            const employeeIds = Object.keys(globalEmployees);
            if(employeeIds.length === 0) { alert(dictionary[window.currentLang].msgEmpty); return; }

            // 1. Bilingual Headers
            let csvContent = window.currentLang === 'en' ? 
                "Agent ID,Full Name,Title,Clearance,Username,Salary,Reg Date,Contract Start,Contract End\n" : 
                "الرقم الوظيفي,الاسم الكامل,المنصب,الصلاحية,اسم المستخدم,الراتب,تاريخ التسجيل,بداية العقد,نهاية العقد\n";
                
            employeeIds.forEach(id => {
                const data = globalEmployees[id];
                // Translate clearance inside the CSV for Arabic
                let dispPerm = data.permission;
                if(window.currentLang === 'ar') {
                    if(dispPerm === "Standard") dispPerm = "موظف قياسي";
                    if(dispPerm === "Manager") dispPerm = "مدير ميداني";
                    if(dispPerm === "Admin") dispPerm = "مدير نظام";
                }
                
                csvContent += `"${data.empId}","${data.name}","${data.title}","${dispPerm}","${data.username}","${data.salary}","${data.regDate}","${data.contractStart || 'N/A'}","${data.contractEnd || 'N/A'}"\n`;
            });

            // 2. Inject UTF-8 BOM (\uFEFF) to fix Excel Arabic symbols
            const BOM = "\uFEFF";
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `Alpha_Roster_${new Date().toLocaleDateString()}.csv`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
		
        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};


		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

17. (hr_department.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR & Employee Affairs | Al-Khat Al-Mudi</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        .hr-hero {
            background: linear-gradient(135deg, #0b1426 0%, #1a2a4a 100%);
            padding: 120px 0 80px 0;
            text-align: center;
            color: white;
            border-bottom: 2px solid rgba(0, 242, 255, 0.2);
        }
        .hr-hero h1 {
            font-size: 3rem;
            color: var(--brand-cyan);
            margin-bottom: 15px;
        }
        .hr-hero p {
            font-size: 1.1rem;
            color: #ccc;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Reusing your service-grid style for HR modules */
        .hr-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: -40px;
            position: relative;
            z-index: 10;
        }
        .hr-card {
            background: white;
            padding: 40px 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            border-top: 4px solid var(--brand-navy);
            transition: 0.3s;
        }
        .hr-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 242, 255, 0.2);
            border-top-color: var(--brand-cyan);
        }
        .hr-card i {
            font-size: 3rem;
            color: var(--brand-magenta);
            margin-bottom: 20px;
        }
        .hr-card h3 {
            color: var(--brand-navy);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        .hr-card p {
            color: #666;
            margin-bottom: 25px;
            font-size: 0.95rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo-box" style="text-decoration: none;">
                    <div class="dna-logo">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <div class="brand-text">
                        <h3>Al-Khat Al-Mudi</h3>
                        <span id="header-brand_sub">TRANSLATION SERVICES</span>
                    </div>
                </a>
                
                <a href="#menu" class="menu-toggle" id="menuToggle">
                    <span class="text" id="header-menu_btn">MENU</span>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </a>
            </nav>
        </div>
    </header>

    <section class="hr-hero">
        <div class="container">
            <div class="dna-logo" style="margin: 0 auto 20px auto; transform: scale(1.5);">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            <h1 id="hr-title">Human Resources & Employee Affairs</h1>
            <p id="hr-desc">The backbone of Al-Khat Al-Mudi. Empowering our linguists, managing operations, and securing internal communications.</p>
        </div>
    </section>

    <section class="section-padding" style="background: #f0f4f8; padding-bottom: 80px;">
        <div class="container">
            <div class="hr-grid">
                
                <div class="hr-card">
                    <i class="fas fa-id-badge"></i>
                    <h3 id="hr-card1-title">Employee Portal</h3>
                    <p id="hr-card1-desc">Secure access for staff and registered translators. View assigned tasks, submit translations, and check salary statements.</p>
                    <a href="login_emp.html" class="btn btn-primary" style="width: 100%;" id="hr-card1-btn">Authorized Login</a>
                </div>

                <div class="hr-card">
                    <i class="fas fa-user-tie"></i>
                    <h3 id="hr-card2-title">Join Our Team</h3>
                    <p id="hr-card2-desc">We are always looking for certified linguists and administrative staff in Amman to join our growing dispatch matrix.</p>
                    <button onclick="openApplicationModal()" class="btn btn-primary" style="background: transparent; border: 2px solid var(--brand-navy); color: var(--brand-navy); width: 100%; cursor: pointer;" id="hr-card2-btn">Submit CV</button>
                </div>

                <div class="hr-card">
                    <i class="fas fa-file-contract"></i>
                    <h3 id="hr-card3-title">Company Policies</h3>
                    <p id="hr-card3-desc">Access our code of conduct, confidentiality agreements (NDA), and operational standards for government-certified translation.</p>
                    <a href="#" class="btn btn-primary" style="background: #eee; color: #888; border: none; width: 100%; pointer-events: none;" id="hr-card3-btn">Intranet Only</a>
                </div>

            </div>
        </div>
    </section>

    <section style="background: var(--brand-navy); color: white; padding: 60px 0; text-align: center;">
        <div class="container">
            <h2 id="hr-contact-title" style="color: var(--brand-cyan); margin-bottom: 15px;">Need HR Assistance?</h2>
            <p id="hr-contact-desc" style="margin-bottom: 30px; opacity: 0.8;">For payroll inquiries, document verification, or grievance reporting.</p>
            <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                <div style="background: rgba(255,255,255,0.1); padding: 15px 30px; border-radius: 8px;">
                    <i class="fas fa-envelope" style="color: var(--brand-magenta); margin-right: 10px;"></i> alkhatalmudi@gmail.com
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px 30px; border-radius: 8px;">
                    <i class="fas fa-phone-alt" style="color: var(--brand-cyan); margin-right: 10px;"></i> 078-077-0085
                </div>
            </div>
        </div>
    </section>
	
	<div id="application-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,13,26,0.85); z-index:2000; align-items:center; justify-content:center; backdrop-filter: blur(5px);">
        <div style="background: white; padding: 40px; border-radius: 12px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; position:relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border-top: 4px solid var(--brand-cyan);">
            <a href="javascript:void(0)" onclick="closeApplicationModal()" style="position:absolute; top:20px; right:25px; font-size:1.8rem; text-decoration:none; color:#888; transition:0.3s;">&times;</a>
            
            <div style="text-align: center; margin-bottom: 25px;">
                <i class="fas fa-id-card" style="font-size: 3rem; color: var(--brand-navy); margin-bottom: 15px;"></i>
                <h3 style="color:var(--brand-navy); font-size: 1.5rem; margin:0;">Career Application</h3>
                <p style="color: #666; font-size: 0.9rem; margin-top: 5px;">Secure submission to Al-Khat HR</p>
            </div>

            <form id="career-form" onsubmit="submitApplication(event)">
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <input type="text" id="app-name" placeholder="Full Name" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333; grid-column: 1 / -1;">
                    
                    <input type="date" id="app-birth" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;" title="Birthdate">
                    
                    <input type="text" id="app-nat" placeholder="Nationality" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;">
                    
                    <input type="text" id="app-id" placeholder="ID No." required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;">
                    
                    <select id="app-gender" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;">
                        <option value="" disabled selected>Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                    
                    <input type="email" id="app-email" placeholder="Email Address" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;">
                    
                    <input type="tel" id="app-phone" placeholder="Phone Number" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333;">
                    
                    <input type="text" id="app-major" placeholder="Major / Field (e.g., Computer Science)" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333; grid-column: 1 / -1;">
                    
                    <input type="text" id="app-address" placeholder="Address (Location of Residence)" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333; grid-column: 1 / -1;">
                    
                    <select id="app-english" required style="padding:12px; border:1px solid #ddd; border-radius:5px; background:#f8fafc; color:#333; grid-column: 1 / -1;">
                        <option value="" disabled selected>English Language Proficiency</option>
                        <option value="Native">Native</option>
                        <option value="Fluent">Fluent / Advanced</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Beginner">Beginner</option>
                    </select>

                    <div style="grid-column: 1 / -1; padding: 20px; border: 2px dashed var(--brand-cyan); background: rgba(0, 242, 255, 0.05); text-align:center; border-radius:8px;">
                        <label for="app-cv" style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:10px; cursor:pointer;">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; color: var(--brand-cyan); margin-bottom: 10px; display: block;"></i>
                            Select CV Document (PDF)
                        </label>
                        <input type="file" id="app-cv" accept=".pdf" required style="width:100%; font-size: 0.9rem; color:#333;">
                    </div>
                </div>
                
                <div id="app-status" style="margin-top: 15px; font-weight: bold; text-align: center; display: none;"></div>
                
                <button type="submit" id="app-submit-btn" class="btn btn-primary" style="width:100%; margin-top:20px; padding: 15px; font-size: 1.1rem;">Transmit Application</button>
            </form>
        </div>
    </div>
	
    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
						<li><a href="https://alkhatalmudie.github.io/hr_department.html">HR Department & Employees Affairs</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>
	
    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            
            <div class="terminal-content">
                <h4 class="terminal-title" id="overlay-title">AL-KHAT SECURE GATEWAY v4.0</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Initializing request...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink" id="overlay-status">PROCESSING...</div>
            </div>
        </div>
    </div>
	
	<div id="upload-modal" class="modal-overlay">
		<div class="modal-box">
			<a href="javascript:void(0)" class="close-modal" onclick="closeUploadHelp()">&times;</a>
			
			<div class="modal-header">
				<div class="dna-logo small-logo">
					<div class="dna-drop dna-magenta"></div>
					<div class="dna-drop dna-cyan"></div>
				</div>
				<h3>&nbsp; &nbsp; &nbsp; How to Upload Files</h3>
			</div>

			<div class="modal-body">
				<p>For security reasons, we use secure links instead of direct uploads. Here is how to send us your files in 30 seconds:</p>
				
				<div class="tutorial-steps">
					<div class="step">
						<div class="step-num">1</div>
						<div class="step-text">
							<strong>Go to WeTransfer.com</strong>
							<span>It's free and requires no account.</span>
						</div>
						<a href="https://wetransfer.com/" target="_blank" class="btn-tiny">Open Site <i class="fas fa-external-link-alt"></i></a>
					</div>

					<div class="step">
						<div class="step-num">2</div>
						<div class="step-text">
							<strong>Upload Your File</strong>
							<span>Click "Upload files" and select your document.</span>
						</div>
					</div>

					<div class="step">
						<div class="step-num">3</div>
						<div class="step-text">
							<strong>Get Transfer Link</strong>
							<span>Click the <i class="fas fa-ellipsis-h"></i> (three dots) icon and select <strong>"Get transfer link"</strong>.</span>
						</div>
					</div>

					<div class="step">
						<div class="step-num">4</div>
						<div class="step-text">
							<strong>Paste & Send</strong>
							<span>Copy the link (e.g., https://we.tl/...) and paste it into our form box.</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div id="service-modal" class="modal-overlay">
		<div class="modal-box">
			<a href="javascript:void(0)" class="close-modal" onclick="closeServiceModal()">&times;</a>
			
			<div class="modal-header">
				<div id="modal-service-icon" style="font-size: 2rem; color: var(--brand-cyan); margin-right: 15px;">
					</div>
				<h3 id="modal-service-title">Service Name</h3>
			</div>

			<div class="modal-body">
				<p id="modal-service-desc" style="margin-bottom: 25px; color: #555;">Description goes here...</p>
				
				<h4 style="color: var(--brand-navy); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 5px;">
					<i class="fas fa-stream"></i> Process Workflow
				</h4>
				
				<div class="tutorial-steps" id="modal-service-steps">
					</div>

				<div style="margin-top: 25px; text-align: center;">
					<a href="#reservation" onclick="closeServiceModal()" class="btn btn-primary" style="width: 100%;">Book This Service</a>
				</div>
			</div>
		</div>
	</div>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/lang-engine.js"></script>
    <script type="module" src="assets/js/global-auth.js"></script>
	<script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", 
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
        const db = getFirestore(app);
        const storage = getStorage(app);

        // UI Controls
        window.openApplicationModal = function() {
            document.getElementById('application-modal').style.display = 'flex';
        }
        window.closeApplicationModal = function() {
            document.getElementById('application-modal').style.display = 'none';
            document.getElementById('career-form').reset();
            document.getElementById('app-status').style.display = 'none';
        }

        // Processing Engine
        window.submitApplication = async function(e) {
            e.preventDefault();
            
            const btn = document.getElementById('app-submit-btn');
            const statusBox = document.getElementById('app-status');
            const fileInput = document.getElementById('app-cv');
            
            if(fileInput.files.length === 0) return;
            const file = fileInput.files[0];

            btn.innerText = "Encrypting & Transmitting...";
            btn.disabled = true;
            statusBox.style.display = 'none';

            try {
                // 1. Upload CV to Firebase Storage
                const fileName = `CVs/${Date.now()}_${document.getElementById('app-name').value.replace(/\s+/g, '_')}.pdf`;
                const storageRef = ref(storage, fileName);
                const snapshot = await uploadBytes(storageRef, file);
                const cvUrl = await getDownloadURL(snapshot.ref);

                // 2. Push Application Data to Firestore
                await addDoc(collection(db, "job_applications"), {
                    fullName: document.getElementById('app-name').value,
                    birthdate: document.getElementById('app-birth').value,
                    nationality: document.getElementById('app-nat').value,
                    idNumber: document.getElementById('app-id').value,
                    gender: document.getElementById('app-gender').value,
                    email: document.getElementById('app-email').value,
                    phone: document.getElementById('app-phone').value,
                    major: document.getElementById('app-major').value,
                    address: document.getElementById('app-address').value,
                    englishProficiency: document.getElementById('app-english').value,
                    cvDownloadUrl: cvUrl,
                    status: "Pending Review",
                    timestamp: serverTimestamp()
                });

                // 3. Display Success Protocol
                statusBox.innerHTML = "Information Submitted Successfully!<br>We'll contact you shortly.";
                statusBox.style.color = "var(--brand-cyan)";
                statusBox.style.display = "block";
                
                setTimeout(() => {
                    closeApplicationModal();
                    btn.innerText = "Transmit Application";
                    btn.disabled = false;
                }, 3000);

            } catch (error) {
                console.error("Transmission Error:", error);
                statusBox.innerText = "Error: " + error.message;
                statusBox.style.color = "red";
                statusBox.style.display = "block";
                btn.innerText = "Retry Transmission";
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

18. (invoice.html):

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Invoice | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        body { padding-top: 40px; background: #f0f4f8; font-family: 'Poppins', sans-serif; }
        
        .invoice-container {
            max-width: 800px;
            margin: 0 auto 40px auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            position: relative;
        }

        /* HEADER */
        .invoice-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .invoice-logo .dna-logo { transform: scale(0.8); transform-origin: left; }
        .invoice-title { font-size: 2rem; font-weight: 900; color: var(--brand-navy); margin: 0; }
        .invoice-status {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.85rem;
            display: inline-block;
            margin-top: 10px;
            border: 1px solid #2ecc71;
        }

        /* GRID INFO */
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .info-box h4 { font-size: 0.85rem; color: #888; text-transform: uppercase; margin: 0 0 5px 0; }
        .info-box p { font-size: 1rem; color: var(--brand-navy); font-weight: 600; margin: 0; }

        /* TABLE */
        .invoice-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .invoice-table th { text-align: left; padding: 15px; background: var(--brand-navy); color: white; font-size: 0.9rem; }
        .invoice-table td { padding: 15px; border-bottom: 1px solid #eee; font-size: 0.95rem; color: #444; }
        
        .totals-box { width: 300px; float: right; }
        .total-row { display: flex; justify-content: space-between; padding: 10px 0; font-size: 1.1rem; }
        .total-row.grand-total { border-top: 2px solid var(--brand-navy); font-size: 1.5rem; font-weight: 800; color: var(--brand-cyan); margin-top: 10px; padding-top: 15px; }

        /* ACTION BUTTONS (Hidden during print/PDF generation) */
        .action-bar {
            max-width: 800px;
            margin: 0 auto 20px auto;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        .btn-action {
            background: white; border: 1px solid #ccc; padding: 10px 20px; border-radius: 8px; cursor: pointer;
            font-weight: bold; color: var(--brand-navy); transition: 0.3s;
        }
        .btn-action:hover { background: #eee; }
        .btn-action.primary { background: var(--brand-cyan); color: white; border: none; }
        .btn-action.primary:hover { background: #00b3cc; }

        /* Hide specific elements when printing to PDF */
        .html2pdf__container .action-bar { display: none !important; }
    </style>
</head>
<body>

    <div class="action-bar" id="ui-actions">
        <button class="btn-action" id="btn-lang" onclick="toggleInvoiceLanguage()" style="border-color: #ffc107; color: #ffc107;">عربي</button>
        
        <button onclick="window.print()" class="btn-action"><i class="fas fa-print"></i> Print</button>
        <button onclick="downloadSecurePDF()" class="btn-action primary" id="btn-pdf"><i class="fas fa-file-pdf"></i> Download Secure PDF</button>
    </div>

    <div class="invoice-container" id="invoice-paper">
        <div class="invoice-header">
            <div class="invoice-logo">
                <div class="dna-logo" style="margin-bottom: 10px;">
                    <div class="dna-drop dna-magenta"></div>
                    <div class="dna-drop dna-cyan"></div>
                </div>
                <h3 style="margin:0; color: var(--brand-navy);">Al-Khat Al-Mudi</h3>
                <p style="margin:0; font-size: 0.8rem; color: #888;">Amman, Jordan - Global Dispatch</p>
            </div>
            <div style="text-align: right;">
                <h1 class="invoice-title" id="ui-inv-title">INVOICE</h1>
                <div class="invoice-status" id="ui-inv-status"><i class="fas fa-check"></i> PAID SECURELY</div>
            </div>
        </div>

        <div class="info-grid">
            <div class="info-box">
                <h4 id="ui-lbl-to">Invoice To</h4>
                <p id="client_name">Scanning Identity...</p>
                <span id="client_email" style="font-size: 0.85rem; color: #666;">--</span>
            </div>
            <div class="info-box" style="text-align: right;">
                <h4 id="ui-lbl-details">Invoice Details</h4>
                <p><span id="ui-lbl-ref">REF:</span> <span id="inv_ref">--</span></p>
				<p><span id="ui-lbl-date">Date:</span> <span id="inv_date">--</span></p>
                <p>TXN ID: <span id="txn_id">--</span></p>
            </div>
        </div>

        <table class="invoice-table">
            <thead>
                <tr>
					<th id="ui-th-desc">Description</th>
					<th id="ui-th-lang">Languages / Region</th>
					<th id="ui-th-pages">Pages</th>
					<th style="text-align: right;" id="ui-th-total">Total Amount</th>
				</tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <strong id="item_desc">--</strong><br>
                        <span style="font-size: 0.8rem; color: #888;" id="item_urgency">--</span>
                    </td>
                    <td id="item_detail">--</td>
                    <td id="item_pages">--</td>
                    <td style="text-align: right; font-weight: bold;" id="item_price">0.00 JOD</td>
                </tr>
            </tbody>
        </table>

        <div style="display: flex; justify-content: space-between; align-items: flex-end;">
            <div id="qrcode"></div>
            
            <div class="totals-box">
                <div class="total-row grand-total">
                    <span>Total Paid</span>
                    <span id="total_amount">0.00 JOD</span>
                </div>
            </div>
        </div>
        
        <div id="ui-inv-footer" style="margin-top: 50px; font-size: 0.75rem; color: #aaa; text-align: center; border-top: 1px solid #eee; padding-top: 20px;">
			This is a computer-generated document. No signature is required.<br>
			Encrypted by Alpha Command Security Matrix.
		</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE CORRECT UPLINK
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // Make this globally accessible for the PDF Generator
        window.invoiceDataStore = {}; 

        async function loadInvoice() {
            const urlParams = new URLSearchParams(window.location.search);
            const invoiceId = urlParams.get('id');

            if (!invoiceId) {
                document.body.innerHTML = "<h1 style='color:var(--brand-navy);text-align:center;margin-top:100px;'>No ID Provided.</h1>";
                return;
            }

            // READ FROM FIREBASE
            const docRef = doc(db, "orders", invoiceId);
            const docSnap = await getDoc(docRef);

            if (docSnap.exists()) {
                const data = docSnap.data();
                
                // Store data globally to use later for generating the PDF File Name
                window.invoiceDataStore = data;

                // FILL UI
                document.getElementById('inv_ref').innerText = '#' + data.invoiceId;
                document.getElementById('client_name').innerText = data.clientName || "GUEST VISITOR";
                document.getElementById('client_email').innerText = data.clientEmail || "Unregistered";
                
                // Format Date nicely
                const dateObj = data.timestamp ? data.timestamp.toDate() : new Date();
                document.getElementById('inv_date').innerText = dateObj.toLocaleDateString();
                
                document.getElementById('txn_id').innerText = data.transactionId;

                document.getElementById('item_desc').innerText = data.docType;
                document.getElementById('item_detail').innerText = `${data.langFrom} to ${data.langTo}`;
                document.getElementById('item_urgency').innerText = data.urgency + " Delivery";
                document.getElementById('item_pages').innerText = data.pages;
                document.getElementById('item_price').innerText = data.totalPrice || data.price;
                document.getElementById('total_amount').innerText = data.totalPrice || data.price;

                // QR Code
                new QRCode(document.getElementById("qrcode"), {
                    text: `https://alkhatalmudie.github.io/invoice.html?id=${data.invoiceId}`,
                    width: 80, height: 80
                });

            } else {
                document.body.innerHTML = "<h1 style='color:var(--brand-navy);text-align:center;margin-top:100px;'>Invoice Not Found!</h1>";
            }
        }

        loadInvoice();
    </script>
	<script>
		window.currentInvoiceLang = 'en';

		const invoiceDictionary = {
			en: {
				invTitle: "INVOICE",
				invStatus: "<i class='fas fa-check'></i> PAID SECURELY",
				lblTo: "Invoice To",
				lblDetails: "Invoice Details",
				lblRef: "REF:",
				lblDate: "Date:",
				thDesc: "Description",
				thLang: "Languages / Region",
				thPages: "Pages",
				thTotal: "Total Amount",
				totalPaid: "Total Paid",
				footer: "This is a computer-generated document. No signature is required.<br>Encrypted by Alpha Command Security Matrix."
			},
			ar: {
				invTitle: "فاتورة",
				invStatus: "<i class='fas fa-check'></i> تم الدفع بأمان",
				lblTo: "فاتورة إلى",
				lblDetails: "تفاصيل الفاتورة",
				lblRef: "المرجع:",
				lblDate: "التاريخ:",
				thDesc: "الوصف",
				thLang: "اللغات / المنطقة",
				thPages: "الصفحات",
				thTotal: "المبلغ الإجمالي",
				totalPaid: "إجمالي المدفوع",
				footer: "هذه وثيقة تم إنشاؤها بواسطة الكمبيوتر. لا يتطلب توقيع.<br>مشفر بواسطة مصفوفة أمن القيادة الرئيسية."
			}
		};

		window.toggleInvoiceLanguage = function() {
			window.currentInvoiceLang = window.currentInvoiceLang === 'en' ? 'ar' : 'en';
			const dict = invoiceDictionary[window.currentInvoiceLang];
			const paper = document.getElementById('invoice-paper');

			// Toggle Direction
			paper.dir = window.currentInvoiceLang === 'ar' ? 'rtl' : 'ltr';
			paper.style.fontFamily = window.currentInvoiceLang === 'ar' ? "'Cairo', sans-serif" : "'Poppins', sans-serif";
			document.getElementById('btn-lang').innerText = window.currentInvoiceLang === 'en' ? 'عربي' : 'English';

			// Update UI Text
			document.getElementById('ui-inv-title').innerText = dict.invTitle;
			document.getElementById('ui-inv-status').innerHTML = dict.invStatus;
			document.getElementById('ui-lbl-to').innerText = dict.lblTo;
			document.getElementById('ui-lbl-details').innerText = dict.lblDetails;
			document.getElementById('ui-lbl-ref').innerText = dict.lblRef;
			document.getElementById('ui-lbl-date').innerText = dict.lblDate;
			document.getElementById('ui-th-desc').innerText = dict.thDesc;
			document.getElementById('ui-th-lang').innerText = dict.thLang;
			document.getElementById('ui-th-pages').innerText = dict.thPages;
			document.getElementById('ui-th-total').innerText = dict.thTotal;
			document.querySelector('.grand-total span:first-child').innerText = dict.totalPaid;
			document.getElementById('ui-inv-footer').innerHTML = dict.footer;
			
			// Adjust text alignment for RTL
			const alignment = window.currentInvoiceLang === 'ar' ? 'right' : 'left';
			const reverseAlignment = window.currentInvoiceLang === 'ar' ? 'left' : 'right';
			
			document.getElementById('ui-th-total').style.textAlign = reverseAlignment;
			document.getElementById('item_price').style.textAlign = reverseAlignment;
			document.querySelector('.info-box[style*="text-align: right"]').style.textAlign = reverseAlignment;
		};
	</script>
    <script>
        // PDF DOWNLOAD ENGINE & CUSTOM FILE NAMING
        window.downloadSecurePDF = function() {
            const btn = document.getElementById('btn-pdf');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
            
            // 1. Grab the HTML paper element
            const element = document.getElementById('invoice-paper');
            
            // 2. Build the exact file name requested!
            const data = window.invoiceDataStore;
            
            // Format Date as MMDDYY (e.g., 022426)
            const d = new Date();
            const dateString = ("0" + (d.getMonth() + 1)).slice(-2) + ("0" + d.getDate()).slice(-2) + d.getFullYear().toString().slice(-2);
            
            // Handle variables
            const invIdRaw = data.invoiceId || "INV-000000";
            const idNumber = invIdRaw.replace('INV-', ''); // Extracts just the numbers
            
            const clientFormat = (data.clientName && data.clientName.trim() !== "") 
                ? data.clientName.replace(/\s+/g, '') // Removes spaces (e.g., "John Doe" -> "JohnDoe")
                : "VISITOR";
                
            const docTypeFormat = (data.docType) 
                ? data.docType.replace(/\s+/g, '').toUpperCase() 
                : "SERVICE";

            // CONSTRUCT THE EXACT REQUESTED NAME:
            // Example: [INV]-[022426]-[VISITOR]-[VISA]-[123456].pdf
            const constructedFilename = `[INV]-[${dateString}]-[${clientFormat}]-[${docTypeFormat}]-[${idNumber}].pdf`;

            // 3. Configure the PDF settings
            const opt = {
                margin:       [0, 0, 0, 0], // Top, Left, Bottom, Right
                filename:     constructedFilename,
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2, useCORS: true },
                jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            // 4. Execute the download
            html2pdf().set(opt).from(element).save().then(() => {
                btn.innerHTML = '<i class="fas fa-file-pdf"></i> Download Secure PDF';
            });
        }
    </script>
</body>
</html>"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

19. (login.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Login | Al-Khat Al-Mudi</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* --- GLITCH FIX: STABILIZE SCROLLBARS --- */
        html, body {
            overflow-x: hidden; /* Stops horizontal scrollbar from appearing during tilt */
            width: 100%;
        }

        .auth-page {
            position: relative;
            min-height: 100vh;
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.85), rgba(11, 20, 38, 0.85)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            flex-direction: column;
        }

        .auth-container {
            flex: 1; /* Pushes footer down */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 20px; /* Added padding to prevent header overlap */
        }

        .auth-card {
            width: 100%;
            max-width: 450px;
            perspective: 1000px;
            z-index: 10;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-form {
            transition: transform 0.1s ease-out, box-shadow 0.3s ease;
            transform-style: preserve-3d;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            color: white;
        }

        .glass-form:hover {
            box-shadow: 0 20px 50px rgba(0, 242, 255, 0.15);
        }

        .tactical-dot {
            position: absolute;
            width: 8px; height: 8px;
            background: #ff4b5c; 
            border-radius: 50%;
            z-index: 0;
            opacity: 0.6;
        }

        .tactical-dot::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; height: 100%;
            border: 1px solid #ff4b5c;
            border-radius: 50%;
            animation: pulse-wave 3s infinite;
        }

        @keyframes pulse-wave {
            0% { width: 100%; height: 100%; opacity: 1; }
            100% { width: 800%; height: 800%; opacity: 0; }
        }

        .auth-footer-note {
            text-align: center;
            margin-top: 20px;
            color: rgba(255,255,255,0.7);
        }

        .auth-footer-note a {
            color: var(--brand-cyan);
            text-decoration: none;
            font-weight: 600;
        }
		
		/* --- OAUTH & DIVIDER UI --- */
		.auth-divider {
			position: relative;
			text-align: center;
			margin: 25px 0 20px;
		}

		.auth-divider::before {
			content: '';
			position: absolute;
			left: 0; top: 50%;
			width: 100%; height: 1px;
			background: rgba(255, 255, 255, 0.15);
			z-index: 1;
		}

		.auth-divider span {
			background: #111b2f; /* Blends with the glass panel */
			padding: 0 15px;
			color: rgba(255, 255, 255, 0.5);
			font-size: 0.8rem;
			position: relative;
			z-index: 2;
			text-transform: uppercase;
			letter-spacing: 1px;
		}

		.social-auth-grid {
			display: flex;
			gap: 15px;
			justify-content: center;
		}

		.btn-social {
			background: rgba(255, 255, 255, 0.05);
			border: 1px solid rgba(255, 255, 255, 0.15);
			color: white;
			width: 45px; height: 45px;
			border-radius: 50%;
			display: flex; align-items: center; justify-content: center;
			font-size: 1.2rem;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.btn-social:hover {
			background: var(--brand-cyan);
			border-color: var(--brand-cyan);
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(0, 242, 255, 0.3);
		}

		.forgot-pass-link {
			display: block;
			text-align: right;
			margin-top: -5px;
			margin-bottom: 15px;
			color: var(--brand-cyan);
			font-size: 0.8rem;
			text-decoration: none;
			transition: 0.3s;
		}

		.forgot-pass-link:hover {
			color: white;
		}
		
		/* --- GLOWING PASSWORD TOGGLE --- */
        .password-wrapper {
            position: relative;
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: rgba(255, 255, 255, 0.5);
            z-index: 10;
            transition: all 0.3s ease;
        }

        /* The Shining Effect */
        .password-toggle:hover, .password-toggle.active {
            color: #00f2ff;
            text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.5);
        }
        
        /* Adjust the input so text doesn't hide behind the eye */
        .password-wrapper input {
            padding-right: 45px !important;
        }
    </style>
</head>
<body class="auth-page">

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
	</header>

    <main class="auth-container">
        <div class="auth-card">
            <form id="login-form" class="glass-form">
				<div class="form-header">
					<h4 style="margin:0; font-size: 1.5rem; color: var(--brand-cyan);">Agent Check-In</h4>
					<p style="font-size: 0.85rem; opacity: 0.8;">Verify credentials to access secure terminal</p>
				</div>

				<div class="form-group">
					<input type="email" id="login-email" placeholder="Email Address" required>
					<i class="fas fa-id-badge input-icon"></i>
				</div>

				<div class="form-group password-wrapper">
					<input type="password" id="login-password" placeholder="Secure Password" required>
					<i class="fas fa-shield-alt input-icon"></i>
					<i class="fas fa-eye password-toggle" id="eye-login" onclick="togglePassword('login-password', 'eye-login')"></i>
				</div>

				<a href="recovery.html" class="forgot-pass-link">Forgot Cipher?</a>

				<button type="submit" id="login-btn" class="btn btn-primary" style="width: 100%;">
					ESTABLISH LINK
				</button>

				<div class="auth-divider"><span>Or link via</span></div>
				
				<div class="social-auth-grid">
					<button type="button" class="btn-social" id="btn-google"><i class="fab fa-google"></i></button>
					<button type="button" class="btn-social" id="btn-facebook"><i class="fab fa-facebook-f"></i></button>
					<button type="button" class="btn-social" id="btn-twitter"><i class="fab fa-twitter"></i></button>
					<button type="button" class="btn-social" id="btn-github"><i class="fab fa-github"></i></button>
				</div>

				<div class="auth-footer-note">
					New Personnel? <a href="#" onclick="window.location.href='signup.html' + window.location.search">Register File</a>
				</div>
			</form>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            <div class="terminal-content">
                <h4 class="terminal-title">VERIFYING PERSONNEL IDENTITY</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Scanning credentials...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink">DATA MATCHING...</div>
            </div>
        </div>
    </div>
	
	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>

    <script>
		// --- PASSWORD SHOW/HIDE LOGIC --- AA1234567890aa+
        window.togglePassword = function(inputId, iconId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(iconId);
            
            if (input.type === 'password') {
                input.type = 'text';
                // Switch icon to "eye-slash" (hidden state) and make it glow
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
                icon.classList.add('active'); 
            } else {
                input.type = 'password';
                // Switch back to normal eye and remove glow
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
                icon.classList.remove('active');
            }
        };
		// TACTICAL DOTS
        const page = document.querySelector('.auth-page');
        for (let i = 0; i < 15; i++) {
            const dot = document.createElement('div');
            dot.className = 'tactical-dot';
            dot.style.top = Math.random() * 100 + '%';
            dot.style.left = Math.random() * 100 + '%';
            dot.style.animationDelay = Math.random() * 3 + 's';
            page.appendChild(dot);
        }

        // TACTICAL TILT (Safe Mode)
        const card = document.querySelector('.glass-form');
        const authCard = document.querySelector('.auth-card');
        
        authCard.addEventListener('mousemove', (e) => {
            // Calculated relative to the card, not window, to reduce jitter
            const rect = authCard.getBoundingClientRect();
            const x = e.clientX - rect.left; 
            const y = e.clientY - rect.top;
            
            // Center point
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = ((y - centerY) / 20) * -1; // Invert logic for natural feel
            const rotateY = (x - centerX) / 20;

            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        authCard.addEventListener('mouseleave', () => {
            card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
        });
    </script>

    <script type="module">
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
		// IMPORT OAUTH & RESET TOOLS
		import { 
			getAuth, 
			signInWithEmailAndPassword, 
			createUserWithEmailAndPassword,
			updateProfile,
			sendPasswordResetEmail,
			signInWithPopup, 
			GoogleAuthProvider, 
			FacebookAuthProvider, 
			TwitterAuthProvider, 
			GithubAuthProvider 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

		const firebaseConfig = {
			apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
			authDomain: "al-khat-backend.firebaseapp.com",
			projectId: "al-khat-backend",
			storageBucket: "al-khat-storage-doha",
			messagingSenderId: "310033181926",
			appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
		};

		const app = initializeApp(firebaseConfig);
		const auth = getAuth(app);

		const overlay = document.getElementById('processing-overlay');
		const logBox = document.getElementById('terminal-log');

		// --- STANDARD EMAIL SUBMIT (Works for both Login and Signup forms) ---
		const mainForm = document.querySelector('.glass-form');
		if(mainForm.id === 'login-form') {
			mainForm.addEventListener('submit', async (e) => {
				e.preventDefault();
				const email = document.getElementById('login-email').value;
				const password = document.getElementById('login-password').value;
				const btn = document.getElementById('login-btn');

				btn.disabled = true; btn.innerText = "LINKING..."; overlay.classList.add('active');
				try {
					await signInWithEmailAndPassword(auth, email, password);
					
                    // NEW: Smart Redirect Protocol
                    const urlParams = new URLSearchParams(window.location.search);
                    const redirectUrl = urlParams.get('redirect');

					logBox.innerHTML += `<div class="log-line success">> IDENTITY CONFIRMED.</div>`;
					
                    setTimeout(() => { 
                        window.location.href = redirectUrl ? decodeURIComponent(redirectUrl) : "index.html"; 
                    }, 1500);

				} catch (error) {
					overlay.classList.remove('active'); btn.disabled = false; btn.innerText = "RETRY ACCESS";
					alert("ACCESS DENIED: " + error.message);
				}
			});

			
		} else {
			// SIGNUP LOGIC
			mainForm.addEventListener('submit', async (e) => {
				e.preventDefault();
				const name = document.getElementById('signup-name').value;
				const email = document.getElementById('signup-email').value;
				const password = document.getElementById('signup-password').value;
				const btn = document.getElementById('signup-btn');

				btn.disabled = true; btn.innerText = "AUTHENTICATING..."; overlay.classList.add('active');
				try {
					const cred = await createUserWithEmailAndPassword(auth, email, password);
					await updateProfile(cred.user, { displayName: name });
					logBox.innerHTML += `<div class="log-line success">> ACCOUNT GENERATED.</div>`;
					setTimeout(() => { window.location.href = "index.html"; }, 1500);
				} catch (error) {
					overlay.classList.remove('active'); btn.disabled = false; btn.innerText = "RETRY";
					alert("GATEWAY ERROR: " + error.message);
				}
			});
		}

		// --- OAUTH LOGIC (Social Buttons) ---
		const handleOAuth = async (providerName) => {
			let provider;
			switch(providerName) {
				case 'google': provider = new GoogleAuthProvider(); break;
				case 'facebook': provider = new FacebookAuthProvider(); break;
				case 'twitter': provider = new TwitterAuthProvider(); break;
				case 'github': provider = new GithubAuthProvider(); break;
			}
			
			try {
				overlay.classList.add('active');
				logBox.innerHTML += `<div class="log-line">> Establishing External Link: ${providerName.toUpperCase()}...</div>`;
				await signInWithPopup(auth, provider);
				
                // NEW: Smart Redirect Protocol
                const urlParams = new URLSearchParams(window.location.search);
                const redirectUrl = urlParams.get('redirect');

				logBox.innerHTML += `<div class="log-line success">> EXTERNAL IDENTITY CONFIRMED.</div>`;
				
                setTimeout(() => { 
                    window.location.href = redirectUrl ? decodeURIComponent(redirectUrl) : "index.html"; 
                }, 1500);

			} catch (error) {
				overlay.classList.remove('active');
				console.error(error);
				alert(`Failed to link with ${providerName}. Please check console or try another method.`);
			}
		};

		document.getElementById('btn-google').addEventListener('click', () => handleOAuth('google'));
		document.getElementById('btn-facebook').addEventListener('click', () => handleOAuth('facebook'));
		document.getElementById('btn-twitter').addEventListener('click', () => handleOAuth('twitter'));
		document.getElementById('btn-github').addEventListener('click', () => handleOAuth('github'));

	</script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

20. (login_emp.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPERATIVE ACCESS | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        body {
            background-color: #050a15; color: #00f2ff;
            font-family: 'Share Tech Mono', monospace;
            display: flex; align-items: center; justify-content: center;
            height: 100vh; margin: 0; overflow: hidden;
            background-image: radial-gradient(circle at center, #0a1429 0%, #050a15 100%);
            transition: all 0.3s ease;
        }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        .lang-switch { position: absolute; top: 20px; right: 20px; }
        body[dir="rtl"] .lang-switch { right: auto; left: 20px; }

        .login-box {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(0, 242, 255, 0.3);
            padding: 40px; border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.1);
            width: 100%; max-width: 350px; text-align: center;
            position: relative; z-index: 10;
        }

        .login-box h2 {
            color: #ff4b5c; margin-top: 0; border-bottom: 1px solid rgba(255, 75, 92, 0.3);
            padding-bottom: 15px; letter-spacing: 2px; font-size: 1.5rem;
        }

        .form-group { margin-bottom: 20px; text-align: left; }
        body[dir="rtl"] .form-group { text-align: right; }
        
        label { display: block; font-size: 0.8rem; margin-bottom: 5px; opacity: 0.8; }
        
        input {
            width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 242, 255, 0.3); color: white;
            font-family: inherit; font-size: 1rem; box-sizing: border-box;
            text-align: center; letter-spacing: 1px;
        }
        input:focus { outline: none; border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.2); }

        .btn {
            width: 100%; padding: 15px; background: rgba(0, 242, 255, 0.05);
            border: 1px solid #00f2ff; color: #00f2ff; font-family: inherit;
            font-size: 1rem; font-weight: bold; cursor: pointer; transition: 0.3s;
            margin-top: 10px; letter-spacing: 1px;
        }
        .btn:hover { background: #00f2ff; color: #050a15; }
        .btn-warning { border-color: #ffc107; color: #ffc107; background: transparent; padding: 5px 15px; font-size: 0.9rem;}
        .btn-warning:hover { background: #ffc107; color: #050a15; }

        #terminal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #050a15; z-index: 1000; display: none;
            flex-direction: column; justify-content: center; align-items: center;
        }
        #terminal-overlay.active { display: flex; }
        
        .terminal-text { width: 80%; max-width: 600px; text-align: left; font-size: 1.2rem; line-height: 1.8; }
        body[dir="rtl"] .terminal-text { text-align: right; }
        .log-line { opacity: 0; animation: fadeIn 0.1s forwards; margin-bottom: 10px; }
        .log-line.success { color: #00ff88; }
        .log-line.warning { color: #ffc107; }
        .log-line.danger { color: #ff4b5c; }
        
        @keyframes fadeIn { to { opacity: 1; } }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <div class="lang-switch">
        <button class="btn btn-warning" id="btn-lang" onclick="toggleLanguage()">عربي</button>
    </div>

    <div class="login-box">
        <i class="fas fa-fingerprint" style="font-size: 3.5rem; color: #00f2ff; margin-bottom: 15px; text-shadow: 0 0 15px rgba(0, 242, 255, 0.5);"></i>
        <h2 id="ui-header">OPERATIVE PORTAL</h2>
        <form id="emp-login-form">
            <div class="form-group">
                <label id="ui-lbl-user">Assigned Username</label>
                <input type="text" id="login-user" required autocomplete="off" placeholder="AGENT-ID">
            </div>
            <div class="form-group">
                <label id="ui-lbl-pass">Clearance Passcode</label>
                <input type="password" id="login-pass" required autocomplete="off" placeholder="••••••••">
            </div>
            <button type="submit" class="btn" id="btn-login">INITIATE HANDSHAKE</button>
        </form>
        <p style="font-size: 0.7rem; color: #555; margin-top: 20px;" id="ui-desc">Restricted Network. All access attempts are logged and monitored by Alpha Command.</p>
		<div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
    </div>

    <div id="terminal-overlay">
        <div class="terminal-text" id="terminal-log">
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut  } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.appspot.com",
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        window.currentLang = 'en';
        const dictionary = {
            en: {
                header: "OPERATIVE PORTAL",
                lblUser: "Assigned Username",
                lblPass: "Clearance Passcode",
                btnLogin: "INITIATE HANDSHAKE",
                desc: "Restricted Network. All access attempts are logged and monitored by Alpha Command.",
                alertError: "ACCESS DENIED: Invalid Signature.",
                btnVerify: "VERIFYING SIGNATURE...",
                term1: "> ESTABLISHING SECURE UPLINK...",
                term2: "> NEGOTIATING FIREWALL PROTOCOLS...",
                term3: "> CREDENTIALS VERIFIED. IDENTITY CONFIRMED.",
                term4: "> GENERATING AES-256 ENCRYPTION KEYS...",
                term5: "> SYNCING OPERATIVE DASHBOARD...",
                term6: "> ROUTING INTERNAL COMMUNICATIONS...",
                term7: "> ACCESS GRANTED. STANDBY FOR DEPLOYMENT."
            },
            ar: {
                header: "بوابة الموظفين",
                lblUser: "اسم المستخدم المخصص",
                lblPass: "رمز المرور (كلمة السر)",
                btnLogin: "بدء المصادقة",
                desc: "شبكة مقيدة. جميع محاولات الوصول مسجلة ومراقبة من قبل القيادة.",
                alertError: "الوصول مرفوض: بيانات غير صالحة.",
                btnVerify: "جاري التحقق...",
                term1: "> جاري إنشاء اتصال آمن...",
                term2: "> جاري تخطي بروتوكولات جدار الحماية...",
                term3: "> تم التحقق من البيانات. تأكيد الهوية.",
                term4: "> جاري توليد مفاتيح تشفير AES-256...",
                term5: "> جاري مزامنة لوحة تحكم الموظف...",
                term6: "> جاري توجيه الاتصالات الداخلية...",
                term7: "> تم منح الصلاحية. استعد للتحويل."
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];

            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-header').innerText = dict.header;
            document.getElementById('ui-lbl-user').innerText = dict.lblUser;
            document.getElementById('ui-lbl-pass').innerText = dict.lblPass;
            document.getElementById('btn-login').innerText = dict.btnLogin;
            document.getElementById('ui-desc').innerText = dict.desc;
        }

        document.getElementById('emp-login-form').addEventListener('submit', async (e) => {
			e.preventDefault();
			const dict = dictionary[window.currentLang];
			const btn = document.getElementById('btn-login');
			btn.innerText = dict.btnVerify; 
			btn.disabled = true;

			const username = document.getElementById('login-user').value.trim();
			const password = document.getElementById('login-pass').value;
			const email = username + "@alkhat.internal";

			try {
				const userCredential = await signInWithEmailAndPassword(auth, email, password);
				
				await addDoc(collection(db, "employee_logs"), {
					uid: userCredential.user.uid,
					username: username,
					timestamp: new Date(),
					event: "LOGIN_SUCCESS"
				});

				// Trigger the loader BEFORE moving to the terminal sequence
				const loader = document.getElementById('system-loader');
				if (loader) loader.classList.add('active');

				// Short delay so they see "SYSTEM LOADING" before the terminal hits
				setTimeout(() => {
					runTerminalSequence();
				}, 600);

			} catch (error) {
				btn.innerText = dict.btnLogin; 
				btn.disabled = false;
				alert(dict.alertError);
			}
		});

		function runTerminalSequence() {
			const overlay = document.getElementById('terminal-overlay');
			const logBox = document.getElementById('terminal-log');
			const dict = dictionary[window.currentLang];
			overlay.classList.add('active');

			const sequence = [
				{ text: dict.term1, delay: 500 },
				{ text: dict.term2, delay: 1500, type: "warning" },
				{ text: dict.term3, delay: 2500, type: "success" },
				{ text: dict.term4, delay: 3500 },
				{ text: dict.term5, delay: 4500 },
				{ text: dict.term6, delay: 5500 },
				{ text: dict.term7, delay: 6500, type: "success" }
			];

			sequence.forEach(step => {
				setTimeout(() => {
					const div = document.createElement('div');
					div.className = `log-line ${step.type || ''}`;
					div.innerText = step.text;
					logBox.appendChild(div);
				}, step.delay);
			});

			// Final Redirect after terminal finishes
			setTimeout(() => {
				window.location.href = "employee_dashboard.html";
			}, 7500);
		}
		
		// A "dummy" version just for the login page to keep the visual effect
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			if (loader) loader.classList.add('active');
			setTimeout(() => {
				window.location.reload(); // Just refreshes the system
			}, 800);
		}
    </script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

21. (products_services_room.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Details | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* TACTICAL BACKGROUND (Inherited from profile.html) */
        .dashboard-page {
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.9), rgba(11, 20, 38, 0.9)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding-top: 100px; /* Clearance for header */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        main.container {
            flex: 1; /* Pushes the footer down naturally */
        }
        
        .showroom-grid {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        /* LEFT: VISUALS & DESC */
        .pkg-visual {
            background: linear-gradient(45deg, rgba(0, 242, 255, 0.1), rgba(255, 75, 92, 0.1));
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 5rem;
            color: rgba(255,255,255,0.2);
        }

        .pkg-desc-box {
            background: rgba(255,255,255,0.05);
            padding: 30px;
            border-radius: 15px;
            border-left: 4px solid var(--brand-cyan);
            backdrop-filter: blur(10px);
        }

        /* RIGHT: DATA & CHECKOUT */
        .pkg-data-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(0, 242, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            position: sticky;
            top: 100px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .sku-tag { font-family: 'Share Tech Mono'; color: var(--brand-cyan); font-size: 0.9rem; margin-bottom: 10px; display: inline-block; background: rgba(0, 242, 255, 0.1); padding: 5px 10px; border-radius: 5px; }
        
        .price-row { display: flex; align-items: baseline; gap: 15px; margin: 20px 0; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .price-old { text-decoration: line-through; color: #888; font-size: 1.2rem; }
        .price-new { color: var(--brand-cyan); font-size: 2.5rem; font-weight: 900; }

        .req-list { list-style: none; padding: 0; margin: 15px 0; }
        .req-list li { margin-bottom: 10px; font-size: 0.9rem; color: #ccc; }
        .req-list i { color: var(--brand-magenta); margin-right: 8px; }

        /* SOCIAL TELEMETRY */
        .social-hub {
            background: rgba(255,255,255,0.02);
            border-radius: 15px;
            padding: 30px;
            margin-top: 40px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .telemetry-row { display: flex; gap: 20px; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; }
        .t-metric { font-family: 'Share Tech Mono'; font-size: 1.1rem; color: #aaa; display: flex; align-items: center; gap: 8px; }
        
        .btn-like { background: transparent; border: 1px solid var(--brand-magenta); color: var(--brand-magenta); padding: 5px 15px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .btn-like:hover, .btn-like.active { background: var(--brand-magenta); color: white; box-shadow: 0 0 15px rgba(233, 30, 99, 0.4); }

        .comment-box { margin-bottom: 15px; padding: 15px; background: rgba(0,0,0,0.3); border-left: 2px solid #555; border-radius: 0 8px 8px 0; transition: 0.3s; }
        .comment-box:hover { background: rgba(0, 242, 255, 0.05); border-left-color: var(--brand-cyan); }
        .comment-author { font-weight: bold; color: var(--brand-cyan); font-size: 0.85rem; margin-bottom: 5px; }
        .comment-text { font-size: 0.9rem; color: #ddd; }

        @media (max-width: 900px) {
            .showroom-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="dashboard-page">

    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo-box" style="text-decoration: none;">
                    <div class="dna-logo"><div class="dna-drop dna-magenta"></div><div class="dna-drop dna-cyan"></div></div>
                    <div class="brand-text"><h3>Al-Khat Al-Mudi</h3><span id="header-brand_sub">MISSION BRIEFING</span></div>
                </a>
                
                <div id="user-profile-section" class="user-status-hidden">
                    <a href="profile.html" class="user-orb"><i class="fas fa-user-circle"></i><span id="user-display-name">Client</span></a>
                    <button onclick="handleLogout()" class="logout-link">Logout</button>
                </div>

                <a href="#menu" class="menu-toggle" id="menuToggle">
                    <span class="text" id="header-menu_btn">MENU</span>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </a>
            </nav>
        </div>
    </header>

    <main class="container">
        <div id="loading-ui" style="text-align: center; padding: 100px 0; color: var(--brand-cyan);">
            <i class="fas fa-satellite-dish fa-spin fa-3x"></i>
            <h3>Establishing Uplink to Target Data...</h3>
        </div>

        <div id="content-ui" style="display: none;">
            <div class="showroom-grid">
                
                <div>
                    <div class="pkg-visual"><i class="fas fa-globe-americas"></i></div>
                    <div class="pkg-desc-box">
                        <h2 id="ui-title" style="margin-top:0;">--</h2>
                        <p id="ui-desc" style="line-height: 1.8; color: #ccc;">--</p>
                        
                        <div style="margin-top: 20px; font-family: 'Share Tech Mono'; color: var(--brand-magenta);">
                            <i class="fas fa-hourglass-half"></i> Processing Time: <span id="ui-time">3-5 Business Days</span>
                        </div>
                    </div>

                    <div class="social-hub">
                        <h3 style="margin-top: 0; color: white;"><i class="fas fa-comments"></i> Field Reports & Commendations</h3>
                        <div class="telemetry-row">
                            <div class="t-metric"><i class="fas fa-eye"></i> <span id="ui-views">0</span> Visitors</div>
                            <div class="t-metric"><i class="fas fa-heart"></i> <span id="ui-likes">0</span> Commendations</div>
                            <button class="btn-like" id="btn-like" onclick="triggerLike()"><i class="fas fa-heart"></i> ENDORSE</button>
                        </div>
                        
                        <div id="comments-section">
                            </div>

                        <div style="margin-top: 20px; display: flex; gap: 10px;">
                            <input type="text" id="comment-input" placeholder="Transmit a field report..." style="flex:1; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid #555; color: white; border-radius: 5px;">
                            <button class="btn btn-primary" onclick="postComment()"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="pkg-data-box">
                        <div class="sku-tag">SKU: <span id="ui-sku">--</span></div>
                        <p style="color: #ff4b5c; font-size: 0.85rem; font-weight: bold;"><i class="fas fa-clock"></i> Valid until: <span id="ui-end">--</span></p>
                        
                        <div class="price-row">
                            <span class="price-old" id="ui-old-price">$0</span>
                            <span class="price-new" id="ui-new-price">$0</span>
                        </div>

                        <h4 style="color: white; border-bottom: 1px solid #444; padding-bottom: 10px;">Required Intel (Documents)</h4>
                        <ul class="req-list" id="ui-reqs">
                            </ul>

                        <button class="btn btn-primary" style="width: 100%; font-size: 1.2rem; padding: 15px; margin-top: 20px;" onclick="initiatePurchase()">
                            SECURE THIS PACKAGE
                        </button>
                        <p style="text-align: center; font-size: 0.75rem; color: #666; margin-top: 15px;"><i class="fas fa-shield-alt"></i> 256-Bit Encrypted Transfer</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/lang-engine.js"></script>
    <script type="module" src="assets/js/global-auth.js"></script>

    <script type="module">
        import { getFirestore, doc, getDoc, updateDoc, increment, collection, addDoc, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

        const db = getFirestore(getApp());
        const auth = getAuth(getApp());

        // Extract Package ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const targetId = urlParams.get('pkg');

        // Global target reference
        let targetRef;

        async function extractTargetData() {
            if(!targetId) { alert("ERROR: No Target Coordinates Provided."); window.location.href="index.html"; return; }
            
            targetRef = doc(db, "promotions", targetId);

            try {
                // 1. Fetch Package Data
				const docSnap = await getDoc(targetRef);
				if (!docSnap.exists()) { alert("Target package MIA or expired."); return; }
				
				const data = docSnap.data();

				// 2. Increment View Counter silently (ARMORED)
				try {
					await updateDoc(targetRef, { views: increment(1) });
				} catch (telemetryError) {
					console.warn("Telemetry blocked by Alpha Firewall, but mission proceeds.", telemetryError);
				}

				// 3. Populate UI
                document.getElementById('ui-title').innerText = data.name;
                document.getElementById('ui-desc').innerText = data.desc;
                document.getElementById('ui-sku').innerText = `AKM-${targetId.substring(0,5).toUpperCase()}`;
                document.getElementById('ui-end').innerText = data.endDate;
                document.getElementById('ui-old-price').innerText = `$${data.oldPrice}`;
                document.getElementById('ui-new-price').innerText = `$${data.newPrice}`;
                document.getElementById('ui-views').innerText = (data.views || 0) + 1;
                document.getElementById('ui-likes').innerText = data.likes || 0;
				
				// NEW: Inject the uploaded image into the visual box
                if (data.imageUrl) {
                    document.querySelector('.pkg-visual').innerHTML = `<img src="${data.imageUrl}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 20px;">`;
                } else {
                    // Fallback to the globe icon if no image was uploaded
                    document.querySelector('.pkg-visual').innerHTML = `<i class="fas fa-globe-americas"></i>`;
                }

                // Process Requirements
                const reqsHtml = data.reqs.split(',').map(item => `<li><i class="fas fa-file-contract"></i> ${item.trim()}</li>`).join('');
                document.getElementById('ui-reqs').innerHTML = reqsHtml;

                // 4. Listen for Comments in Real-Time
                const commentsQuery = query(collection(targetRef, "comments"), orderBy("timestamp", "desc"));
                onSnapshot(commentsQuery, (snapshot) => {
                    const commentsBox = document.getElementById('comments-section');
                    commentsBox.innerHTML = "";
                    if(snapshot.empty) { commentsBox.innerHTML = "<p style='color:#666; font-size:0.85rem;'>No field reports yet. Be the first.</p>"; return; }
                    
                    snapshot.forEach(cDoc => {
                        const cData = cDoc.data();
                        commentsBox.innerHTML += `
                            <div class="comment-box">
                                <div class="comment-author"><i class="fas fa-user-astronaut"></i> ${cData.author}</div>
                                <div class="comment-text">${cData.text}</div>
                            </div>
                        `;
                    });
                });

                // Swap Visibility
                document.getElementById('loading-ui').style.display = 'none';
                document.getElementById('content-ui').style.display = 'block';

            } catch (error) {
                console.error("Extraction Failed:", error);
            }
        }

        // SOCIAL FUNCTIONS attached to window
        window.triggerLike = async function() {
            const btn = document.getElementById('btn-like');
            if(btn.classList.contains('active')) return; // Already liked this session
            
            btn.classList.add('active');
            btn.innerHTML = "<i class='fas fa-check'></i> ENDORSED";
            
            const currentLikes = parseInt(document.getElementById('ui-likes').innerText);
            document.getElementById('ui-likes').innerText = currentLikes + 1;
            
            await updateDoc(targetRef, { likes: increment(1) });
        }

        window.postComment = async function() {
            const input = document.getElementById('comment-input');
            const text = input.value.trim();
            if(!text) return;

            // Check Identity
            const user = auth.currentUser;
            const authorName = user ? (user.displayName || "Verified Agent") : "Guest User";

            input.value = ""; // Clear input immediately
            
            await addDoc(collection(targetRef, "comments"), {
                author: authorName,
                text: text,
                timestamp: new Date()
            });
        }

        // CHECKOUT ROUTING (UPGRADED WITH IMAGE TRANSFER)
        window.initiatePurchase = function() {
            const user = auth.currentUser;
            
            // 1. If they are a civilian, route to login
            if (!user) {
                alert("ACCESS RESTRICTED: You must be a registered agent to secure this package.");
                const currentUrl = encodeURIComponent(window.location.href);
                window.location.href = `login.html?redirect=${currentUrl}`;
                return;
            }

            // 2. Grab the data
            const pkgName = document.getElementById('ui-title').innerText;
            const pkgPrice = document.getElementById('ui-new-price').innerText.replace('$', ''); 
            
            // 3. Grab the image URL if it exists
            const imgElement = document.querySelector('.pkg-visual img');
            const imgUrl = imgElement ? imgElement.src : '';

            // 4. Send everything to Checkout
            const checkoutUrl = `checkout.html?doc=${encodeURIComponent(pkgName)}&from=NA&to=NA&pages=1&urgency=Priority&price=${pkgPrice} JOD&loc=Global Hub&img=${encodeURIComponent(imgUrl)}`;
            window.location.href = checkoutUrl;
        }

        // Ignite Sequence
        document.addEventListener('DOMContentLoaded', extractTargetData);
    </script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

22. (profile.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Personnel File | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* TACTICAL BACKGROUND */
        .dashboard-page {
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.9), rgba(11, 20, 38, 0.9)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding-top: 100px; /* Clearance for header */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .dashboard-container {
            flex: 1;
            padding: 40px 0;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        /* DARK GLASS PANELS */
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* PROFILE SUMMARY */
        .profile-avatar {
            width: 80px; height: 80px;
            background: rgba(0, 242, 255, 0.1);
            border: 2px solid var(--brand-cyan);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; color: var(--brand-cyan);
            margin-bottom: 20px;
        }
        
        .profile-name { font-family: var(--font-primary); font-size: 1.5rem; color: white; margin-bottom: 5px; }
        .profile-email { color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-bottom: 20px; }
        .profile-badge {
            display: inline-block;
            background: rgba(255, 75, 92, 0.2);
            color: #ff4b5c;
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            border: 1px solid #ff4b5c;
        }

        /* ORDER HISTORY LIST */
        .order-list { display: flex; flex-direction: column; gap: 15px; }
        .order-item {
            background: rgba(0,0,0,0.3);
            border-left: 4px solid var(--brand-cyan);
            padding: 15px 20px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: 0.3s;
        }
        .order-item:hover { background: rgba(0, 242, 255, 0.05); }
        .order-info h4 { margin: 0 0 5px 0; color: white; }
        .order-info p { margin: 0; font-size: 0.85rem; color: rgba(255,255,255,0.6); }
        
        .status-badge {
            padding: 5px 12px; border-radius: 5px; font-size: 0.8rem; font-weight: bold;
        }
        .status-pending { background: rgba(255, 193, 7, 0.2); color: #ffc107; border: 1px solid #ffc107; }
        .status-completed { background: rgba(40, 167, 69, 0.2); color: #28a745; border: 1px solid #28a745; }

        @media (max-width: 768px) {
            .dashboard-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="dashboard-page">

    <header>
            <div class="container">
                <nav class="navbar">
                    <a href="index.html" class="logo-box" style="text-decoration: none;">
                        <div class="dna-logo">
                            <div class="dna-drop dna-magenta"></div>
                            <div class="dna-drop dna-cyan"></div>
                        </div>
                        <div class="brand-text">
                            <h3>Al-Khat Al-Mudi</h3>
                            <span id="header-brand_sub">TRANSLATION SERVICES</span>
                        </div>
                    </a>
                    
                    <div id="user-profile-section" class="user-status-hidden">
                        <a href="profile.html" class="user-orb">
                            <i class="fas fa-user-circle"></i>
                            <span id="user-display-name">Client</span>
                        </a>
                        <button onclick="handleLogout()" class="logout-link">Logout</button>
                    </div>
                    
                    <a href="#menu" class="menu-toggle" id="menuToggle">
                        <span class="text" id="header-menu_btn">MENU</span>
                        <div class="hamburger">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </a>
                    
                </nav>
            </div>
    </header>

    <main class="dashboard-container container">
        <div style="margin-bottom: 30px;">
            <h2 style="color: var(--brand-cyan);"><i class="fas fa-terminal"></i> SECURE TERMINAL</h2>
            <p style="color: rgba(255,255,255,0.7);">Encrypted Personnel Dashboard</p>
        </div>

        <div class="dashboard-grid">
            
            <div class="glass-panel" style="align-self: start;">
                <div class="profile-avatar">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <h3 class="profile-name" id="dash-name">Loading Agent Data...</h3>
                <p class="profile-email" id="dash-email">awaiting link...</p>
                <div class="profile-badge" id="dash-rank">CLEARANCE: CLIENT</div>
                
                <button id="btn-admin-deploy" class="btn btn-primary" style="display: none; width: 100%; margin-top: 20px; background: var(--brand-magenta); border-color: var(--brand-magenta);">
				<i class="fas fa-rocket"></i> Alpha Backend Dashboard
				</button>
                
                <hr style="border-color: rgba(255,255,255,0.1); margin: 25px 0;">
                
                <ul style="list-style: none; padding: 0; margin: 0; color: rgba(255,255,255,0.8); line-height: 2;">
                    <li><i class="fas fa-shield-alt" style="color: var(--brand-cyan); width: 20px;"></i> Connection: TLS 1.3</li>
                    <li><i class="fas fa-server" style="color: var(--brand-cyan); width: 20px;"></i> Node: ME-CENTRAL1 (Doha)</li>
                </ul>
            </div>

            <div class="glass-panel">
                <h3 style="margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">
                    <i class="fas fa-folder-open" style="color: var(--brand-cyan);"></i> Transmission History
                </h3>
                
                <div class="order-list" id="order-history-container">
                    <div style="text-align: center; padding: 20px; opacity: 0.5;">
                        <i class="fas fa-circle-notch fa-spin" style="font-size: 2rem; margin-bottom: 10px;"></i>
                        <p>Scanning database logs...</p>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>
    
    <script src="assets/js/main.js"></script>
    <script src="assets/js/lang-engine.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE CORRECT UPLINK
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Security Check: Ensure user is logged in
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // Populate Profile Panel
                document.getElementById('dash-name').innerText = user.displayName || "Unknown Agent";
                document.getElementById('dash-email').innerText = user.email;
                
                // Admin Override Visuals & Logic
                if(user.uid === "EOQEt04azKTTWcmNXVtpgSVsRxt2") {
                    document.getElementById('dash-rank').innerText = "CLEARANCE: ALPHA COMMANDER";
                    document.getElementById('dash-rank').style.background = "rgba(0, 242, 255, 0.2)";
                    document.getElementById('dash-rank').style.color = "var(--brand-cyan)";
                    document.getElementById('dash-rank').style.borderColor = "var(--brand-cyan)";
                    
                    // UNLOCK THE DEPLOYMENT BUTTON AND ROUTE TO ALPHA
                    const deployBtn = document.getElementById('btn-admin-deploy');
                    if(deployBtn) {
                        deployBtn.style.display = 'block';
                        deployBtn.onclick = () => { window.location.href = "alpha.html"; };
                    }
                }

                // Fetch User's Orders
                fetchOrderHistory(user.uid);
            } else {
                // Not logged in? Kick them to the login page
                window.location.href = "login.html";
            }
        });

        async function fetchOrderHistory(uid) {
            const container = document.getElementById('order-history-container');
            
            try {
                const q = query(collection(db, "orders"), where("userId", "==", uid));
                const querySnapshot = await getDocs(q);
                
                container.innerHTML = ""; // Clear loader
                
                if (querySnapshot.empty) {
                    container.innerHTML = `<p style="text-align: center; color: rgba(255,255,255,0.6); padding: 20px;">No translation requests found in the archives.</p>`;
                    return;
                }

                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    const date = data.timestamp ? data.timestamp.toDate().toLocaleDateString() : "Unknown Date";
                    
                    // --- UPGRADED LOGIC AREA ---
                    const statusClass = data.status === "Completed" ? "status-completed" : "status-pending";
                    const statusText = data.status || "Pending Review";

                    // Build the status and button area
                    let actionArea = `<span class="status-badge ${statusClass}">${statusText}</span>`;
                    
                    // If mission is completed and the file exists, append the download button
                    if(data.status === "Completed" && data.translatedFileUrl) {
                        actionArea += `<br><a href="${data.translatedFileUrl}" target="_blank" class="btn btn-primary" style="padding: 5px 10px; font-size: 0.8rem; margin-top: 10px; display: inline-block;">
                            <i class="fas fa-file-download"></i> Download Translation
                        </a>`;
                    }

                    const itemHtml = `
                        <div class="order-item">
                            <div class="order-info">
                                <h4>Order ID: ${doc.id.substring(0, 8).toUpperCase()}</h4>
                                <p><i class="fas fa-calendar-alt"></i> ${date} | Contact: ${data.customerName || 'N/A'}</p>
                            </div>
                            <div class="order-status" style="text-align: right;">
                                ${actionArea}
                            </div>
                        </div>
                    `;
                    // --- END UPGRADED LOGIC ---

                    container.innerHTML += itemHtml;
                });
            } catch (error) {
                console.error("Error fetching orders: ", error);
                container.innerHTML = `<p style="color: #ff4b5c;">Error communicating with Firebase Cloud. Please refresh.</p>`;
            }
        }

        // Global Logout Function
        window.handleLogout = function() {
            signOut(auth).then(() => {
                window.location.href = "index.html";
            });
        }
    </script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

23. (recovery.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signal Recovery | Al-Khat Al-Mudi</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        html, body { overflow-x: hidden; width: 100%; }

        .auth-page {
            position: relative;
            min-height: 100vh;
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.85), rgba(11, 20, 38, 0.85)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            flex-direction: column;
        }

        .auth-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 20px;
        }

        .auth-card {
            width: 100%;
            max-width: 450px;
            perspective: 1000px;
            z-index: 10;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-form {
            transition: transform 0.1s ease-out, box-shadow 0.3s ease;
            transform-style: preserve-3d;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            color: white;
        }

        .tactical-dot {
            position: absolute;
            width: 8px; height: 8px;
            background: #ff4b5c; 
            border-radius: 50%;
            z-index: 0;
            opacity: 0.6;
        }

        .tactical-dot::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; height: 100%;
            border: 1px solid #ff4b5c;
            border-radius: 50%;
            animation: pulse-wave 3s infinite;
        }

        @keyframes pulse-wave {
            0% { width: 100%; height: 100%; opacity: 1; }
            100% { width: 800%; height: 800%; opacity: 0; }
        }

        .auth-footer-note {
            text-align: center;
            margin-top: 20px;
            color: rgba(255,255,255,0.7);
        }

        .auth-footer-note a { color: var(--brand-cyan); text-decoration: none; font-weight: 600; }
    </style>
</head>
<body class="auth-page">

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

    <main class="auth-container">
        <div class="auth-card">
            <form id="recovery-form" class="glass-form">
                <div class="form-header">
                    <h4 style="margin:0; font-size: 1.5rem; color: var(--brand-cyan);"><i class="fas fa-satellite-dish"></i> Signal Recovery</h4>
                    <p style="font-size: 0.85rem; opacity: 0.8; margin-top: 5px;">Enter your email to receive a secure cipher reset link.</p>
                </div>

                <div class="form-group" style="margin-top: 25px;">
                    <input type="email" id="recovery-email" placeholder="Registered Email Address" required>
                    <i class="fas fa-envelope input-icon"></i>
                </div>

                <button type="submit" id="recovery-btn" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
                    TRANSMIT RECOVERY SIGNAL
                </button>

                <div class="auth-footer-note">
                    Remembered your cipher? <a href="login.html">Abort & Return to Login</a>
                </div>
            </form>
        </div>
    </main>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            <div class="terminal-content">
                <h4 class="terminal-title">ROUTING SECURE EMAIL</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Connecting to Firebase Auth...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink">TRANSMITTING...</div>
            </div>
        </div>
    </div>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>
        <div class="menu-content">
            <h4 class="menu-label">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="reservation.html">Get Quote</a></li>
                <li><a href="contacts.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
	
	<footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>
	
	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>

    <script>
        // TACTICAL DOTS
        const page = document.querySelector('.auth-page');
        for (let i = 0; i < 15; i++) {
            const dot = document.createElement('div');
            dot.className = 'tactical-dot';
            dot.style.top = Math.random() * 100 + '%';
            dot.style.left = Math.random() * 100 + '%';
            dot.style.animationDelay = Math.random() * 3 + 's';
            page.appendChild(dot);
        }
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE CORRECT UPLINK
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        document.getElementById('recovery-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('recovery-email').value;
            const btn = document.getElementById('recovery-btn');
            const overlay = document.getElementById('processing-overlay');
            const logBox = document.getElementById('terminal-log');
            const progressBar = document.getElementById('progress-bar');

            btn.disabled = true;
            overlay.classList.add('active');
            let progress = 0;
            const loader = setInterval(() => { progress += 10; if(progress <= 90) progressBar.style.width = progress + '%'; }, 100);

            try {
                await sendPasswordResetEmail(auth, email);
                
                clearInterval(loader);
                progressBar.style.width = '100%';
                logBox.innerHTML += `<div class="log-line success">> SIGNAL DELIVERED. Check your inbox.</div>`;
                
                setTimeout(() => { 
                    alert("A secure reset link has been dispatched to your email address.");
                    window.location.href = "login.html"; 
                }, 1500);

            } catch (error) {
                clearInterval(loader);
                overlay.classList.remove('active');
                btn.disabled = false;
                alert("TRANSMISSION FAILED: " + error.message);
            }
        });
    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

24. (reservation.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation & Booking | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* HEADER CLEARANCE FIX */
        body {
            padding-top: 80px;
        }

        /* 1. DARK MAP STAGE (DIMMED MODE) */
        /* 1. DARK MAP STAGE (REVERTED TO OLD STYLE) */
		.map-stage {
			position: relative;
			width: 100%;
			height: 100%;
			background-image: 
				linear-gradient(rgba(15, 24, 46, 0.4), rgba(15, 24, 46, 0.4)),
				url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
			background-size: cover; /* Back to your original style! */
			background-position: center;
			transform-origin: center center;
			will-change: transform;
			cursor: grab;
		}

		.map-stage:active {
			cursor: grabbing;
		}

		/* (Keep your original .map-dot, .dot-pulse, and .dot-label CSS exactly as they are!) */

        /* 2. THE INTERACTIVE DOTS (NEON STYLE) */
        .map-point {
            position: absolute;
            width: 16px; height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--brand-cyan); /* Cyan Border */
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 10px rgba(0, 174, 239, 0.3);
        }

        /* Hover & Active States */
        .map-point:hover, .map-point.active {
            background: var(--brand-magenta); /* Turns Magenta */
            border-color: white;
            transform: scale(1.4);
            z-index: 20;
            box-shadow: 0 0 20px var(--brand-magenta); /* Glowing Effect */
        }

        /* The Ripple Effect (Only on Hover/Active) */
        .map-point::before {
            content: '';
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            border: 1px solid var(--brand-magenta);
            border-radius: 50%;
            opacity: 0;
            transition: 0.3s;
        }

        .map-point:hover::before, .map-point.active::before {
            animation: ripple 1.5s infinite;
            opacity: 1;
        }

        @keyframes ripple {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }

        /* 3. THE INFO PANEL (Hidden by Default) */
        .location-card {
            position: absolute;
            bottom: 35px; left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: rgba(255, 255, 255, 0.95); /* Glassy White */
            padding: 15px 20px;
            border-radius: 12px;
            width: 220px;
            text-align: center;
            opacity: 0;
            pointer-events: none; /* Can't click when hidden */
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-top: 3px solid var(--brand-magenta);
            z-index: 100;
        }

        /* Show Panel ONLY on Hover or Active */
        .map-point:hover .location-card,
        .map-point.active .location-card {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            pointer-events: all;
        }

        .location-card h4 { color: var(--brand-navy); margin-bottom: 5px; font-weight: 700; font-size: 1.1rem; }
        .location-card p { color: #555; font-size: 0.85rem; margin-bottom: 10px; }
        
        .btn-select-loc {
            background: var(--brand-navy);
            color: white;
            font-size: 0.8rem;
            padding: 6px 15px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            width: 100%;
            transition: 0.2s;
        }
        .btn-select-loc:hover { background: var(--brand-cyan); }

        /* BOOKING WIZARD STYLES */
        .booking-section { padding: 80px 0; background: var(--bg-body); }
        .booking-card {
            background: white; border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.05);
            overflow: hidden; display: grid; grid-template-columns: 1.5fr 1fr;
        }
        .booking-form { padding: 40px; }
        .booking-summary { background: var(--brand-navy); color: white; padding: 40px; display: flex; flex-direction: column; justify-content: space-between; }
        .price-display { font-size: 3rem; font-weight: 900; color: var(--brand-cyan); font-family: var(--font-primary); }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; }

        @media (max-width: 992px) { .booking-card { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

    <div style="overflow: hidden; position: relative; width: 100%; height: 650px; background-color: #0f182e;">
		<div class="map-stage" id="map-stage">
			
			<div class="map-instructions" data-i18n="res_map_inst" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 50; color: rgba(255,255,255,0.7); background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 20px; font-size: 0.85rem;">
				<i class="fas fa-crosshairs"></i> Scroll to Zoom | Drag to Pan
			</div>

			<div class="map-dot" style="top: 45%; left: 56.5%;" onclick="selectLocation('Amman Base', 'JO', this)">
				<div class="dot-pulse"></div>
				<div class="dot-label" data-i18n="res_loc_amman">Amman Base</div>
			</div>
			<div class="map-dot" style="top: 25%; left: 57%;" onclick="selectLocation('Moscow Node', 'RU', this)">
				<div class="dot-pulse"></div>
				<div class="dot-label" data-i18n="res_loc_moscow">Moscow Node</div>
			</div>
			<div class="map-dot" style="top: 30%; left: 47%;" onclick="selectLocation('London HQ', 'GB', this)">
				<div class="dot-pulse"></div>
				<div class="dot-label" data-i18n="res_loc_london">London HQ</div>
			</div>
			<div class="map-dot" style="top: 28%; left: 48.5%;" onclick="selectLocation('Amsterdam Link', 'NL', this)">
				<div class="dot-pulse"></div>
				<div class="dot-label" data-i18n="res_loc_amsterdam">Amsterdam Link</div>
			</div>
			<div class="map-dot" style="top: 50%; left: 61%;" onclick="selectLocation('Dubai Hub', 'AE', this)">
				<div class="dot-pulse"></div>
				<div class="dot-label" data-i18n="res_loc_dubai">Dubai Hub</div>
			</div>
		</div>
	</div>

    <section class="booking-section">
        <div class="container">
            <div class="booking-card">
                
                <div class="booking-form">
                    <h2 class="section-title">Step 2: Document Details</h2>
                    
                    <form id="calcForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:5px;">Translate From</label>
                                <select class="glass-input" id="langFrom">
                                    <option value="en">English</option>
                                    <option value="ar">Arabic</option>
                                    <option value="ru">Russian</option>
                                    <option value="de">German</option>
                                    <option value="nl">Dutch</option>
                                    <option value="fr">French</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:5px;">Translate To</label>
                                <select class="glass-input" id="langTo">
                                    <option value="ar">Arabic</option>
                                    <option value="en">English</option>
                                    <option value="ru">Russian</option>
                                    <option value="de">German</option>
                                    <option value="nl">Dutch</option>
                                    <option value="fr">French</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 20px;">
                            <label style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:5px;">Document Type</label>
                            <select class="glass-input" id="docType" onchange="calculatePrice()">
                                <option value="" disabled selected>Loading Documents...</option>
                            </select>
                        </div>

                        <div class="form-row" style="margin-top: 20px;">
                            <div class="form-group">
                                <label style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:5px;">Page Count</label>
                                <input type="number" id="pageCount" class="glass-input" value="1" min="1" onchange="calculatePrice()" oninput="calculatePrice()">
                            </div>
                            <div class="form-group">
                                <label style="font-weight:bold; color:var(--brand-navy); display:block; margin-bottom:5px;">Service Level</label>
                                <select class="glass-input" id="urgency" onchange="calculatePrice()">
                                    <option value="1">Standard (48h)</option>
                                    <option value="1.5">Express (24h) [+50%]</option>
                                    <option value="2">Immediate (Same Day) [+100%]</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="booking-summary">
                    <div>
                        <h3 style="margin-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px;">Order Summary</h3>
                        
                        <div class="summary-row">
                            <span>Selected Office:</span>
                            <span id="summaryLocation" style="color: var(--brand-cyan); font-weight: bold; font-size: 1.1rem;">--</span>
                        </div>
                        <div class="summary-row">
                            <span>Document:</span>
                            <span id="summaryDoc">--</span>
                        </div>
                        <div class="summary-row">
                            <span>Pages:</span>
                            <span id="summaryPages">1</span>
                        </div>
                        <div class="summary-row">
                            <span>Fees:</span>
                            <span id="summaryFees">0.00 JOD</span>
                        </div>
                    </div>

                    <div>
                        <div style="text-align: right; margin-bottom: 20px;">
                            <span style="display: block; font-size: 0.9rem; opacity: 0.7;">Estimated Total</span>
                            <span class="price-display" id="totalPrice">0.00</span> <span style="font-size: 1.5rem;">JOD</span>
                        </div>
                        <button onclick="proceedToCheckout()" class="btn btn-primary" style="width: 100%; background: white; color: var(--brand-navy);">
                            Proceed to Checkout <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </section>
	
	<div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
	
	<script type="module">
        import { db } from './assets/js/firebase-init.js';
        import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        // We still keep locations static since they are tied to hardcoded CSS coordinates on the map
        const STATIC_LOCATIONS = [
            { id: "jo", name: "Amman Base", phone: "+962 78 077 0085" },
            { id: "ru", name: "Moscow Node", phone: "+7 495 123-45-67" },
            { id: "gb", name: "London HQ", phone: "+44 20 7946 0123" },
            { id: "nl", name: "Amsterdam Link", phone: "+31 20 123 4567" },
            { id: "ae", name: "Dubai Hub", phone: "+971 50 123 4567" }
        ];

        let DYNAMIC_DB = { rates: { base_per_page: 10.00 }, documents: [] };

        // 1. FETCH PRICING FROM FIREBASE
        async function fetchPricingConfig() {
            try {
                const docSnap = await getDoc(doc(db, "system_config", "pricing"));
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    DYNAMIC_DB.rates.base_per_page = data.base_per_page;
                    DYNAMIC_DB.documents = data.documents || [];
                    populateDocumentDropdown();
                }
            } catch (error) {
                console.error("Failed to fetch dynamic pricing. Defaulting to safe values.", error);
            }
        }

        function populateDocumentDropdown() {
            const docSelect = document.getElementById('docType');
            docSelect.innerHTML = ""; 
            DYNAMIC_DB.documents.forEach(docItem => {
                const opt = document.createElement('option');
                opt.value = docItem.id;
                opt.innerText = docItem.label;
                opt.dataset.price = docItem.price_mod;
                docSelect.appendChild(opt);
            });
            window.calculatePrice(); // Trigger recalculation with new data
        }

        // Initialize Fetch
        fetchPricingConfig();

        // 2. REVERTED MAP ZOOM & PAN ENGINE
        const mapStage = document.getElementById('map-stage');
        let scale = 1, panning = false, pointX = 0, pointY = 0, startX = 0, startY = 0;

        function setTransform() { mapStage.style.transform = `translate(${pointX}px, ${pointY}px) scale(${scale})`; }

        mapStage.addEventListener('wheel', (e) => {
            e.preventDefault(); 
            const zoomSensitivity = 0.15;
            const delta = e.deltaY < 0 ? 1 : -1;
            scale += delta * zoomSensitivity;
            scale = Math.min(Math.max(1, scale), 4);
            if(scale === 1) { pointX = 0; pointY = 0; }
            setTransform();
        }, { passive: false });

        mapStage.addEventListener('mousedown', (e) => {
            if(scale > 1) {
                e.preventDefault();
                panning = true;
                startX = e.clientX - pointX;
                startY = e.clientY - pointY;
            }
        });

        mapStage.addEventListener('mousemove', (e) => {
            if (!panning) return;
            e.preventDefault();
            pointX = e.clientX - startX;
            pointY = e.clientY - startY;
            setTransform();
        });

        mapStage.addEventListener('mouseup', () => { panning = false; });
        mapStage.addEventListener('mouseleave', () => { panning = false; });

        // 3. LOCATION SELECTION
        let selectedLocName = "";
        window.selectLocation = function(name, countryCode, element) {
            document.querySelectorAll('.map-point').forEach(el => el.classList.remove('active'));
            if(element.classList.contains('map-point')) element.classList.add('active');
            
            selectedLocName = name;
            const summaryLoc = document.getElementById('summaryLocation');
            summaryLoc.innerText = name;
            summaryLoc.style.color = "white";
            setTimeout(() => { summaryLoc.style.color = "var(--brand-cyan)"; }, 300);
        }

        // 4. CALCULATOR LOGIC (NOW USING DYNAMIC_DB)
        window.calculatePrice = function() {
            const pages = parseInt(document.getElementById('pageCount').value) || 1;
            const urgency = parseFloat(document.getElementById('urgency').value);
            const docSelect = document.getElementById('docType');
            const docOption = docSelect.options[docSelect.selectedIndex];
            
            if(!docOption) return;

            const docFactor = parseFloat(docOption.dataset.price);
            const baseRate = DYNAMIC_DB.rates.base_per_page;
            const total = (baseRate * docFactor * pages * urgency);
            
            document.getElementById('summaryDoc').innerText = docOption.text;
            document.getElementById('summaryPages').innerText = pages;
            document.getElementById('totalPrice').innerText = total.toFixed(2);
        }

        // 5. CHECKOUT LOGIC
        window.proceedToCheckout = function() {
            if(!selectedLocName) {
                alert("Please select a region from the map first!");
                return;
            }

            const docSelect = document.getElementById('docType');
            const params = new URLSearchParams({
                loc: selectedLocName,
                from: document.getElementById('langFrom').value,
                to: document.getElementById('langTo').value,
                doc: docSelect.options[docSelect.selectedIndex].text,
                pages: document.getElementById('pageCount').value,
                urgency: document.getElementById('urgency').options[document.getElementById('urgency').selectedIndex].text,
                price: document.getElementById('totalPrice').innerText + " JOD"
            });

            window.location.href = 'checkout.html?' + params.toString();
        }
    </script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

25. (sales.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHA COMMAND | Sales & Dispatch</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    
    <style>
        /* ALPHA BACKEND STYLE */
        :root {
            --term-bg: #050a15;
            --term-cyan: #00f2ff;
            --term-red: #ff4b5c;
            --term-green: #00ff88;
            --term-magenta: #ff00ff;
            --term-panel: rgba(0, 242, 255, 0.03);
            --term-border: rgba(0, 242, 255, 0.2);
        }

        body { 
            background-color: var(--term-bg); color: var(--term-cyan); 
            font-family: 'Share Tech Mono', monospace, sans-serif; 
            margin: 0; padding: 0; transition: all 0.3s ease; 
            display: flex; height: 100vh; overflow: hidden;
        }
        body[dir="rtl"] { font-family: 'Cairo', sans-serif; }

        /* SIDEBAR */
        .admin-sidebar { 
            width: 260px; background: rgba(0, 0, 0, 0.8); border-right: 1px solid var(--term-border); 
            padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; 
            box-shadow: 2px 0 15px rgba(0, 242, 255, 0.05);
        }
        body[dir="rtl"] .admin-sidebar { border-right: none; border-left: 1px solid var(--term-border); }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 30px 0 0 0; }
        .admin-sidebar-menu li { margin-bottom: 5px; }
        .admin-sidebar-menu a { 
            display: block; padding: 12px 15px; color: #888; text-decoration: none; 
            border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.9rem; letter-spacing: 1px;
        }
        .admin-sidebar-menu a:hover, .admin-sidebar-menu a.active { background: rgba(0, 242, 255, 0.1); color: var(--term-cyan); border-left-color: var(--term-cyan); }
        body[dir="rtl"] .admin-sidebar-menu a { border-left: none; border-right: 3px solid transparent; }
        body[dir="rtl"] .admin-sidebar-menu a:hover, body[dir="rtl"] .admin-sidebar-menu a.active { border-right-color: var(--term-cyan); }
        .admin-sidebar-menu i { margin-right: 15px; width: 20px; text-align: center; }

        /* MAIN CONTENT */
        .admin-main-content { 
            flex-grow: 1; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; 
            background: radial-gradient(circle at 50% 0%, rgba(0, 242, 255, 0.05) 0%, transparent 70%);
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--term-border); padding-bottom: 20px; margin-bottom: 30px; }
        .header-title { margin: 0; font-size: 1.8rem; text-shadow: 0 0 10px rgba(0, 242, 255, 0.3); }

        /* GRID LAYOUT */
        .top-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        @media(max-width: 1200px) { .top-grid { grid-template-columns: 1fr; } }
        
        .panel { 
            border: 1px solid var(--term-border); background: rgba(0,0,0,0.6); 
            padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            position: relative; overflow: hidden;
        }
        .panel h3 { margin-top: 0; color: var(--term-green); border-bottom: 1px dashed var(--term-green); padding-bottom: 10px; font-size: 1.2rem; }
        .panel.magenta-theme { border-color: rgba(255, 0, 255, 0.3); }
        .panel.magenta-theme h3 { color: var(--term-magenta); border-bottom-color: var(--term-magenta); }

        /* FORMS */
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.8rem; color: #888; margin-bottom: 5px; text-transform: uppercase; }
        .form-group input, .form-group select {
            width: 100%; padding: 10px; box-sizing: border-box; background: rgba(0, 242, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); color: white; font-family: 'Share Tech Mono', monospace;
        }
        .form-group input:focus, .form-group select:focus { border-color: var(--term-cyan); outline: none; }
        .panel.magenta-theme input, .panel.magenta-theme select { background: rgba(255, 0, 255, 0.05); border-color: rgba(255, 0, 255, 0.2); }
        .panel.magenta-theme input:focus, .panel.magenta-theme select:focus { border-color: var(--term-magenta); }

        /* BUTTONS */
        .btn { 
            background: transparent; border: 1px solid var(--term-cyan); color: var(--term-cyan); 
            padding: 10px 20px; cursor: pointer; font-family: inherit; font-weight: bold; 
            transition: 0.3s; width: 100%; text-transform: uppercase;
        }
        .btn:hover { background: var(--term-cyan); color: var(--term-bg); }
        .btn-magenta { border-color: var(--term-magenta); color: var(--term-magenta); }
        .btn-magenta:hover { background: var(--term-magenta); color: var(--term-bg); }
        .btn-green { border-color: var(--term-green); color: var(--term-green); width: auto; padding: 5px 15px; font-size: 0.8rem; }
        .btn-green:hover { background: var(--term-green); color: var(--term-bg); }

        /* TABLE */
        .data-table-container { overflow-x: auto; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .data-table th { text-align: left; padding: 15px; border-bottom: 2px solid var(--term-border); color: var(--term-cyan); }
        body[dir="rtl"] .data-table th { text-align: right; }
        .data-table td { padding: 12px 15px; border-bottom: 1px solid rgba(0, 242, 255, 0.05); color: #ddd; }
        .data-table tr:hover { background: rgba(0, 242, 255, 0.05); }
        .badge { padding: 4px 8px; border-radius: 3px; font-size: 0.75rem; font-weight: bold; }
        .b-paid { background: rgba(0, 255, 136, 0.1); color: var(--term-green); border: 1px solid var(--term-green); }
		
		/* --- NEW: RESIZABLE PANEL LOGIC --- */
        .resizable-ledger {
            resize: vertical; /* Allows dragging down */
            overflow: auto !important; /* Required for resize to work, overrides .panel hidden overflow */
            min-height: 350px; /* Default starting height */
            max-height: 85vh; /* Prevents it from breaking the screen */
            display: flex;
            flex-direction: column;
            padding-bottom: 15px; /* Room for the drag handle */
        }
        
        /* Make the drag handle cyan so it fits the Alpha theme */
        .resizable-ledger::-webkit-resizer {
            background-color: transparent;
            border-bottom: 2px solid var(--term-cyan);
            border-right: 2px solid var(--term-cyan);
        }
		
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
		
		/* --- SYSTEM TRANSITION EFFECTS --- */
		body {
			opacity: 0; /* Start invisible */
			animation: systemBoot 0.4s ease-in forwards; /* Fade in automatically on load */
		}

		@keyframes systemBoot {
			0% { opacity: 0; transform: scale(0.99); }
			100% { opacity: 1; transform: scale(1); }
		}

		/* Class triggered by JS before leaving the page */
		body.system-shutdown {
			opacity: 0 !important;
			transform: scale(0.99);
		}
		
		/* --- SYSTEM LOADER OVERLAY --- */
		.system-loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #050a15; /* Matches your terminal background */
			z-index: 9999; /* Keeps it on top of everything */
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none; /* Lets clicks pass through when hidden */
			transition: opacity 0.3s ease;
		}

		/* When the JS triggers this class, the screen goes black */
		.system-loader.active {
			opacity: 1;
			pointer-events: all; /* Blocks clicks while loading */
		}

		/* The glowing text */
		.loader-text {
			color: #00f2ff;
			font-size: 1.5rem;
			font-family: 'Share Tech Mono', monospace;
			letter-spacing: 5px;
			text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.4);
			animation: pulseGlow 1.2s infinite alternate;
		}

		/* The blinking dots */
		.loader-text .dots {
			display: inline-block;
			width: 20px;
			text-align: left;
			animation: blinkDots 1.5s infinite steps(4, end);
		}

		/* Keyframes for the neon pulse */
		@keyframes pulseGlow {
			0% { text-shadow: 0 0 5px rgba(0, 242, 255, 0.5); transform: scale(0.98); }
			100% { text-shadow: 0 0 20px rgba(0, 242, 255, 1), 0 0 40px rgba(0, 242, 255, 0.6); transform: scale(1); }
		}

		/* Keyframes for the typewriter dots */
		@keyframes blinkDots {
			0%, 20% { color: transparent; text-shadow: none; }
			40% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
			100% { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.8); }
		}
		
		::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--term-bg); }
        ::-webkit-scrollbar-thumb { background: var(--term-border); }
    </style>
</head>
<body>

    <div id="system-loader" class="system-loader">
		<div class="loader-text">SYSTEM LOADING<span class="dots">...</span></div>
	</div>
	
    <aside class="admin-sidebar">
        <div style="text-align: center; padding-bottom: 20px; border-bottom: 1px dashed rgba(255,255,255,0.2);">
            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #ff4b5c; margin-bottom: 10px; text-shadow: 0 0 15px rgba(255, 75, 92, 0.4);"></i>
            <h3 style="margin:0; color:white; letter-spacing: 2px;">ALPHA <span style="color:var(--term-cyan);">COMMAND</span></h3>
            <div style="font-size: 0.7rem; color: #888; margin-top: 5px;">SYS.VER 4.0 // ROOT ACCESS</div>
        </div>
        
        <ul class="admin-sidebar-menu">
			<li><a href="alpha.html" ><i class="fas fa-satellite-dish"></i> Main Dashboard</a></li>
			<li><a href="admin_deployment.html"><i class="fas fa-rocket"></i> Ad Deployments</a></li>
			<li><a href="employee_reg.html"><i class="fas fa-user-plus"></i> Employee Registry</a></li>
			<li><a href="admin_pricing.html"><i class="fas fa-tags"></i> Pricing & Docs</a></li>
			<li><a href="admin_inbox.html"><i class="fas fa-inbox"></i> Comms & Inbox</a></li>
			<li><a href="admin_logs.html"><i class="fas fa-user-clock"></i> Employee Logs</a></li>
			<li><a href="admin_mail.html"><i class="fas fa-envelope-open-text"></i> Broadcasts</a></li>
			<li><a href="admin_create_products.html"><i class="fas fa-box"></i> Products Page Creator</a></li>
			<li><a href="sales.html" class="active"><i class="fas fa-file-invoice-dollar"></i> Sales & Visas</a></li>
			<li><a href="admin_employment_dashboard.html"><i class="fas fa-user-tie"></i>Employee's Attendancy</a></li>
		</ul>

        <div style="margin-top: auto; padding-top: 20px;">
			<button onclick="handleReturnToBase()" class="btn" style="font-size: 0.8rem; width: 100%;" id="ui-btn-return">
				RETURN TO BASE
			</button>
		</div>
		<div style="margin-top: auto; padding-top: 20px;">
            <button onclick="handleLogout()" class="btn" style="border-color: var(--term-red); color: var(--term-red); font-size: 0.8rem; padding: 10px;" id="btn-disconnect">
                <i class="fas fa-power-off"></i> DISCONNECT UPLINK
            </button>
        </div>
    </aside>

    <main class="admin-main-content">
        <div class="header-top">
            <h2 class="header-title" id="ui-header-title"><i class="fas fa-cash-register"></i> SALES & DISPATCH TERMINAL</h2>
            <div style="display: flex; gap: 15px; align-items: center;">
                <span style="font-size: 0.8rem; color: var(--term-green); border: 1px solid; padding: 6px 12px; border-radius: 3px; font-weight: bold; background: rgba(0, 255, 136, 0.1);">
                    <i class="fas fa-lock"></i> SECURE
                </span>
                <button class="btn" id="btn-lang" onclick="toggleLanguage()" style="width: auto; padding: 6px 15px; border-color: #ffc107; color: #ffc107;">عربي</button>
            </div>
        </div>

        <div class="top-grid">
            <div class="panel">
                <h3 id="ui-visa-title"><i class="fas fa-passport"></i> GLOBAL VISA PROCESSING</h3>
                <form id="form-visa">
                    <div class="form-row">
                        <div class="form-group">
                            <label id="ui-lbl-pax">Passenger Name (PAX)</label>
                            <input type="text" id="v-name" required placeholder="Last/First">
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-pass">Passport Number</label>
                            <input type="text" id="v-passport" required placeholder="Alphanumeric">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label id="ui-lbl-nat">Nationality</label>
                            <input type="text" id="v-nat" required>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-dest">Destination Code</label>
                            <input type="text" id="v-dest" required placeholder="e.g. DXB, LHR">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label id="ui-lbl-vtype">Visa Type</label>
                            <select id="v-type">
                                <option value="Tourist">Tourist (30 Days)</option>
                                <option value="Business">Business (90 Days)</option>
                                <option value="Transit">Transit (96 Hours)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-pnr">PNR / Booking Ref</label>
                            <input type="text" id="v-pnr" required placeholder="6 Chars">
                        </div>
                    </div>
                    <button type="submit" class="btn" id="btn-visa"><i class="fas fa-satellite-dish"></i> TRANSMIT VISA DATA</button>
                </form>
            </div>

            <div class="panel magenta-theme">
                <h3 id="ui-doc-title"><i class="fas fa-file-import"></i> INTERNAL DOCUMENT DISPATCH</h3>
                <form id="form-dispatch">
                    <div class="form-row">
                        <div class="form-group">
                            <label id="ui-lbl-dtype">Document Type</label>
                            <input type="text" id="d-type" required placeholder="e.g. Legal Contract">
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-pair">Language Pair</label>
                            <input type="text" id="d-pair" required placeholder="e.g. AR > EN">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label id="ui-lbl-pages">Page Count</label>
                            <input type="number" id="d-pages" required min="1" value="1">
                        </div>
                        <div class="form-group">
                            <label id="ui-lbl-urg">Urgency Level</label>
                            <select id="d-urg">
                                <option value="Standard">Standard (48h)</option>
                                <option value="Express">Express (24h)</option>
                                <option value="Immediate">Immediate (Same Day)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label id="ui-lbl-assign">Assign To Operative</label>
                        <select id="d-assignee" required>
                            <option value="">Scanning registry...</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-magenta" id="btn-dispatch"><i class="fas fa-paper-plane"></i> GENERATE & DISPATCH</button>
                </form>
            </div>
        </div>

        <div class="panel resizable-ledger">
            <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px dashed var(--term-cyan); padding-bottom: 10px; margin-bottom: 20px;">
                <h3 style="border: none; margin: 0; padding: 0;" id="ui-log-title"><i class="fas fa-database"></i> GLOBAL SALES LEDGER</h3>
                <button class="btn btn-green" onclick="exportSalesCSV()" id="btn-csv"><i class="fas fa-file-csv"></i> EXPORT LOGS</button>
            </div>
            
            <div class="data-table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th id="ui-th-inv">Invoice ID</th>
                            <th id="ui-th-client">Client / Entity</th>
                            <th id="ui-th-desc">Transaction Details</th>
                            <th id="ui-th-amt">Amount (JOD)</th>
                            <th id="ui-th-stat">Status</th>
                        </tr>
                    </thead>
                    <tbody id="sales-log">
                        <tr><td colspan="5" style="text-align: center; color:#888;">Synchronizing databanks...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, query, orderBy, getDocs, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-storage-doha",
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";

        let globalSalesData = [];

        // --- BILINGUAL DICTIONARY ---
        window.currentLang = 'en';
        const dictionary = {
            en: {
                header: "<i class='fas fa-cash-register'></i> SALES & DISPATCH TERMINAL",
                visaTitle: "<i class='fas fa-passport'></i> GLOBAL VISA PROCESSING",
                lblPax: "Passenger Name (PAX)", lblPass: "Passport Number", lblNat: "Nationality", lblDest: "Destination Code", lblVtype: "Visa Type", lblPnr: "PNR / Booking Ref",
                btnVisa: "<i class='fas fa-satellite-dish'></i> TRANSMIT VISA DATA",
                docTitle: "<i class='fas fa-file-import'></i> INTERNAL DOCUMENT DISPATCH",
                lblDtype: "Document Type", lblPair: "Language Pair", lblPages: "Page Count", lblUrg: "Urgency Level", lblAssign: "Assign To Operative",
                btnDispatch: "<i class='fas fa-paper-plane'></i> GENERATE & DISPATCH",
                logTitle: "<i class='fas fa-database'></i> GLOBAL SALES LEDGER", btnCsv: "<i class='fas fa-file-csv'></i> EXPORT LOGS",
                thInv: "Invoice ID", thClient: "Client / Entity", thDesc: "Transaction Details", thAmt: "Amount (JOD)", thStat: "Status",
                msgEmpty: "No sales records found.", msgSuccess: "Data transmitted successfully."
            },
            ar: {
                header: "<i class='fas fa-cash-register'></i> منصة المبيعات والإرسال",
                visaTitle: "<i class='fas fa-passport'></i> معالجة التأشيرات العالمية",
                lblPax: "اسم المسافر", lblPass: "رقم الجواز", lblNat: "الجنسية", lblDest: "رمز الوجهة", lblVtype: "نوع التأشيرة", lblPnr: "رقم الحجز (PNR)",
                btnVisa: "<i class='fas fa-satellite-dish'></i> إرسال بيانات التأشيرة",
                docTitle: "<i class='fas fa-file-import'></i> إرسال المستندات الداخلي",
                lblDtype: "نوع المستند", lblPair: "اللغات المترجمة", lblPages: "عدد الصفحات", lblUrg: "مستوى السرعة", lblAssign: "تعيين للموظف",
                btnDispatch: "<i class='fas fa-paper-plane'></i> إنشاء وإرسال",
                logTitle: "<i class='fas fa-database'></i> سجل المبيعات الشامل", btnCsv: "<i class='fas fa-file-csv'></i> تصدير السجل",
                thInv: "رقم الفاتورة", thClient: "العميل", thDesc: "تفاصيل العملية", thAmt: "المبلغ (دينار)", thStat: "الحالة",
                msgEmpty: "لا توجد سجلات مبيعات.", msgSuccess: "تم إرسال البيانات بنجاح."
            }
        };

        window.toggleLanguage = function() {
            window.currentLang = window.currentLang === 'en' ? 'ar' : 'en';
            const dict = dictionary[window.currentLang];
            document.documentElement.lang = window.currentLang;
            document.body.dir = window.currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('btn-lang').innerText = window.currentLang === 'en' ? 'عربي' : 'English';

            document.getElementById('ui-header-title').innerHTML = dict.header;
            document.getElementById('ui-visa-title').innerHTML = dict.visaTitle;
            document.getElementById('ui-lbl-pax').innerText = dict.lblPax;
            document.getElementById('ui-lbl-pass').innerText = dict.lblPass;
            document.getElementById('ui-lbl-nat').innerText = dict.lblNat;
            document.getElementById('ui-lbl-dest').innerText = dict.lblDest;
            document.getElementById('ui-lbl-vtype').innerText = dict.lblVtype;
            document.getElementById('ui-lbl-pnr').innerText = dict.lblPnr;
            document.getElementById('btn-visa').innerHTML = dict.btnVisa;

            document.getElementById('ui-doc-title').innerHTML = dict.docTitle;
            document.getElementById('ui-lbl-dtype').innerText = dict.lblDtype;
            document.getElementById('ui-lbl-pair').innerText = dict.lblPair;
            document.getElementById('ui-lbl-pages').innerText = dict.lblPages;
            document.getElementById('ui-lbl-urg').innerText = dict.lblUrg;
            document.getElementById('ui-lbl-assign').innerText = dict.lblAssign;
            document.getElementById('btn-dispatch').innerHTML = dict.btnDispatch;

            document.getElementById('ui-log-title').innerHTML = dict.logTitle;
            document.getElementById('btn-csv').innerHTML = dict.btnCsv;
            document.getElementById('ui-th-inv').innerText = dict.thInv;
            document.getElementById('ui-th-client').innerText = dict.thClient;
            document.getElementById('ui-th-desc').innerText = dict.thDesc;
            document.getElementById('ui-th-amt').innerText = dict.thAmt;
            document.getElementById('ui-th-stat').innerText = dict.thStat;
            
            renderSalesTable();
        }

        // --- SECURITY PERIMETER ---
        onAuthStateChanged(auth, (user) => {
            if (!user || user.uid !== ADMIN_UID) {
                document.body.innerHTML = "<h1 style='color:#ff4b5c; text-align:center; margin-top:20vh;'>ACCESS DENIED.</h1>";
                setTimeout(() => { window.location.href = "login.html"; }, 2000);
            } else {
                fetchEmployees();
                fetchSalesLogs();
            }
        });

        // --- FETCH EMPLOYEES FOR DISPATCH DROPDOWN ---
        async function fetchEmployees() {
            const select = document.getElementById('d-assignee');
            try {
                const snapshot = await getDocs(collection(db, "employees"));
                select.innerHTML = `<option value="" disabled selected>Select Active Operative</option>`;
                snapshot.forEach(docSnap => {
                    const emp = docSnap.data();
                    select.innerHTML += `<option value="${docSnap.id}">[${emp.empId}] ${emp.name} - ${emp.title}</option>`;
                });
            } catch(e) { select.innerHTML = `<option>Error loading registry</option>`; }
        }

        // --- FETCH SALES LOGS ---
        async function fetchSalesLogs() {
            const logBox = document.getElementById('sales-log');
            globalSalesData = [];
            try {
                const q = query(collection(db, "orders"), orderBy("timestamp", "desc"));
                const snapshot = await getDocs(q);
                
                if(snapshot.empty) { logBox.innerHTML = `<tr><td colspan='5'>No records.</td></tr>`; return; }

                snapshot.forEach(docSnap => {
                    const data = docSnap.data();
                    // Only push items that look like checkouts/invoices or internal dispatches
                    if(data.invoiceId || data.status) {
                        globalSalesData.push({
                            id: data.invoiceId || docSnap.id.substring(0,8).toUpperCase(),
                            client: data.clientName || "INTERNAL",
                            desc: data.docType || "Visa/Document",
                            amt: parseFloat(data.price || data.totalPrice || 0).toFixed(2),
                            status: data.status || "Completed",
                            date: data.createdAt || new Date().toLocaleDateString()
                        });
                    }
                });
                renderSalesTable();
            } catch(error) { logBox.innerHTML = `<tr><td colspan='5' style="color:red;">DB ERROR: ${error.message}</td></tr>`; }
        }

        function renderSalesTable() {
            const logBox = document.getElementById('sales-log');
            logBox.innerHTML = "";
            if(globalSalesData.length === 0) { logBox.innerHTML = `<tr><td colspan='5'>${dictionary[window.currentLang].msgEmpty}</td></tr>`; return; }

            globalSalesData.forEach(row => {
                logBox.innerHTML += `
                    <tr>
                        <td style="color:var(--term-cyan); font-weight:bold;">#${row.id}<br><span style="font-size:0.7rem; color:#888; font-weight:normal;">${row.date}</span></td>
                        <td>${row.client}</td>
                        <td>${row.desc}</td>
                        <td style="font-family:monospace; font-size:1.1rem;">${row.amt}</td>
                        <td><span class="badge b-paid">${row.status.toUpperCase()}</span></td>
                    </tr>
                `;
            });
        }

        // --- VISA SUBMIT ---
        document.getElementById('form-visa').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await addDoc(collection(db, "visas"), {
                    passenger: document.getElementById('v-name').value,
                    passport: document.getElementById('v-passport').value,
                    nationality: document.getElementById('v-nat').value,
                    destination: document.getElementById('v-dest').value,
                    type: document.getElementById('v-type').value,
                    pnr: document.getElementById('v-pnr').value,
                    issuedBy: "ALPHA COMMAND",
                    timestamp: serverTimestamp()
                });
                alert(dictionary[window.currentLang].msgSuccess);
                document.getElementById('form-visa').reset();
            } catch(err) { alert("ERROR: " + err.message); }
        });

        // --- DISPATCH SUBMIT ---
        document.getElementById('form-dispatch').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await addDoc(collection(db, "orders"), {
                    clientName: "INTERNAL DISPATCH",
                    docType: document.getElementById('d-type').value,
                    langFrom: document.getElementById('d-pair').value.split('>')[0] || "AUTO",
                    langTo: document.getElementById('d-pair').value.split('>')[1] || "AUTO",
                    pages: document.getElementById('d-pages').value,
                    urgency: document.getElementById('d-urg').value,
                    assignedTo: document.getElementById('d-assignee').value,
                    status: "Internal Processing",
                    price: "0.00",
                    createdAt: new Date().toLocaleDateString(),
                    timestamp: serverTimestamp()
                });
                alert(dictionary[window.currentLang].msgSuccess);
                document.getElementById('form-dispatch').reset();
                fetchSalesLogs(); // Refresh table
            } catch(err) { alert("ERROR: " + err.message); }
        });

        // --- BILINGUAL CSV EXPORT (WITH BOM) ---
        window.exportSalesCSV = function() {
            if(globalSalesData.length === 0) return;
            
            let csvContent = window.currentLang === 'en' ? 
                "Invoice ID,Date,Client,Description,Amount (JOD),Status\n" : 
                "رقم الفاتورة,التاريخ,العميل,التفاصيل,المبلغ (دينار),الحالة\n";
                
            globalSalesData.forEach(row => { csvContent += `"${row.id}","${row.date}","${row.client}","${row.desc}","${row.amt}","${row.status}"\n`; });
            
            // Inject UTF-8 BOM (\uFEFF) to fix Excel Arabic symbols
            const BOM = "\uFEFF"; 
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `Global_Sales_Ledger_${new Date().toLocaleDateString()}.csv`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        /* ============================================================
		   ALPHA COMMAND: UNIVERSAL SYSTEM LOGIC
		   Handles: Page Transitions, Return to Base, and Secure Logout
		   ============================================================ */
        // 1. DISCONNECT UPLINK (Secure Logout with Smart Routing)
		window.handleLogout = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;
			
			// --- SMART ROUTING: Check identity BEFORE killing the session ---
			const ADMIN_UID = "EOQEt04azKTTWcmNXVtpgSVsRxt2";
			let targetPage = "login_emp.html"; // Default to employee login
			
			// If the current user is the Admin, change the destination to admin_login.html
			if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
				targetPage = "admin_login.html"; 
			}
			
			// Update text based on current language
			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري قطع الاتصال المشفر<span class='dots'>...</span>" 
					: "DISCONNECTING SECURE UPLINK<span class='dots'>...</span>";
			}

			// Trigger glowing overlay
			if (loader) loader.classList.add('active');

			// Execute Firebase Sign Out
			setTimeout(() => {
				signOut(auth).then(() => { 
					window.location.href = targetPage; // Redirects dynamically based on who logged out
				}).catch((err) => {
					if (loader) loader.classList.remove('active');
					console.error("UPLINK FAILURE:", err);
					alert("DISCONNECT ERROR: " + err.message);
				});
			}, 800);
		};

		// 2. RETURN TO BASE (Home Navigation)
		window.handleReturnToBase = function() {
			const loader = document.getElementById('system-loader');
			const loaderText = loader ? loader.querySelector('.loader-text') : null;

			if (loaderText) {
				loaderText.innerHTML = (window.currentLang === 'ar') 
					? "جاري العودة للقاعدة الرئيسية<span class='dots'>...</span>" 
					: "RETURNING TO COMMAND BASE<span class='dots'>...</span>";
			}

			if (loader) loader.classList.add('active');

			// Smooth transition to public site
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 600);
		};
    </script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			// --- 1. AUTOMATIC ACTIVE MENU HIGHLIGHTING ---
			let currentPath = window.location.pathname.split('/').pop(); 
			if (currentPath === '') currentPath = 'admin_dashboard.html'; // Or employee_dashboard.html depending on the page

			const menuLinks = document.querySelectorAll('.admin-sidebar-menu a, .dash-sidebar a');
			
			menuLinks.forEach(link => {
				const linkHref = link.getAttribute('href');
				if (linkHref === currentPath) {
					link.classList.add('active');
				}
			});

			// --- 2. SYSTEM LOADER TRANSITIONS ---
			menuLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					const targetUrl = this.getAttribute('href');
					if (!targetUrl || targetUrl === '#' || targetUrl.startsWith('javascript')) return;

					e.preventDefault(); // Stop the hard jump
					
					// Grab the loader and fade it in
					const loader = document.getElementById('system-loader');
					if (loader) {
						loader.classList.add('active');
					}
					
					// Wait 500ms to show the cool animation, then load the next page
					setTimeout(() => {
						window.location.href = targetUrl;
					}, 500); 
				});
			});
		});
	</script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

26. (services.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Capabilities | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* TACTICAL BACKGROUND */
        .services-page {
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.9), rgba(11, 20, 38, 0.9)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding-top: 100px;
            min-height: 100vh;
        }

        /* HERO SECTION */
        .services-hero {
            text-align: center;
            padding: 60px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 40px;
        }

        .services-hero h1 {
            font-size: 3rem;
            color: var(--brand-cyan);
            margin-bottom: 15px;
            font-family: var(--font-primary);
        }

        .services-hero p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        /* SERVICES GRID */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding-bottom: 60px;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(0, 242, 255, 0.05);
            border-color: var(--brand-cyan);
            box-shadow: 0 10px 30px rgba(0, 242, 255, 0.15);
        }

        .card-icon {
            font-size: 2.5rem;
            color: var(--brand-magenta);
            margin-bottom: 20px;
            display: inline-block;
        }

        .glass-card:hover .card-icon {
            color: var(--brand-cyan);
            transform: scale(1.1);
            transition: 0.3s;
        }

        .glass-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: white;
        }

        .glass-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .service-features {
            list-style: none;
            padding: 0;
            margin: 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 15px;
        }

        .service-features li {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .service-features i {
            color: var(--brand-cyan);
            font-size: 0.7rem;
        }

        /* TACTICAL DECORATION */
        .card-corner {
            position: absolute;
            top: 15px; right: 15px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.7rem;
            color: rgba(255,255,255,0.2);
            letter-spacing: 2px;
        }
    </style>
</head>
<body class="services-page">

    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo-box" style="text-decoration: none;">
                    <div class="dna-logo">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <div class="brand-text">
                        <h3 data-i18n="brand_name">Al-Khat Al-Mudi</h3>
                        <span data-i18n="brand_sub">TRANSLATION SERVICES</span>
                    </div>
                </a>

                <div id="user-profile-section" class="user-status-hidden">
                    <a href="profile.html" class="user-orb">
                        <i class="fas fa-user-circle"></i>
                        <span id="user-display-name">Client</span>
                    </a>
                    <button onclick="handleLogout()" class="logout-link" data-i18n="menu_logout">Logout</button>
                </div>

                <a href="#menu" class="menu-toggle" id="menuToggle">
                    <span class="text" data-i18n="nav_menu">MENU</span>
                    <div class="hamburger"><span></span><span></span><span></span></div>
                </a>
            </nav>
        </div>
    </header>

    <main>
        <div class="services-hero">
            <div class="container">
                <h1 data-i18n="srv_hero_title">Operational Capabilities</h1>
                <p data-i18n="srv_hero_desc">Precision linguistic extraction and localization for all major sectors. Secure, certified, and strictly confidential.</p>
            </div>
        </div>

        <div class="container services-grid">
            
            <div class="glass-card">
                <div class="card-corner">S-01</div>
                <i class="fas fa-balance-scale card-icon"></i>
                <h3 data-i18n="srv_legal_title">Certified Legal Translation</h3>
                <p data-i18n="srv_legal_desc">Sworn translations accepted by embassies, ministries, and international courts. Full cryptographic confidentiality guaranteed.</p>
                <ul class="service-features">
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_contracts">Contracts & Agreements</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_certificates">Birth/Marriage Certificates</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_power">Power of Attorney</span></li>
                </ul>
            </div>

            <div class="glass-card">
                <div class="card-corner">S-02</div>
                <i class="fas fa-laptop-code card-icon"></i>
                <h3 data-i18n="srv_tech_title">Technical & IT Localization</h3>
                <p data-i18n="srv_tech_desc">Accurate translation of technical manuals, software interfaces, and complex engineering schematics.</p>
                <ul class="service-features">
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_software">App & Software UIs</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_manuals">User Manuals & Guides</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_data">Data Sheets</span></li>
                </ul>
            </div>

            <div class="glass-card">
                <div class="card-corner">S-03</div>
                <i class="fas fa-heartbeat card-icon"></i>
                <h3 data-i18n="srv_med_title">Medical & Scientific</h3>
                <p data-i18n="srv_med_desc">Error-free translation of clinical trials, patient records, and pharmaceutical documents by specialized linguistic agents.</p>
                <ul class="service-features">
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_reports">Medical Reports</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_clinical">Clinical Trials</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_pharma">Pharmaceutical Dossiers</span></li>
                </ul>
            </div>

            <div class="glass-card">
                <div class="card-corner">S-04</div>
                <i class="fas fa-chart-line card-icon"></i>
                <h3 data-i18n="srv_fin_title">Financial & Corporate</h3>
                <p data-i18n="srv_fin_desc">Clear, compliant translations of audits, tax reports, and global business communications.</p>
                <ul class="service-features">
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_audit">Audit Reports</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_bank">Bank Statements</span></li>
                    <li><i class="fas fa-check"></i> <span data-i18n="srv_feat_invest">Investment Portfolios</span></li>
                </ul>
            </div>

        </div>

        <div style="text-align: center; margin-bottom: 80px;">
            <a href="reservation.html" class="btn btn-primary" style="font-size: 1.2rem; padding: 15px 40px;" data-i18n="btn_initiate">INITIATE UPLINK (GET QUOTE)</a>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p data-i18n="footer_about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Secure, certified translation services for the modern era.
                    </p>
                    <div class="social-icons">
                        <a href="#" class="social-icon facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4 data-i18n="footer_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html" data-i18n="nav_home">Home</a></li>
                        <li><a href="services.html" data-i18n="nav_services">Services</a></li>
                        <li><a href="reservation.html" data-i18n="nav_quote">Get Quote</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4 data-i18n="footer_contact">Contact</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> <span data-i18n="contact_address">Marka Al-Shamaliya</span></li>
                        <li><i class="fas fa-phone-alt"></i> 078-077-0085</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p data-i18n="footer_copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>
        <div class="menu-content">
            <h4 class="menu-label" data-i18n="menu_nav_label">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" data-i18n="nav_home">Home</a></li>
                <li><a href="services.html" data-i18n="nav_services">Services</a></li>
                <li><a href="reservation.html" data-i18n="nav_quote">Get Quote</a></li>
                <li><a href="contacts.html" data-i18n="nav_contact">Contact Us</a></li>
            </ul>
            
            <h4 class="menu-label" data-i18n="menu_member_area">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" data-i18n="menu_login">Log In</a>
                <a href="signup.html" class="btn-auth signup" data-i18n="menu_signup">Sign Up</a>
            </div>

            <h4 class="menu-label" data-i18n="menu_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <script type="module" src="assets/js/global-auth.js"></script>
    <script src="assets/js/lang-engine.js"></script>
    <script src="assets/js/main.js"></script>

</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

27. (shop.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services & Products Shop | Al-Khat Al-Mudi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* TACTICAL BACKGROUND (Matches Profile/Index) */
        .shop-page {
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.9), rgba(11, 20, 38, 0.9)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding-top: 100px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .shop-container { flex: 1; padding: 40px 0; }
        
        .shop-header-text { text-align: center; margin-bottom: 50px; }
        .shop-header-text h2 { color: var(--brand-cyan); font-size: 2.5rem; margin-bottom: 10px; font-family: var(--font-primary); }
        .shop-header-text p { color: rgba(255,255,255,0.7); max-width: 600px; margin: 0 auto; line-height: 1.6; }

        /* PRODUCT GRID */
        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        /* GLASS PRODUCT CARDS */
        .product-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: transform 0.3s ease, border-color 0.3s ease;
            display: flex; flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--brand-cyan);
            background: rgba(0, 242, 255, 0.02);
        }

        .product-icon {
            font-size: 3.5rem;
            color: var(--brand-magenta);
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(255, 0, 255, 0.3));
        }

        .product-title { font-family: var(--font-primary); font-size: 1.4rem; margin-bottom: 15px; color: white; }
        .product-desc { font-size: 0.9rem; color: rgba(255,255,255,0.6); margin-bottom: 25px; flex-grow: 1; line-height: 1.6; }
        
        .product-price {
            font-size: 2rem; font-weight: 900; color: var(--brand-cyan);
            margin-bottom: 25px; font-family: var(--font-primary);
        }

        .btn-order {
            background: transparent; border: 2px solid var(--brand-cyan); color: var(--brand-cyan);
            padding: 12px 25px; border-radius: 30px; font-weight: bold; cursor: pointer; transition: 0.3s;
            text-transform: uppercase; letter-spacing: 1px; width: 100%;
        }
        .btn-order:hover { background: var(--brand-cyan); color: #0b1426; box-shadow: 0 0 20px rgba(0, 242, 255, 0.4); }

    </style>
</head>
<body class="shop-page">

    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo-box" style="text-decoration: none;">
                    <div class="dna-logo">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <div class="brand-text">
                        <h3>Al-Khat Al-Mudi</h3>
                        <span id="header-brand_sub">TRANSLATION SERVICES</span>
                    </div>
                </a>
                
                <div id="user-profile-section" class="user-status-hidden">
                    <a href="profile.html" class="user-orb">
                        <i class="fas fa-user-circle"></i>
                        <span id="user-display-name">Client</span>
                    </a>
                    <button onclick="handleLogout()" class="logout-link">Logout</button>
                </div>
                
                <a href="#menu" class="menu-toggle" id="menuToggle">
                    <span class="text" id="header-menu_btn">MENU</span>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </a>
            </nav>
        </div>
    </header>

    <main class="shop-container container">
        <div class="shop-header-text">
            <h2><i class="fas fa-store"></i> Service Emporium</h2>
            <p>Enhance your translation requests with our premium add-on services. Secure, fast, and globally recognized.</p>
        </div>

        <div class="shop-grid" id="dynamic-product-grid">
            <div style="text-align: center; color: rgba(255,255,255,0.6); grid-column: 1 / -1; padding: 50px;">
                <i class="fas fa-circle-notch fa-spin" style="font-size: 2rem; margin-bottom: 15px;"></i>
                <p>Loading premium services...</p>
            </div>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html" id="menu-home-footer">Home</a></li>
                        <li><a href="about.html" id="menu-about-footer">About Us</a></li>
                        <li><a href="services.html" id="menu-services-footer">Services</a></li>
                        <li><a href="reservation.html" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>
        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>
    
    <script src="assets/js/main.js"></script>
    <script src="assets/js/lang-engine.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
            authDomain: "al-khat-backend.firebaseapp.com",
            projectId: "al-khat-backend",
            storageBucket: "al-khat-backend.firebasestorage.app", // <--- THE CORRECT UPLINK
            messagingSenderId: "310033181926",
            appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app); // Initialize Firestore here

        // 1. AUTH CHECK FOR HEADER
        onAuthStateChanged(auth, (user) => {
            if (user) {
                document.getElementById('user-profile-section').classList.remove('user-status-hidden');
                document.getElementById('user-display-name').innerText = user.displayName || "Client";
                document.querySelector('.auth-buttons').style.display = 'none'; 
            }
        });

        // 2. DYNAMICALLY LOAD PRODUCTS FROM FIREBASE
        async function loadShopInventory() {
            const grid = document.getElementById('dynamic-product-grid');
            try {
                const q = query(collection(db, "shop_inventory"), orderBy("timestamp", "desc"));
                const snapshot = await getDocs(q);
                
                grid.innerHTML = ""; // Clear loader
                
                if(snapshot.empty) {
                    grid.innerHTML = `<div style="text-align:center; color:#aaa; grid-column: 1/-1;">Check back soon for new services!</div>`;
                    return;
                }

                // Alternate colors for a cool UI effect
                const colors = ["var(--brand-magenta)", "var(--brand-cyan)", "#ffc107", "#00ff88"];
                let colorIndex = 0;

                snapshot.forEach(docSnap => {
                    const data = docSnap.data();
                    const iconColor = colors[colorIndex % colors.length];
                    const priceFormatted = parseFloat(data.price).toFixed(2);
                    
                    grid.innerHTML += `
                        <div class="product-card">
                            <i class="${data.icon} product-icon" style="color: ${iconColor}; filter: drop-shadow(0 0 10px ${iconColor}40);"></i>
                            <h3 class="product-title">${data.title}</h3>
                            <p class="product-desc">${data.description}</p>
                            <div class="product-price">${priceFormatted} JOD</div>
                            <button class="btn-order" onclick="purchaseItem('${data.title.replace(/'/g, "\\'")}', '${priceFormatted}')">Order Now</button>
                        </div>
                    `;
                    colorIndex++;
                });

            } catch (error) {
                console.error("Store Error:", error);
                grid.innerHTML = `<div style="color:#ff4b5c; text-align:center; grid-column:1/-1;">Error establishing secure link to inventory databanks.</div>`;
            }
        }

        // Initialize Shop
        loadShopInventory();

        // 3. CHECKOUT PIPELINE HOOK
        window.purchaseItem = function(productName, price) {
            if (!auth.currentUser) {
                alert("Please log in or create an account to purchase shop items.");
                window.location.href = "login.html";
                return;
            }

            const params = new URLSearchParams({
                loc: "Online Shop",
                from: "N/A",
                to: "N/A",
                doc: productName,
                pages: "1",
                urgency: "Standard",
                price: price + " JOD"
            });

            window.location.href = 'checkout.html?' + params.toString();
        }

        window.handleLogout = function() { signOut(auth).then(() => { window.location.reload(); }); }
    </script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

28. (signup.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

"<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Al-Khat | Secure Registration</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <style>
        /* --- GLITCH FIX --- */
        html, body {
            overflow-x: hidden;
            width: 100%;
        }

        .auth-page {
            position: relative;
            min-height: 100vh;
            background-color: #0b1426; 
            background-image: 
                linear-gradient(rgba(11, 20, 38, 0.85), rgba(11, 20, 38, 0.85)),
                url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            flex-direction: column;
        }

        .auth-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 20px;
        }

        .auth-card {
            width: 100%;
            max-width: 450px;
            perspective: 1000px;
            z-index: 10;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-form {
            transition: transform 0.1s ease-out, box-shadow 0.3s ease;
            transform-style: preserve-3d;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            color: white;
        }

        .glass-form:hover {
            box-shadow: 0 20px 50px rgba(0, 242, 255, 0.15);
        }

        .tactical-dot {
            position: absolute;
            width: 8px; height: 8px;
            background: #ff4b5c; 
            border-radius: 50%;
            z-index: 0;
            opacity: 0.6;
        }

        .tactical-dot::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; height: 100%;
            border: 1px solid #ff4b5c;
            border-radius: 50%;
            animation: pulse-wave 3s infinite;
        }

        @keyframes pulse-wave {
            0% { width: 100%; height: 100%; opacity: 1; }
            100% { width: 800%; height: 800%; opacity: 0; }
        }

        .auth-footer-note {
            text-align: center;
            margin-top: 20px;
            color: rgba(255,255,255,0.7);
        }

        .auth-footer-note a {
            color: var(--brand-cyan);
            text-decoration: none;
            font-weight: 600;
        }
		
		/* --- OAUTH & DIVIDER UI --- */
		.auth-divider {
			position: relative;
			text-align: center;
			margin: 25px 0 20px;
		}

		.auth-divider::before {
			content: '';
			position: absolute;
			left: 0; top: 50%;
			width: 100%; height: 1px;
			background: rgba(255, 255, 255, 0.15);
			z-index: 1;
		}

		.auth-divider span {
			background: #111b2f; /* Blends with the glass panel */
			padding: 0 15px;
			color: rgba(255, 255, 255, 0.5);
			font-size: 0.8rem;
			position: relative;
			z-index: 2;
			text-transform: uppercase;
			letter-spacing: 1px;
		}

		.social-auth-grid {
			display: flex;
			gap: 15px;
			justify-content: center;
		}

		.btn-social {
			background: rgba(255, 255, 255, 0.05);
			border: 1px solid rgba(255, 255, 255, 0.15);
			color: white;
			width: 45px; height: 45px;
			border-radius: 50%;
			display: flex; align-items: center; justify-content: center;
			font-size: 1.2rem;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.btn-social:hover {
			background: var(--brand-cyan);
			border-color: var(--brand-cyan);
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(0, 242, 255, 0.3);
		}

		.forgot-pass-link {
			display: block;
			text-align: right;
			margin-top: -5px;
			margin-bottom: 15px;
			color: var(--brand-cyan);
			font-size: 0.8rem;
			text-decoration: none;
			transition: 0.3s;
		}

		.forgot-pass-link:hover {
			color: white;
		}
		
		/* --- GLOWING PASSWORD TOGGLE --- */
        .password-wrapper {
            position: relative;
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: rgba(255, 255, 255, 0.5);
            z-index: 10;
            transition: all 0.3s ease;
        }

        /* The Shining Effect */
        .password-toggle:hover, .password-toggle.active {
            color: #00f2ff;
            text-shadow: 0 0 10px rgba(0, 242, 255, 0.8), 0 0 20px rgba(0, 242, 255, 0.5);
        }
        
        /* Adjust the input so text doesn't hide behind the eye */
        .password-wrapper input {
            padding-right: 45px !important;
        }
    </style>
</head>
<body class="auth-page">

    <header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

    <main class="auth-container">
        <div class="auth-card">
            <form id="signup-form" class="glass-form">
				<div class="form-header">
					<h4 style="margin:0; font-size: 1.5rem; color: var(--brand-cyan);">Personnel Recruitment</h4>
					<p style="font-size: 0.85rem; opacity: 0.8;">Create your secure client profile</p>
				</div>

				<div class="form-group">
					<input type="text" id="signup-name" placeholder="Full Name" required>
					<i class="fas fa-user input-icon"></i>
				</div>

				<div class="form-group">
					<input type="email" id="signup-email" placeholder="Email Address" required>
					<i class="fas fa-envelope input-icon"></i>
				</div>

				<div class="form-group password-wrapper">
					<input type="password" id="signup-password" placeholder="Secure Password" required>
					<i class="fas fa-shield-alt input-icon"></i>
					<i class="fas fa-eye password-toggle" id="eye-signup" onclick="togglePassword('signup-password', 'eye-signup')"></i>
				</div>

				<button type="submit" id="signup-btn" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
					INITIALIZE PROFILE
				</button>

				<div class="auth-divider"><span>Or register via</span></div>
				
				<div class="social-auth-grid">
					<button type="button" class="btn-social" id="btn-google"><i class="fab fa-google"></i></button>
					<button type="button" class="btn-social" id="btn-facebook"><i class="fab fa-facebook-f"></i></button>
					<button type="button" class="btn-social" id="btn-twitter"><i class="fab fa-twitter"></i></button>
					<button type="button" class="btn-social" id="btn-github"><i class="fab fa-github"></i></button>
				</div>

				<div class="auth-footer-note">
					Already an agent? <a href="#" onclick="window.location.href='login.html' + window.location.search">Log In Here</a>
				</div>
			</form>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; 2026 Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            <div class="terminal-content">
                <h4 class="terminal-title">ENCRYPTING PERSONNEL DATA</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Establishing secure tunnel...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink">SECURE UPLOAD...</div>
            </div>
        </div>
    </div>
	
	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>

    <script>
        // TACTICAL DOTS
        const page = document.querySelector('.auth-page');
        for (let i = 0; i < 15; i++) {
            const dot = document.createElement('div');
            dot.className = 'tactical-dot';
            dot.style.top = Math.random() * 100 + '%';
            dot.style.left = Math.random() * 100 + '%';
            dot.style.animationDelay = Math.random() * 3 + 's';
            page.appendChild(dot);
        }

        // TACTICAL TILT (Safe Mode)
        const card = document.querySelector('.glass-form');
        const authCard = document.querySelector('.auth-card');

        authCard.addEventListener('mousemove', (e) => {
            const rect = authCard.getBoundingClientRect();
            const x = e.clientX - rect.left; 
            const y = e.clientY - rect.top;
            
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = ((y - centerY) / 20) * -1;
            const rotateY = (x - centerX) / 20;

            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        authCard.addEventListener('mouseleave', () => {
            card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
        });
    </script>
	
	<script>
        // PASSWORD VISIBILITY ENGINE
        window.togglePassword = function(inputId, iconId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(iconId);
            
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
                icon.classList.add('active'); // Triggers the cyan glow
            } else {
                input.type = "password";
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
                icon.classList.remove('active');
            }
        }
    </script>
        
    <script type="module">
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
		// IMPORT OAUTH & RESET TOOLS
		import { 
			getAuth, 
			signInWithEmailAndPassword, 
			createUserWithEmailAndPassword,
			updateProfile,
			sendPasswordResetEmail,
			signInWithPopup, 
			GoogleAuthProvider, 
			FacebookAuthProvider, 
			TwitterAuthProvider, 
			GithubAuthProvider 
		} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

		const firebaseConfig = {
			apiKey: "AIzaSyDT5mqFBwSBea1_5RMXv3_59V4Y5LUy5to",
			authDomain: "al-khat-backend.firebaseapp.com",
			projectId: "al-khat-backend",
			storageBucket: "al-khat-storage-doha",
			messagingSenderId: "310033181926",
			appId: "1:310033181926:web:9a028807fa7c7ab31c5f27"
		};

		const app = initializeApp(firebaseConfig);
		const auth = getAuth(app);

		const overlay = document.getElementById('processing-overlay');
		const logBox = document.getElementById('terminal-log');

		// --- STANDARD EMAIL SUBMIT (Works for both Login and Signup forms) ---
		const mainForm = document.querySelector('.glass-form');
		if(mainForm.id === 'login-form') {
			mainForm.addEventListener('submit', async (e) => {
				e.preventDefault();
				const email = document.getElementById('login-email').value;
				const password = document.getElementById('login-password').value;
				const btn = document.getElementById('login-btn');

				btn.disabled = true; btn.innerText = "LINKING..."; overlay.classList.add('active');
				try {
					await signInWithEmailAndPassword(auth, email, password);
					logBox.innerHTML += `<div class="log-line success">> IDENTITY CONFIRMED.</div>`;
					setTimeout(() => { window.location.href = "index.html"; }, 1500);
				} catch (error) {
					overlay.classList.remove('active'); btn.disabled = false; btn.innerText = "RETRY ACCESS";
					alert("ACCESS DENIED: " + error.message);
				}
			});

			// FORGOT PASSWORD LOGIC
			document.getElementById('forgot-password-btn').addEventListener('click', async () => {
				const email = document.getElementById('login-email').value;
				if(!email) {
					alert("Please enter your email address in the field above first.");
					return;
				}
				try {
					await sendPasswordResetEmail(auth, email);
					alert("Transmission Sent! Check your email for password reset instructions.");
				} catch (error) {
					alert("Error: " + error.message);
				}
			});
		} else {
			// SIGNUP LOGIC
			mainForm.addEventListener('submit', async (e) => {
				e.preventDefault();
				const name = document.getElementById('signup-name').value;
				const email = document.getElementById('signup-email').value;
				const password = document.getElementById('signup-password').value;
				const btn = document.getElementById('signup-btn');

				btn.disabled = true; btn.innerText = "AUTHENTICATING..."; overlay.classList.add('active');
				try {
					const cred = await createUserWithEmailAndPassword(auth, email, password);
					await updateProfile(cred.user, { displayName: name });
					
					// NEW: Smart Redirect Protocol
					const urlParams = new URLSearchParams(window.location.search);
					const redirectUrl = urlParams.get('redirect');

					logBox.innerHTML += `<div class="log-line success">> ACCOUNT GENERATED.</div>`;
					
					setTimeout(() => { 
						window.location.href = redirectUrl ? decodeURIComponent(redirectUrl) : "index.html"; 
					}, 1500);

				} catch (error) {
					overlay.classList.remove('active'); btn.disabled = false; btn.innerText = "RETRY";
					alert("GATEWAY ERROR: " + error.message);
				}
			});
		}

		// --- OAUTH LOGIC (Social Buttons) ---
		const handleOAuth = async (providerName) => {
			let provider;
			switch(providerName) {
				case 'google': provider = new GoogleAuthProvider(); break;
				case 'facebook': provider = new FacebookAuthProvider(); break;
				case 'twitter': provider = new TwitterAuthProvider(); break;
				case 'github': provider = new GithubAuthProvider(); break;
			}
			
			try {
				overlay.classList.add('active');
				logBox.innerHTML += `<div class="log-line">> Establishing External Link: ${providerName.toUpperCase()}...</div>`;
				await signInWithPopup(auth, provider);
				
				// NEW: Smart Redirect Protocol
				const urlParams = new URLSearchParams(window.location.search);
				const redirectUrl = urlParams.get('redirect');

				logBox.innerHTML += `<div class="log-line success">> EXTERNAL IDENTITY CONFIRMED.</div>`;
				
				setTimeout(() => { 
					window.location.href = redirectUrl ? decodeURIComponent(redirectUrl) : "index.html"; 
				}, 1500);

			} catch (error) {
				overlay.classList.remove('active');
				console.error(error);
				alert(`Failed to link with ${providerName}. Please check console or try another method.`);
			}
		};

		document.getElementById('btn-google').addEventListener('click', () => handleOAuth('google'));
		document.getElementById('btn-facebook').addEventListener('click', () => handleOAuth('facebook'));
		document.getElementById('btn-twitter').addEventListener('click', () => handleOAuth('twitter'));
		document.getElementById('btn-github').addEventListener('click', () => handleOAuth('github'));

	</script>
</body>
</html>"

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

29. ("translation.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

30. ("404.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

31. ("terms_conditions.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

32. ("privacy_policy.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

33. ("pci_dss_compliance.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

34. ("refund_policy.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

35. ("business.html" - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

36. (admin_corporates.html - Under Construction):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

37. (user_profile_edit.html):

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

""

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------