<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Khat Al-Mudi | Professional Translation Services</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
</head>

<style>
    /* Hide scrollbar for Chrome/Safari/Edge but keep functionality */
    #promo-track::-webkit-scrollbar { display: none; }
    
    .promo-card {
        min-width: 320px;
        max-width: 350px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 242, 255, 0.2);
        border-radius: 15px;
        padding: 25px;
        scroll-snap-align: start;
        color: white;
        position: relative;
        overflow: hidden;
        flex-shrink: 0;
    }
    
    .promo-badge {
        position: absolute;
        top: 15px; right: -30px;
        background: var(--brand-magenta);
        color: white;
        font-weight: bold;
        font-size: 0.8rem;
        padding: 5px 30px;
        transform: rotate(45deg);
        box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    .promo-price { margin: 15px 0; }
    .price-old { text-decoration: line-through; color: #888; font-size: 1rem; margin-right: 10px; }
    .price-new { color: var(--brand-cyan); font-size: 1.8rem; font-weight: 900; }
    
    .promo-reqs { font-size: 0.85rem; color: #aaa; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; margin-bottom: 20px; }
    
    .promo-actions { display: flex; gap: 10px; }
    .promo-actions button { flex: 1; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.3s;}
    .btn-buy { background: var(--brand-cyan); color: #000; }
    .btn-buy:hover { background: white; }
    .btn-inq { background: transparent; border: 1px solid white; color: white; }
    .btn-inq:hover { background: rgba(255,255,255,0.1); }
	
	.promo-img-box {
        height: 160px;
        background-color: #0b1426;
        margin: -25px -25px 15px -25px; /* Pulls image to the edges of the card */
        border-bottom: 1px solid rgba(0, 242, 255, 0.2);
        background-size: cover;
        background-position: center;
    }
</style>

<body>

		<header>
			<div class="container">
				<nav class="navbar">
					<a href="index.html" class="logo-box" style="text-decoration: none;">
						<div class="dna-logo">
							<div class="dna-drop dna-magenta"></div>
							<div class="dna-drop dna-cyan"></div>
						</div>
						<div class="brand-text">
							<h3>Al-Khat Al-Mudi</h3>
							<span id="header-brand_sub">TRANSLATION SERVICES</span>
						</div>
					</a>
					
					<div id="user-profile-section" class="user-status-hidden">
						<a href="profile.html" class="user-orb">
							<i class="fas fa-user-circle"></i>
							<span id="user-display-name">Client</span>
						</a>
						<button onclick="handleLogout()" class="logout-link">Logout</button>
					</div>
					
					<a href="#menu" class="menu-toggle" id="menuToggle">
						<span class="text" id="header-menu_btn">MENU</span>
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
						</div>
					</a>
					
				</nav>
			</div>
		</header>

		<section id="home" class="carousel">
			<div class="slide active">
				<div class="slide-bg bg-1"></div>
				<div class="slide-content">
					<h1 id="hero-slide1_title">Bridging Languages,<br>Connecting Worlds</h1>
					<p id="hero-slide1_desc">Amman's most trusted certified translation service. Accuracy you can rely on.</p>
					<a href="#reservation" class="btn btn-primary" id="hero-slide1_btn">Get a Free Quote</a>
				</div>
			</div>
			<div class="slide">
				<div class="slide-bg bg-2"></div>
				<div class="slide-content">
					<h1 id="hero-slide2_title">Official & Legal<br>Documentation</h1>
					<p id="hero-slide2_desc">Certified by the Ministry of Justice. We handle your contracts, visas, and certificates with speed.</p>
					<a href="#services" class="btn btn-primary" id="hero-slide2_btn">Our Services</a>
				</div>
			</div>
			<div class="slide">
				<div class="slide-bg bg-3"></div>
				<div class="slide-content dark-text">
					<h1 id="hero-slide3_title" style="color:var(--brand-navy)">The Luminous Line<br>of Communication</h1>
					<p id="hero-slide3_desc" style="color:var(--brand-dark)">Expert linguists located in the heart of Marka Al-Shamaliya.</p>
					<a href="#contact" class="btn btn-primary" id="hero-slide3_btn">Visit Our Office</a>
				</div>
			</div>

			<button class="carousel-btn prev" onclick="moveSlide(-1)"><i class="fas fa-chevron-left"></i></button>
			<button class="carousel-btn next" onclick="moveSlide(1)"><i class="fas fa-chevron-right"></i></button>
		</section>

		<section id="about" class="section-padding about-section">
			<div class="container">
				<div class="about-grid">
					<div class="about-image">
						<div class="about-shape">
							<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; text-align: center;">
								<i class="fas fa-language" style="font-size: 8rem; opacity: 0.2;"></i>
								<h2 style="font-size: 2rem; margin-top: 10px;">Since 2026</h2>
							</div>
						</div>
					</div>
					<div class="about-text">
						<h2 class="section-title" id="about-title">Who We Are</h2>
						<h3 class="arabic-text" id="about-arabic_name" style="color: var(--text-grey); margin-bottom: 20px; font-size: 1.5rem;">الخط المضيء للترجمة</h3>
						<p id="about-p1" style="margin-bottom: 20px; line-height: 1.8;">
							At <strong>Al-Khat Al-Mudi</strong> (The Luminous Line), we believe that translation is more than just swapping words; it’s about preserving meaning, tone, and intent. Located in Marka Al-Shamaliya, we serve individuals and businesses with certified translation services accepted by all government bodies and embassies in Jordan.
						</p>
						<p id="about-p2" style="margin-bottom: 30px; line-height: 1.8;">
							Whether you are a student applying abroad, a business expanding internationally, or dealing with complex legal documents, our team ensures your message remains clear and professional.
						</p>
						<div style="display: flex; gap: 20px;">
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_certified">Certified</span>
							</div>
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_confidential">Confidential</span>
							</div>
							<div>
								<i class="fas fa-check-circle" style="color: var(--brand-cyan);"></i> <span id="about-badge_fast">Fast</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		
		<section style="padding: 60px 0; background-color: #080d1a;" id="special-ops-section">
			<div class="container">
				<h2 style="color: var(--brand-cyan); margin-bottom: 30px; border-left: 4px solid var(--brand-magenta); padding-left: 15px;">
					<i class="fas fa-star"></i> CURRENT OPERATIONS & OFFERS
				</h2>
				
				<div id="promo-track" style="display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; scroll-snap-type: x mandatory; scrollbar-width: none;">
					<div style="color: white; opacity: 0.5;"><i class="fas fa-circle-notch fa-spin"></i> Scanning for active offers...</div>
				</div>
			</div>
		</section>

		<section id="reservation" class="section-padding" style="background: linear-gradient(135deg, #f8fafc 0%, #eef2f6 100%);">
			<div class="container">
				<div class="reservation-grid">
                
                <div class="reservation-text">
                    <h2 class="section-title" id="reservation-title">Get Your Quote</h2>
                    <h3 id="reservation-subtitle" style="font-size: 2rem; margin-bottom: 20px; color: var(--brand-navy);">Ready to Translate?</h3>
                    <p id="reservation-desc" style="margin-bottom: 30px; color: var(--text-light);">
                        Upload your documents securely and get a fast, certified quote within minutes. We respect your privacy and deadlines.
                    </p>

                    <div class="steps-container">
                        <div class="step-item">
                            <div class="step-number">01</div>
                            <div class="step-content">
                                <h4 id="reservation-step1_title">Upload File</h4>
                                <p id="reservation-step1_desc">Select your document (PDF, Word, Image)</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">02</div>
                            <div class="step-content">
                                <h4 id="reservation-step2_title">Select Details</h4>
                                <p id="reservation-step2_desc">Choose languages and urgency</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">03</div>
                            <div class="step-content">
                                <h4 id="reservation-step3_title">Receive Quote</h4>
                                <p id="reservation-step3_desc">We send you the price & time instantly</p>
                            </div>
                        </div>
                    </div>
                </div>

                <script type="text/javascript">
					function startServerSequence() {
						const overlay = document.getElementById('processing-overlay');
						const logBox = document.getElementById('terminal-log');
						const progressBar = document.getElementById('progress-bar');
						overlay.classList.add('active');

						// The "Hacker" Sequence
						const messages = [
							{ text: "> Secure Link Established (TLS 1.3)...", delay: 500 },
							{ text: "> File Upload Verified (Firebase Cloud)...", delay: 1500 }, // Updated Text
							{ text: "> Encrypting Metadata...", delay: 3000 },
							{ text: "> Handshaking with Google Forms API...", delay: 5000 },
							{ text: "> Packet Transmission Complete.", delay: 7000 },
							{ text: "> Ticket Generated Successfully.", delay: 8500 },
							{ text: "> DONE.", delay: 9500, type: "success" }
						];

						messages.forEach(msg => {
							setTimeout(() => {
								const p = document.createElement('div');
								p.className = `log-line ${msg.type || ''}`;
								p.innerText = msg.text;
								logBox.appendChild(p);
								// Auto-scroll to bottom
								logBox.scrollTop = logBox.scrollHeight;
							}, msg.delay);
						});

						let width = 0;
						const interval = setInterval(() => {
							width += 1;
							progressBar.style.width = width + '%';
							if (width >= 100) clearInterval(interval);
						}, 100);

						setTimeout(() => {
							alert('Request Received! We will review your documents and reply shortly.');
							window.location.reload();
						}, 10500);
					}
				</script>

					<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe> 

					<form id="main-request-form" class="glass-form" action="https://docs.google.com/forms/d/e/1FAIpQLScDbenz1p7B5GI6IVC6QlPTkgjvaCHWUTN4NDT6sK9y5J1g2Q/formResponse" method="post" target="hidden_iframe" onsubmit="processUploadAndSubmit(event);">
						
						<div class="form-header">
							<h4 id="reservation-form_header">Quick Request</h4>
						</div>
						
						<div class="form-group">
							<input type="text" id="reservation-ph_name" name="entry.2005620554" placeholder="Full Name" required>
							<i class="fas fa-user input-icon"></i>
						</div>

						<div class="form-row">
							<div class="form-group">
								<input type="email" id="reservation-ph_email" name="entry.84455640" placeholder="Email Address" required>
								<i class="fas fa-envelope input-icon"></i>
							</div>
							<div class="form-group">
								<input type="tel" id="reservation-ph_phone" name="entry.1065046570" placeholder="Phone Number" required>
								<i class="fas fa-phone input-icon"></i>
							</div>
						</div>

						<div class="form-row">
							<div class="form-group">
								<select name="entry.1166974658" required>
									<option value="" disabled selected id="reservation-ph_from">Translate From...</option>
									<option value="English">English</option>
									<option value="Arabic">Arabic</option>
									<option value="Russian">Russian</option>
								</select>
								<i class="fas fa-globe-americas input-icon"></i>
							</div>
							<div class="form-group">
								<select name="entry.839337160" required>
									<option value="" disabled selected id="reservation-ph_to">Translate To...</option>
									<option value="Arabic">Arabic</option>
									<option value="English">English</option>
									<option value="Russian">Russian</option>
								</select>
								<i class="fas fa-language input-icon"></i>
							</div>
						</div>

						<div class="form-group" style="margin-top: 15px;">
							<input type="file" id="real-file-input" style="display: none;" onchange="updateFileLabel()">
							
							<input type="hidden" id="google-entry-link" name="entry.1269480027">

							<label for="real-file-input" class="drop-zone-container" style="cursor: pointer;">
								<div class="drop-zone-visual">
									<i class="fas fa-cloud-upload-alt"></i>
									<span id="drop-label-text">Click to Select Document</span>
									<small>(PDF, DOCX, JPG supported)</small>
								</div>
							</label>
						</div>

						<button type="submit" class="btn btn-primary" id="reservation-btn_submit" style="width: 100%; margin-top: 20px;">Send Request</button>
					</form>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="section-padding services-section">
        <div class="container">
            <div style="text-align: center; max-width: 700px; margin: 0 auto;">
                <h2 class="section-title" id="services-section_title">Our Services</h2>
                <p id="services-section_desc">Comprehensive language solutions tailored to your specific needs.</p>
            </div>

            <div class="services-grid">
                <div class="service-card" onclick="openServiceModal('legal')" style="cursor: pointer;">
                    <i class="fas fa-gavel service-icon"></i>
                    <h3 id="services-s1_title">Legal Translation</h3>
                    <p id="services-s1_desc">Certified translation for contracts, court documents, and powers of attorney. Recognized by the Ministry of Justice.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('immigration')" style="cursor: pointer;">
                    <i class="fas fa-passport service-icon"></i>
                    <h3 id="services-s2_title">Immigration & Visas</h3>
                    <p id="services-s2_desc">Accurate translation of birth certificates, marriage licenses, and passports for embassy appointments.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('academic')" style="cursor: pointer;">
                    <i class="fas fa-graduation-cap service-icon"></i>
                    <h3 id="services-s3_title">Academic Translation</h3>
                    <p id="services-s3_desc">Translation of university transcripts, diplomas, and research papers for students studying abroad.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('website')" style="cursor: pointer;">
                    <i class="fas fa-laptop-code service-icon"></i>
                    <h3 id="services-s4_title">Website Localization</h3>
                    <p id="services-s4_desc">Adapt your digital content for new markets. We translate websites, apps, and software interfaces.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('medical')" style="cursor: pointer;">
                    <i class="fas fa-stethoscope service-icon"></i>
                    <h3 id="services-s5_title">Medical Translation</h3>
                    <p id="services-s5_desc">Precise translation of medical reports, prescriptions, and pharmaceutical documents.</p>
                </div>
                <div class="service-card" onclick="openServiceModal('proofreading')" style="cursor: pointer;">
                    <i class="fas fa-file-signature service-icon"></i>
                    <h3 id="services-s6_title">Proofreading</h3>
                    <p id="services-s6_desc">Polishing your existing documents to ensure grammatical perfection and stylistic consistency.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h2>20+</h2>
                    <p id="stats-languages">Languages Supported</p>
                </div>
                <div class="stat-item">
                    <h2>100%</h2>
                    <p id="stats-acceptance">Acceptance Rate</p>
                </div>
                <div class="stat-item">
                    <h2>500+</h2>
                    <p id="stats-clients">Happy Clients</p>
                </div>
                <div class="stat-item">
                    <h2>24h</h2>
                    <p id="stats-delivery">Express Delivery</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="dna-logo" style="margin-bottom: 20px;">
                        <div class="dna-drop dna-magenta"></div>
                        <div class="dna-drop dna-cyan"></div>
                    </div>
                    <h3 class="arabic-text">الخط المضيء للترجمة</h3>
                    <p id="footer-about_text" style="opacity: 0.7; line-height: 1.6; margin-bottom: 25px;">
                        Your partner in overcoming language barriers. We provide quality, speed, and reliability for all your translation needs.
                    </p>
                     <div class="social-icons">
                        <a href="https://www.facebook.com/share/1Gtg7R2phb/" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/alkhatalmudi" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/message/BFW6NB4D4ZLLL1" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon linkedin" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="menu-home-footer">Home</a></li>
                        <li><a href="#about" id="menu-about-footer">About Us</a></li>
                        <li><a href="#services" id="menu-services-footer">Services</a></li>
                        <li><a href="#reservation" id="menu-quote-footer">Get a Quote</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_legal">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="footer-privacy">Privacy Policy</a></li>
                        <li><a href="#" id="footer-terms">Terms of Service</a></li>
                        <li><a href="#">Confidentiality</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 id="footer-col_contact">Contact Us</h4>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Marka Al-Shamaliya, Nadi Al-Sibaq<br>Amran Mall, 3rd Floor, Office 15</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i>
                            <span>078-077-0085</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>alkhatalmudi@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p id="footer-copyright">&copy; <li><a href="https://alkhatalmudie.github.io/login_emp.html">2026</a></li> Al-Khat Al-Mudi Translation. All rights reserved.</p>
        </div>
    </footer>

    <div id="side-menu" class="menu-panel">
        <a href="javascript:void(0)" class="close-btn" id="closeMenu">&times;</a>

        <div class="menu-content">
            <h4 class="menu-label" id="menu-label_nav">NAVIGATION</h4>
            <ul class="main-links">
                <li><a href="index.html" id="menu-home">Home</a></li>
                <li class="dropdown-trigger">
                    <a href="javascript:void(0)"><span id="menu-pages">Pages</span> <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-list">
                        <li><a href="about.html" id="menu-about">About Us</a></li>
                        <li><a href="services.html" id="menu-services">Services</a></li>
                        <li><a href="translation.html" id="menu-translation">Translation Info</a></li>
                        <li><a href="packages.html" id="menu-packages">Packages & Pricing</a></li>
                        <li><a href="shop.html" id="menu-shop">Shop / Products</a></li>
                        <li><a href="reservation.html" id="menu-reservation">Book Reservation</a></li>
                        <li><a href="contacts.html" id="menu-contact">Contact Us</a></li>
                    </ul>
                </li>
            </ul>

            <h4 class="menu-label" id="menu-label_member">MEMBER AREA</h4>
            <div class="auth-buttons">
                <a href="login.html" class="btn-auth login" id="menu-login">Log In</a>
                <a href="signup.html" class="btn-auth signup" id="menu-signup">Sign Up</a>
            </div>

            <h4 class="menu-label" id="menu-label_region">REGION SELECT</h4>
            <div class="lang-grid">
                <a href="javascript:void(0)" onclick="switchLanguage('en')" class="lang-orb" title="English"><img src="images/GB.png" alt="English"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ar')" class="lang-orb" title="Arabic"><img src="images/Ar.png" alt="Arabic"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('du')" class="lang-orb" title="Dutch"><img src="images/Du.png" alt="Dutch"></a>
                <a href="javascript:void(0)" onclick="switchLanguage('ru')" class="lang-orb" title="Russian"><img src="images/Ru.png" alt="Russian"></a>
            </div>
        </div>
    </div>

    <div id="processing-overlay" class="server-overlay">
        <div class="terminal-box">
            <div class="dna-loader">
                <div class="dna-drop dna-magenta"></div>
                <div class="dna-drop dna-cyan"></div>
            </div>
            
            <div class="terminal-content">
                <h4 class="terminal-title" id="overlay-title">AL-KHAT SECURE GATEWAY v4.0</h4>
                <div id="terminal-log" class="terminal-log">
                    <span class="log-line">> Initializing request...</span>
                </div>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="status-blink" id="overlay-status">PROCESSING...</div>
            </div>
        </div>
    </div>
	
					<div id="upload-modal" class="modal-overlay">
						<div class="modal-box">
							<a href="javascript:void(0)" class="close-modal" onclick="closeUploadHelp()">&times;</a>
							
							<div class="modal-header">
								<div class="dna-logo small-logo">
									<div class="dna-drop dna-magenta"></div>
									<div class="dna-drop dna-cyan"></div>
								</div>
								<h3>&nbsp; &nbsp; &nbsp; How to Upload Files</h3>
							</div>

							<div class="modal-body">
								<p>For security reasons, we use secure links instead of direct uploads. Here is how to send us your files in 30 seconds:</p>
								
								<div class="tutorial-steps">
									<div class="step">
										<div class="step-num">1</div>
										<div class="step-text">
											<strong>Go to WeTransfer.com</strong>
											<span>It's free and requires no account.</span>
										</div>
										<a href="https://wetransfer.com/" target="_blank" class="btn-tiny">Open Site <i class="fas fa-external-link-alt"></i></a>
									</div>

									<div class="step">
										<div class="step-num">2</div>
										<div class="step-text">
											<strong>Upload Your File</strong>
											<span>Click "Upload files" and select your document.</span>
										</div>
									</div>

									<div class="step">
										<div class="step-num">3</div>
										<div class="step-text">
											<strong>Get Transfer Link</strong>
											<span>Click the <i class="fas fa-ellipsis-h"></i> (three dots) icon and select <strong>"Get transfer link"</strong>.</span>
										</div>
									</div>

									<div class="step">
										<div class="step-num">4</div>
										<div class="step-text">
											<strong>Paste & Send</strong>
											<span>Copy the link (e.g., https://we.tl/...) and paste it into our form box.</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
	
	<div id="service-modal" class="modal-overlay">
		<div class="modal-box">
			<a href="javascript:void(0)" class="close-modal" onclick="closeServiceModal()">&times;</a>
			
			<div class="modal-header">
				<div id="modal-service-icon" style="font-size: 2rem; color: var(--brand-cyan); margin-right: 15px;">
					</div>
				<h3 id="modal-service-title">Service Name</h3>
			</div>

			<div class="modal-body">
				<p id="modal-service-desc" style="margin-bottom: 25px; color: #555;">Description goes here...</p>
				
				<h4 style="color: var(--brand-navy); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 5px;">
					<i class="fas fa-stream"></i> Process Workflow
				</h4>
				
				<div class="tutorial-steps" id="modal-service-steps">
					</div>

				<div style="margin-top: 25px; text-align: center;">
					<a href="#reservation" onclick="closeServiceModal()" class="btn btn-primary" style="width: 100%;">Book This Service</a>
				</div>
			</div>
		</div>
	</div>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/lang-engine.js"></script>
	<script type="module" src="assets/js/global-auth.js"></script>
    <script>
        // Hero Carousel Logic
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        let slideInterval = setInterval(() => { moveSlide(1); }, 5000);

        function moveSlide(n) {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => { moveSlide(1); }, 5000);
            slides[slideIndex].classList.remove('active');
            slideIndex += n;
            if (slideIndex >= totalSlides) { slideIndex = 0; }
            if (slideIndex < 0) { slideIndex = totalSlides - 1; }
            slides[slideIndex].classList.add('active');
        }
		
		/* ==========================================================================
		   SERVICE MODAL ENGINE (MULTILINGUAL UPGRADE)
		   ========================================================================== */
		const serviceData = {
			en: {
				workflowTitle: "Process Workflow",
				bookBtn: "Book This Service",
				services: {
					legal: { title: "Legal Translation", desc: "Certified translation for contracts, court documents, and powers of attorney. Recognized by the Ministry of Justice and all major embassies.", steps: ["Document Assessment", "Certified Translation", "Legal Proofreading", "Official Stamping"] },
					immigration: { title: "Immigration & Visas", desc: "Accurate translation of birth certificates, marriage licenses, and passports required for embassy appointments and residency applications.", steps: ["ID Verification", "Standardized Translation", "Consistency Check", "Embassy-Ready Delivery"] },
					academic: { title: "Academic Translation", desc: "Translation of university transcripts, diplomas, and research papers for students applying to international universities.", steps: ["Grade Conversion", "Terminological Accuracy", "Formatting Sync", "Final Certification"] },
					website: { title: "Website Localization", desc: "Adapt your digital content for new markets. We translate websites, apps, and software interfaces while maintaining UI integrity.", steps: ["String Extraction", "Cultural Adaptation", "UI/UX Review", "Linguistic Testing"] },
					medical: { title: "Medical Translation", desc: "Precise translation of medical reports, prescriptions, and pharmaceutical documents handled by specialized medical linguists.", steps: ["Terminology Scan", "Expert Translation", "Confidentiality Audit", "Medical Review"] },
					proofreading: { title: "Proofreading", desc: "Polishing your existing documents to ensure grammatical perfection, stylistic consistency, and natural-sounding language.", steps: ["Grammar Audit", "Style Adjustment", "Flow Optimization", "Final Polish"] }
				}
			},
			ar: {
				workflowTitle: "خطوات العمل",
				bookBtn: "احجز هذه الخدمة",
				services: {
					legal: { title: "الترجمة القانونية", desc: "ترجمة معتمدة للعقود، وثائق المحاكم، والوكالات. معترف بها من قبل وزارة العدل والسفارات.", steps: ["تقييم المستند", "ترجمة معتمدة", "تدقيق قانوني", "الختم الرسمي"] },
					immigration: { title: "الهجرة والتأشيرات", desc: "ترجمة دقيقة لشهادات الميلاد وعقود الزواج وجوازات السفر المطلوبة لمواعيد السفارات.", steps: ["التحقق من الهوية", "ترجمة موحدة", "فحص التطابق", "تسليم جاهز للسفارة"] },
					academic: { title: "الترجمة الأكاديمية", desc: "ترجمة كشوف الدرجات الجامعية والدبلومات والأبحاث للطلاب المتقدمين للجامعات الدولية.", steps: ["تحويل الدرجات", "دقة المصطلحات", "تنسيق متطابق", "الاعتماد النهائي"] },
					website: { title: "تعريب المواقع", desc: "تكييف المحتوى الرقمي للأسواق الجديدة. نترجم المواقع والتطبيقات وواجهات البرامج.", steps: ["استخراج النصوص", "تكييف ثقافي", "مراجعة واجهة المستخدم", "اختبار لغوي"] },
					medical: { title: "الترجمة الطبية", desc: "ترجمة دقيقة للتقارير الطبية والوصفات الطبية والوثائق الصيدلانية من قبل لغويين متخصصين.", steps: ["فحص المصطلحات", "ترجمة متخصصة", "مراجعة السرية", "تدقيق طبي"] },
					proofreading: { title: "التدقيق اللغوي", desc: "صقل مستنداتك الحالية لضمان الكمال النحوي والاتساق الأسلوبي واللغة الطبيعية.", steps: ["تدقيق نحوي", "تعديل الأسلوب", "تحسين التدفق", "اللمسات النهائية"] }
				}
			},
			ru: {
				workflowTitle: "Рабочий Процесс",
				bookBtn: "Заказать услугу",
				services: {
					legal: { title: "Юридический перевод", desc: "Заверенный перевод договоров, судебных документов и доверенностей.", steps: ["Оценка документа", "Заверенный перевод", "Юридическая проверка", "Официальная печать"] },
					immigration: { title: "Иммиграция и визы", desc: "Точный перевод свидетельств о рождении, браке и паспортов для посольств.", steps: ["Проверка ID", "Стандартный перевод", "Проверка соответствия", "Готовность для посольства"] },
					academic: { title: "Академический перевод", desc: "Перевод выписок, дипломов и исследовательских работ для студентов.", steps: ["Конвертация оценок", "Точность терминов", "Синхронизация формата", "Финальная сертификация"] },
					website: { title: "Локализация сайтов", desc: "Адаптация цифрового контента для новых рынков (сайты, приложения, ПО).", steps: ["Извлечение строк", "Культурная адаптация", "Обзор UI/UX", "Тестирование"] },
					medical: { title: "Медицинский перевод", desc: "Точный перевод медицинских заключений и рецептов специалистами.", steps: ["Сканирование терминов", "Экспертный перевод", "Аудит конфиденциальности", "Мед. проверка"] },
					proofreading: { title: "Вычитка", desc: "Доработка документов для обеспечения грамматического совершенства.", steps: ["Грамматический аудит", "Корректировка стиля", "Оптимизация потока", "Финальная правка"] }
				}
			},
			du: { // Mapped to German logic based on your flag setup
				workflowTitle: "Arbeitsablauf",
				bookBtn: "Diesen Service buchen",
				services: {
					legal: { title: "Juristische Übersetzung", desc: "Beglaubigte Übersetzung von Verträgen, Gerichtsdokumenten und Vollmachten.", steps: ["Dokumentenprüfung", "Beglaubigte Übersetzung", "Juristisches Lektorat", "Offizielle Stempelung"] },
					immigration: { title: "Einwanderung & Visa", desc: "Genaue Übersetzung von Geburtsurkunden, Heiratsurkunden und Pässen.", steps: ["ID-Überprüfung", "Standardisierte Übersetzung", "Konsistenzprüfung", "Botschaftsfertige Lieferung"] },
					academic: { title: "Akademische Übersetzung", desc: "Übersetzung von Universitätszeugnissen, Diplomen und Forschungsarbeiten.", steps: ["Notenumrechnung", "Terminologische Genauigkeit", "Format-Synchronisierung", "Endgültige Zertifizierung"] },
					website: { title: "Website-Lokalisierung", desc: "Passen Sie Ihre digitalen Inhalte an neue Märkte an.", steps: ["Textextraktion", "Kulturelle Anpassung", "UI/UX-Überprüfung", "Linguistisches Testen"] },
					medical: { title: "Medizinische Übersetzung", desc: "Präzise Übersetzung von medizinischen Berichten und Rezepten.", steps: ["Terminologie-Scan", "Fachübersetzung", "Vertraulichkeitsprüfung", "Medizinische Überprüfung"] },
					proofreading: { title: "Korrekturlesen", desc: "Aufpolieren Ihrer vorhandenen Dokumente für grammatikalische Perfektion.", steps: ["Grammatikprüfung", "Stilanpassung", "Flussoptimierung", "Letzter Feinschliff"] }
				}
			}
		};

		window.openServiceModal = function(serviceKey) {
			// 1. Detect Language
			const currentLang = localStorage.getItem('site-lang') || 'en';
			const langData = serviceData[currentLang] || serviceData['en'];
			const data = langData.services[serviceKey];
			if (!data) return;

			// 2. Map the icons independently of the language
			const icons = {
				legal: "fas fa-gavel", immigration: "fas fa-passport", academic: "fas fa-graduation-cap",
				website: "fas fa-laptop-code", medical: "fas fa-stethoscope", proofreading: "fas fa-file-signature"
			};

			// 3. Inject Content
			document.getElementById('modal-service-title').innerText = data.title;
			document.getElementById('modal-service-desc').innerText = data.desc;
			document.getElementById('modal-service-icon').innerHTML = `<i class="${icons[serviceKey]}"></i>`;
			
			// 4. Translate UI Headers & Buttons inside the modal
			const workflowHeader = document.querySelector('#service-modal h4');
			if(workflowHeader) workflowHeader.innerHTML = `<i class="fas fa-stream"></i> ${langData.workflowTitle}`;
			const bookBtn = document.querySelector('#service-modal .btn-primary');
			if(bookBtn) bookBtn.innerText = langData.bookBtn;

			// 5. Flip Direction for Arabic
			const modalBody = document.querySelector('#service-modal .modal-body');
			if(currentLang === 'ar') {
				modalBody.style.textAlign = 'right';
				modalBody.style.direction = 'rtl';
			} else {
				modalBody.style.textAlign = 'left';
				modalBody.style.direction = 'ltr';
			}

			// 6. Clear and Build Steps
			const stepsContainer = document.getElementById('modal-service-steps');
			stepsContainer.innerHTML = "";
			data.steps.forEach((step, index) => {
				const stepHtml = `
					<div class="step">
						<div class="step-num">${index + 1}</div>
						<div class="step-text"><strong>${step}</strong></div>
					</div>`;
				stepsContainer.innerHTML += stepHtml;
			});

			// Show Modal
			document.getElementById('service-modal').classList.add('active');
		}

		window.closeServiceModal = function() {
			document.getElementById('service-modal').classList.remove('active');
		}

		// Close modal when clicking outside the box
		window.addEventListener('click', (e) => {
			const modal = document.getElementById('service-modal');
			if (e.target === modal) closeServiceModal();
		});
    </script>
	
	<script type="module">
		// 1. IMPORT FIREBASE-INIT FIRST
        // This forces firebase-init.js to run before anything else, 
        // ensuring the App is initialized exactly once.
        import './assets/js/firebase-init.js'; 

        import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";

		// 2. REMOVE THE MANUAL CONFIG & INITIALIZATION
        // Instead of defining firebaseConfig here again, we just grab the app 
        // that firebase-init.js already created.
        const app = getApp(); 
        const db = getFirestore(app);

		async function loadPromotions() {
			const track = document.getElementById('promo-track');
			const section = document.getElementById('special-ops-section');
			
			// 1. Detect active language (defaults to English)
			const currentLang = localStorage.getItem('site-lang') || 'en';
			
			// 2. Multilingual Matrix for Ad Cards ('du' maps to your German/Dutch switch)
			const adDict = {
				en: { badge: "LIMITED", offer: "Offer:", was: "was", valid: "Valid:", reqs: "Requirements:", btnRes: "Reserve", btnInq: "Inquiry" },
				ar: { badge: "حصري", offer: "العرض:", was: "بدلاً من", valid: "صالح:", reqs: "المتطلبات:", btnRes: "حجز", btnInq: "استفسار" },
				ru: { badge: "ОГРАНИЧЕНО", offer: "Предложение:", was: "было", valid: "Действителен:", reqs: "Требования:", btnRes: "Забронировать", btnInq: "Запрос" },
				du: { badge: "BEGRENZT", offer: "Angebot:", was: "war", valid: "Gültig:", reqs: "Anforderungen:", btnRes: "Reservieren", btnInq: "Anfrage" }
			};
			const ui = adDict[currentLang] || adDict['en'];

			try {
				const q = query(collection(db, "promotions"), orderBy("timestamp", "desc"));
				const snapshot = await getDocs(q);
				
				if(snapshot.empty) {
					section.style.display = 'none'; 
					return;
				}

				track.innerHTML = ""; // Clear loader

				snapshot.forEach(docSnap => {
					const data = docSnap.data();
					
					// Format requirements into a list
					const reqsList = data.reqs.split(',').map(item => `<li><i class="fas fa-check" style="color:#00ff88; margin-right:5px;"></i> ${item.trim()}</li>`).join('');

					// Determine alignment for Arabic RTL
					const alignStyle = currentLang === 'ar' ? 'text-align: right; direction: rtl;' : 'text-align: left; direction: ltr;';
					
					// NEW: Determine if an image exists, otherwise show a cool default pattern
                    const imgHtml = data.imageUrl 
                        ? `<div class="promo-img-box" style="background-image: url('${data.imageUrl}')"></div>` 
                        : `<div class="promo-img-box" style="display:flex; align-items:center; justify-content:center; background: linear-gradient(45deg, #0b1426, #1a2a4a);"><i class="fas fa-image" style="font-size: 3rem; opacity: 0.1;"></i></div>`;

					track.innerHTML += `
                        <div class="promo-card" style="${alignStyle}">
                            ${imgHtml} <div class="promo-badge">${ui.badge}</div>
                            <h3 style="margin-top:0; color:white;">${data.name}</h3>
                            <p style="font-size:0.9rem; color:#ccc;">${data.desc}</p>
                            
                            <div class="promo-price">
                                <span class="price-old" style="margin: 0 10px;">${ui.was} <strike>$${data.oldPrice}</strike></span>
                                <span class="price-new">$${data.newPrice}</span>
                            </div>

                            <div style="font-size: 0.75rem; color: #ff4b5c; margin-bottom: 15px;">
                                <i class="fas fa-clock"></i> ${ui.valid} ${data.startDate} ➝ ${data.endDate}
                            </div>

                            <div class="promo-reqs" style="${alignStyle}">
                                <strong>${ui.reqs}</strong>
                                <ul style="list-style:none; padding:0; margin: 5px 0 0 0;">
                                    ${reqsList}
                                </ul>
                            </div>

                            <div class="promo-actions">
                                <button class="btn-buy" onclick="window.location.href='products_services_room.html?pkg=${docSnap.id}'">${ui.btnRes}</button>
                                <button class="btn-inq" onclick="window.location.href='contacts.html'">${ui.btnInq}</button>
                            </div>
                        </div>
                    `;
                });
			} catch (error) {
				console.error("Promo Engine Error:", error);
				track.innerHTML = "<p style='color:red;'>Failed to load signals.</p>";
			}
		}

		// Initialize when page loads
		document.addEventListener('DOMContentLoaded', loadPromotions);
	</script>
	
	<script type="module">
		import { storage, ref, uploadBytes, getDownloadURL } from './assets/js/firebase-init.js';
		// Add these to the top of your main.js if not already imported via a module
		import { getAuth } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

		// 1. Update File Selection UI
		window.updateFileLabel = function() {
			const input = document.getElementById('real-file-input');
			const label = document.getElementById('drop-label-text');
			if(input.files.length > 0) {
				label.innerText = "READY: " + input.files[0].name;
				label.style.color = "#00f2ff"; // Cyan highlight
				label.style.fontWeight = "bold";
			}
		}

		// 2. The Main Processing Logic
		window.processUploadAndSubmit = async function(e) {
			e.preventDefault(); 

			const fileInput = document.getElementById('real-file-input');
			const googleInput = document.getElementById('google-entry-link'); 
			const submitBtn = document.getElementById('reservation-btn_submit');
			const form = document.getElementById('main-request-form');
			
			if(fileInput.files.length === 0) {
				alert("Please select a document for translation.");
				return;
			}

			// Lock UI
			submitBtn.innerText = "SECURING CONNECTION...";
			submitBtn.disabled = true;

			try {
				const file = fileInput.files[0];
				const fileName = Date.now() + '_' + file.name; 
				const storageRef = ref(storage, 'client_uploads/' + fileName);

				// Trigger the visual "Hacker Sequence" first
				if (typeof startServerSequence === "function") {
					startServerSequence();
				}

				// Perform the real background upload
				const snapshot = await uploadBytes(storageRef, file);
				const downloadURL = await getDownloadURL(snapshot.ref);
				
				// Inject URL for Google Forms
				googleInput.value = downloadURL;

				// Submit to Google Form via the hidden iframe
				form.submit();

			} catch (error) {
				console.error("Transmission Error:", error);
				alert("Gateway Error: " + error.message);
				submitBtn.disabled = false;
				submitBtn.innerText = "Retry Transmission";
			}
		}
	</script>
</body>
</html>